<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!--
  This file is a part of the open-eBackup project.
  This Source Code Form is subject to the terms of the Mozilla Public License, v. 2.0.
  If a copy of the MPL was not distributed with this file, You can obtain one at
  http://mozilla.org/MPL/2.0/.
  
  Copyright (c) [2024] Huawei Technologies Co.,Ltd.
  
  THIS SOFTWARE IS PROVIDED ON AN "AS IS" BASIS, WITHOUT WARRANTIES OF ANY KIND,
  EITHER EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO NON-INFRINGEMENT,
  MERCHANTABILITY OR FIT FOR A PARTICULAR PURPOSE.
  -->

<html lang="en-us" xml:lang="en-us">
 <head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="DC.Type" content="topic">
  <meta name="DC.Title" content="Step 2: Registering the FusionCompute Virtualization Environment">
  <meta name="product" content="">
  <meta name="DC.Relation" scheme="URI" content="fc_gud_0013_0.html">
  <meta name="prodname" content="">
  <meta name="version" content="">
  <meta name="brand" content="30-OceanProtect Appliance 1.5.0-1.6.0 Help Center">
  <meta name="DC.Publisher" content="20241029">
  <meta name="prodname" content="csbs">
  <meta name="documenttype" content="usermanual">
  <meta name="DC.Format" content="XHTML">
  <meta name="DC.Identifier" content="fc_gud_0015_0">
  <meta name="DC.Language" content="en-us">
  <link rel="stylesheet" type="text/css" href="public_sys-resources/commonltr.css">
  <title>Step 2: Registering the FusionCompute Virtualization Environment</title>
 </head>
 <body style="clear:both; padding-left:10px; padding-top:5px; padding-right:5px; padding-bottom:5px">
  <a name="fc_gud_0015_0"></a><a name="fc_gud_0015_0"></a>
  <h1 class="topictitle1">Step 2: Registering the FusionCompute Virtualization Environment</h1>
  <div>
   <p>Before performing FusionCompute backup and restoration, you must register the FusionCompute virtualization environment with the <span>product</span>.</p>
   <div class="section">
    <h4 class="sectiontitle">Procedure</h4>
    <ol>
     <li><span>Choose <span class="uicontrol" id="fc_gud_0015_0__en-us_topic_0000001839142377_uicontrol138292612376"><b><span id="fc_gud_0015_0__en-us_topic_0000001839142377_text1838292612372"><strong>Protection</strong></span> &gt; Virtualization &gt; FusionCompute</b></span>.</span></li>
     <li><span>Click <span class="uicontrol"><b><span><strong>Register</strong></span></b></span>, and register the FusionCompute virtualization platform.</span><p></p>
      <div class="p">
       <a href="#fc_gud_0015_0__table613227155112">Table 1</a> lists the FusionCompute registration information. 
       <div class="tablenoborder">
        <a name="fc_gud_0015_0__table613227155112"></a><a name="table613227155112"></a>
        <table cellpadding="4" cellspacing="0" summary="" id="fc_gud_0015_0__table613227155112" frame="border" border="1" rules="all">
         <caption>
          <b>Table 1 </b>FusionCompute registration information
         </caption>
         <colgroup>
          <col style="width:25.629999999999995%">
          <col style="width:74.37%">
         </colgroup>
         <thead align="left">
          <tr>
           <th align="left" class="cellrowborder" valign="top" width="25.629999999999995%" id="mcps1.3.2.2.2.2.1.2.2.3.1.1"><p>Parameter</p></th>
           <th align="left" class="cellrowborder" valign="top" width="74.37%" id="mcps1.3.2.2.2.2.1.2.2.3.1.2"><p>Description</p></th>
          </tr>
         </thead>
         <tbody>
          <tr>
           <td class="cellrowborder" valign="top" width="25.629999999999995%" headers="mcps1.3.2.2.2.2.1.2.2.3.1.1 "><p><span><strong>Name</strong></span></p></td>
           <td class="cellrowborder" valign="top" width="74.37%" headers="mcps1.3.2.2.2.2.1.2.2.3.1.2 "><p>User-defined virtualization platform name.</p></td>
          </tr>
          <tr>
           <td class="cellrowborder" valign="top" width="25.629999999999995%" headers="mcps1.3.2.2.2.2.1.2.2.3.1.1 "><p><span><strong>IP Address</strong></span></p></td>
           <td class="cellrowborder" valign="top" width="74.37%" headers="mcps1.3.2.2.2.2.1.2.2.3.1.2 "><p>This IP address is used by the <span>product</span> to access FusionCompute and back up and restore VMs.</p> <p>Set this IP address to the VRM floating IP address.</p></td>
          </tr>
          <tr>
           <td class="cellrowborder" valign="top" width="25.629999999999995%" headers="mcps1.3.2.2.2.2.1.2.2.3.1.1 "><p><span><strong>Username</strong></span></p></td>
           <td class="cellrowborder" rowspan="2" valign="top" width="74.37%" headers="mcps1.3.2.2.2.2.1.2.2.3.1.2 "><p>Use the username and password for interconnection in <a href="fc_gud_0014_0.html">Step 1: Create a FusionCompute Interconnection User</a>.</p></td>
          </tr>
          <tr>
           <td class="cellrowborder" valign="top" headers="mcps1.3.2.2.2.2.1.2.2.3.1.1 "><p><span><strong>Password</strong></span></p></td>
          </tr>
          <tr>
           <td class="cellrowborder" valign="top" width="25.629999999999995%" headers="mcps1.3.2.2.2.2.1.2.2.3.1.1 "><p><span><strong>Port</strong></span></p></td>
           <td class="cellrowborder" valign="top" width="74.37%" headers="mcps1.3.2.2.2.2.1.2.2.3.1.2 "><p>Port number for the communication between the <span>product</span> and the FusionCompute management plane.</p> <p>The default port number is <strong>7443</strong>.</p></td>
          </tr>
          <tr>
           <td class="cellrowborder" valign="top" width="25.629999999999995%" headers="mcps1.3.2.2.2.2.1.2.2.3.1.1 "><p><span><strong>Agent Host</strong></span></p></td>
           <td class="cellrowborder" valign="top" width="74.37%" headers="mcps1.3.2.2.2.2.1.2.2.3.1.2 "><p>Select an agent host used for backup and restoration.</p></td>
          </tr>
          <tr>
           <td class="cellrowborder" valign="top" width="25.629999999999995%" headers="mcps1.3.2.2.2.2.1.2.2.3.1.1 "><p><span><strong>Certificate verification</strong></span></p></td>
           <td class="cellrowborder" valign="top" width="74.37%" headers="mcps1.3.2.2.2.2.1.2.2.3.1.2 "><p>This function is enabled by default. During FusionCompute virtualization environment registration, the system verifies the information about the accessed devices. After this function is disabled, security risks may exist in the communication between the system and FusionCompute. Exercise caution when performing this operation.</p></td>
          </tr>
          <tr>
           <td class="cellrowborder" valign="top" width="25.629999999999995%" headers="mcps1.3.2.2.2.2.1.2.2.3.1.1 "><p><span><strong>Certificate</strong></span></p></td>
           <td class="cellrowborder" valign="top" width="74.37%" headers="mcps1.3.2.2.2.2.1.2.2.3.1.2 "><p>After <span class="uicontrol"><b><span><strong>Certificate verification</strong></span></b></span> is enabled, import the CA certificate. The certificate can be obtained by the following method:</p>
            <ol type="a">
             <li id="fc_gud_0015_0__li1771751111138"><a name="fc_gud_0015_0__li1771751111138"></a><a name="li1771751111138"></a>Use PuTTY to log in to the agent host.</li>
             <li>Run the following command. The values of <em>VRM IP</em> and <em>Port </em>must be the same as those in the table.<pre class="screen">openssl s_client -connect <em>VRM IP:</em><em>port </em>-showcerts</pre></li>
             <li>In the command output, copy the content of the last certificate to any new file, and rename the file as <em>xx</em><strong>.pem</strong>. <em>xx</em> is user-defined, and <em>xx</em><strong>.pem</strong> is the certificate to be imported.</li>
            </ol> <pre class="screen">-----BEGIN CERTIFICATE-----
...(The details are omitted.)
-----END CERTIFICATE-----</pre></td>
          </tr>
          <tr>
           <td class="cellrowborder" valign="top" width="25.629999999999995%" headers="mcps1.3.2.2.2.2.1.2.2.3.1.1 "><p><span><strong>Revocation List</strong></span></p></td>
           <td class="cellrowborder" valign="top" width="74.37%" headers="mcps1.3.2.2.2.2.1.2.2.3.1.2 "><p>After the certificate revocation list (CRL) is imported, the system checks whether the client certificate has been revoked. If the certificate has been revoked, cluster registration fails.</p></td>
          </tr>
         </tbody>
        </table>
       </div>
      </div> <p></p></li>
     <li><span>If the datastore type of the VM disk contains eVol storage, perform this step to add storage resources. Otherwise, skip this step.</span><p></p>
      <ol type="a">
       <li>In the <strong><span><strong>Storage Resources</strong></span></strong> area, click <span class="uicontrol"><b><span><strong>Add</strong></span></b></span>.</li>
       <li>Configure parameters as required. <a href="#fc_gud_0015_0__table20829151954610">Table 2</a> describes the parameters. 
        <div class="tablenoborder">
         <a name="fc_gud_0015_0__table20829151954610"></a><a name="table20829151954610"></a>
         <table cellpadding="4" cellspacing="0" summary="" id="fc_gud_0015_0__table20829151954610" frame="border" border="1" rules="all">
          <caption>
           <b>Table 2 </b>Parameters for adding storage resources
          </caption>
          <colgroup>
           <col style="width:25.629999999999995%">
           <col style="width:74.37%">
          </colgroup>
          <thead align="left">
           <tr>
            <th align="left" class="cellrowborder" valign="top" width="25.629999999999995%" id="mcps1.3.2.2.3.2.1.2.2.2.3.1.1"><p>Parameter</p></th>
            <th align="left" class="cellrowborder" valign="top" width="74.37%" id="mcps1.3.2.2.3.2.1.2.2.2.3.1.2"><p>Description</p></th>
           </tr>
          </thead>
          <tbody>
           <tr>
            <td class="cellrowborder" valign="top" width="25.629999999999995%" headers="mcps1.3.2.2.3.2.1.2.2.2.3.1.1 "><p><span><strong>Management IP Address</strong></span></p></td>
            <td class="cellrowborder" valign="top" width="74.37%" headers="mcps1.3.2.2.3.2.1.2.2.2.3.1.2 "><p>Management IP address of the storage device.</p></td>
           </tr>
           <tr>
            <td class="cellrowborder" valign="top" width="25.629999999999995%" headers="mcps1.3.2.2.3.2.1.2.2.2.3.1.1 "><p><span><strong>Port</strong></span></p></td>
            <td class="cellrowborder" valign="top" width="74.37%" headers="mcps1.3.2.2.3.2.1.2.2.2.3.1.2 "><p>Number of the port for communication between the <span>product</span> and the management plane of the storage device.</p> <p>The default port number is <strong>8088</strong>.</p></td>
           </tr>
           <tr>
            <td class="cellrowborder" valign="top" width="25.629999999999995%" headers="mcps1.3.2.2.3.2.1.2.2.2.3.1.1 "><p><span><strong>Username</strong></span></p></td>
            <td class="cellrowborder" rowspan="2" valign="top" width="74.37%" headers="mcps1.3.2.2.3.2.1.2.2.2.3.1.2 "><p>Username and password of the storage device. The user role must be an administrator or a super administrator.</p></td>
           </tr>
           <tr>
            <td class="cellrowborder" valign="top" headers="mcps1.3.2.2.3.2.1.2.2.2.3.1.1 "><p><span><strong>Password</strong></span></p></td>
           </tr>
           <tr>
            <td class="cellrowborder" valign="top" width="25.629999999999995%" headers="mcps1.3.2.2.3.2.1.2.2.2.3.1.1 "><p><span><strong>Certificate verification</strong></span></p></td>
            <td class="cellrowborder" valign="top" width="74.37%" headers="mcps1.3.2.2.3.2.1.2.2.2.3.1.2 "><p>This function is enabled by default. Certificate verification is performed when a storage device is added, ensuring the security of interactions between the <span>product</span> and storage device. After this function is disabled, security risks may exist in the communication between the system and the storage device. Exercise caution when performing this operation.</p></td>
           </tr>
           <tr>
            <td class="cellrowborder" valign="top" width="25.629999999999995%" headers="mcps1.3.2.2.3.2.1.2.2.2.3.1.1 "><p><span><strong>Certificate</strong></span></p></td>
            <td class="cellrowborder" valign="top" width="74.37%" headers="mcps1.3.2.2.3.2.1.2.2.2.3.1.2 "><p>To-be-imported CA certificate of a storage device. For details about how to obtain the CA certificate of a storage device, see "Step 1: Obtaining the CA Certificate of a Storage Device" in the Data Backup Feature Guide (for NAS Files).</p></td>
           </tr>
           <tr>
            <td class="cellrowborder" valign="top" width="25.629999999999995%" headers="mcps1.3.2.2.3.2.1.2.2.2.3.1.1 "><p><span><strong>Revocation List</strong></span></p></td>
            <td class="cellrowborder" valign="top" width="74.37%" headers="mcps1.3.2.2.3.2.1.2.2.2.3.1.2 "><p>After the CRL is imported, the system checks whether the client certificate has been revoked. If the certificate has been revoked, storage device registration fails.</p></td>
           </tr>
          </tbody>
         </table>
        </div></li>
      </ol> <p></p></li>
     <li><span>Click <span class="uicontrol"><b><span><strong>OK</strong></span></b></span>.</span><p></p><p>After the registration is successful, information about the registered FusionCompute virtualization environment is displayed on the left of the page. A maximum of eight FusionCompute platforms can be registered.</p> <p></p></li>
    </ol>
   </div>
  </div>
  <div>
   <div class="familylinks">
    <div class="parentlink">
     <strong>Parent topic:</strong> <a href="fc_gud_0013_0.html">Backing Up a FusionCompute VM</a>
    </div>
   </div>
  </div>
 </body>
</html>