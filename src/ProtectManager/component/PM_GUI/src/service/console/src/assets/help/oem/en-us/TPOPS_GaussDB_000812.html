<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!--
  This file is a part of the open-eBackup project.
  This Source Code Form is subject to the terms of the Mozilla Public License, v. 2.0.
  If a copy of the MPL was not distributed with this file, You can obtain one at
  http://mozilla.org/MPL/2.0/.
  
  Copyright (c) [2024] Huawei Technologies Co.,Ltd.
  
  THIS SOFTWARE IS PROVIDED ON AN "AS IS" BASIS, WITHOUT WARRANTIES OF ANY KIND,
  EITHER EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO NON-INFRINGEMENT,
  MERCHANTABILITY OR FIT FOR A PARTICULAR PURPOSE.
  -->

<html lang="en-us" xml:lang="en-us">
 <head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="DC.Type" content="topic">
  <meta name="DC.Title" content="Restoration Failed Because the Replica Consistency Protocol of the Database Instance Is Inconsistent with That of the Instance to Which the Restoration Is Performed">
  <meta name="DC.Format" content="XHTML">
  <meta name="DC.Identifier" content="TPOPS_GaussDB_000812">
  <meta name="DC.Language" content="en-us">
  <link rel="stylesheet" type="text/css" href="public_sys-resources/commonltr.css">
  <title>Restoration Failed Because the Replica Consistency Protocol of the Database Instance Is Inconsistent with That of the Instance to Which the Restoration Is Performed</title>
 </head>
 <body style="clear:both; padding-left:10px; padding-top:5px; padding-right:5px; padding-bottom:5px">
  <a name="TPOPS_GaussDB_000812"></a><a name="TPOPS_GaussDB_000812"></a>
  <h1 class="topictitle1">Restoration Failed Because the Replica Consistency Protocol of the Database Instance Is Inconsistent with That of the Instance to Which the Restoration Is Performed</h1>
  <div>
   <div class="section">
    <h4 class="sectiontitle">Symptom</h4>
    <p>When a database restoration job is being executed, an error is reported indicating that the replica consistency protocol of the instance is inconsistent with that of the instance to which the database is restored.</p>
   </div>
   <div class="section">
    <h4 class="sectiontitle">Possible Causes</h4>
    <p>When a GaussDB restoration job is being executed, the replica consistency protocol of the instance must be consistent with that of the instance to which the database is restored.</p>
   </div>
   <div class="section">
    <h4 class="sectiontitle">Troubleshooting</h4>
    <ol>
     <li id="TPOPS_GaussDB_000812__li670013520345"><span>Run the following command in the database of the instance to check the consistency protocol:</span><p></p><pre class="screen" id="TPOPS_GaussDB_000812__screen8129154810319">show enable_dcf</pre>
      <ul id="TPOPS_GaussDB_000812__ul1067119543325">
       <li id="TPOPS_GaussDB_000812__li367155483213">If <strong id="TPOPS_GaussDB_000812__b12629511111915">off</strong> is displayed in the command output, the replica consistency protocol of the backup copy is <strong id="TPOPS_GaussDB_000812__b15561420201920">Quorum</strong>.</li>
       <li id="TPOPS_GaussDB_000812__li203721361338">If <strong id="TPOPS_GaussDB_000812__b1248142114199">on</strong> is displayed in the command output, the replica consistency protocol of the backup copy is <strong id="TPOPS_GaussDB_000812__b72482021181917">Paxos</strong>.</li>
      </ul> <p></p></li>
     <li><span>Select an instance whose replica consistency protocol is the same as that of the backup copy for a <a href="TPOPS_GaussDB_00048.html">restoration job</a>.</span></li>
    </ol>
   </div>
  </div>
 </body>
</html>