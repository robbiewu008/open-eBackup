<!--
  This file is a part of the open-eBackup project.
  This Source Code Form is subject to the terms of the Mozilla Public License, v. 2.0.
  If a copy of the MPL was not distributed with this file, You can obtain one at
  http://mozilla.org/MPL/2.0/.
  
  Copyright (c) [2024] Huawei Technologies Co.,Ltd.
  
  THIS SOFTWARE IS PROVIDED ON AN "AS IS" BASIS, WITHOUT WARRANTIES OF ANY KIND,
  EITHER EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO NON-INFRINGEMENT,
  MERCHANTABILITY OR FIT FOR A PARTICULAR PURPOSE.
  -->

<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en-us" xml:lang="en-us">
 <head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="DC.Type" content="topic">
  <meta name="DC.Title" content="Restoring a Cluster">
  <meta name="product" content="">
  <meta name="DC.Relation" scheme="URI" content="en-us_topic_0000002164597710.html">
  <meta name="prodname" content="">
  <meta name="version" content="">
  <meta name="brand" content="">
  <meta name="DC.Publisher" content="20250306">
  <meta name="prodname" content="csbs">
  <meta name="documenttype" content="usermanual">
  <meta name="DC.Format" content="XHTML">
  <meta name="DC.Identifier" content="EN-US_TOPIC_0000002167238922">
  <meta name="DC.Language" content="en-us">
  <link rel="stylesheet" type="text/css" href="public_sys-resources/commonltr.css">
  <title>Restoring a Cluster</title>
 </head>
 <body style="clear:both; padding-left:10px; padding-top:5px; padding-right:5px; padding-bottom:5px">
  <a name="EN-US_TOPIC_0000002167238922"></a><a name="EN-US_TOPIC_0000002167238922"></a>
  <h1 class="topictitle1">Restoring a Cluster</h1>
  <div>
   <p>This section describes how to restore a GaussDB (DWS) cluster that has been backed up to the original or a new location.</p>
   <div class="section" id="EN-US_TOPIC_0000002167238922__en-us_topic_0000001397321757_section651825162917">
    <h4 class="sectiontitle">Context</h4>
    <p id="EN-US_TOPIC_0000002167238922__en-us_topic_0000001397321757_p6873141491714">Backup copies and replication copies can be used for restoration. GaussDB (DWS) can be restored to the original location or a new location. Replication copies cannot be used for restoration of the GaussDB (DWS) to the original location</p>
   </div>
   <div class="section">
    <h4 class="sectiontitle">Prerequisites</h4>
    <ul>
     <li>Before restoration, ensure that the remaining space of the data directory at the target location for restoration is greater than the size of the copy used for restoration before reduction. Otherwise, restoration will fail.</li>
    </ul>
   </div>
   <div class="section">
    <h4 class="sectiontitle">Procedure</h4>
    <ol>
     <li><span>Choose <span class="uicontrol" id="EN-US_TOPIC_0000002167238922__en-us_topic_0000002199964685_uicontrol879104212548"><b><span id="EN-US_TOPIC_0000002167238922__en-us_topic_0000002199964685_text1079164214547"><strong>Explore</strong></span> &gt; <span id="EN-US_TOPIC_0000002167238922__en-us_topic_0000002199964685_text1679164255414"><strong>Copy Data</strong></span> &gt; <span id="EN-US_TOPIC_0000002167238922__en-us_topic_0000002199964685_text364514912581"><strong>Big Data</strong></span> &gt; <span id="EN-US_TOPIC_0000002167238922__en-us_topic_0000002199964685_text1416113393018"><strong>GaussDB(DWS)</strong></span></b></span>.</span></li>
     <li id="EN-US_TOPIC_0000002167238922__en-us_topic_0000001397321757_li888616341964"><span>Search for copies by GaussDB (DWS) resource or copy. This section uses resources as an example.</span><p></p><p id="EN-US_TOPIC_0000002167238922__en-us_topic_0000001397321757_p624620403810">On the <span class="uicontrol" id="EN-US_TOPIC_0000002167238922__uicontrol816218529113"><b>Resources</b></span> tab page, locate the resource to be restored by resource name and click the name.</p> <p></p></li>
     <li id="EN-US_TOPIC_0000002167238922__en-us_topic_0000001397321757_li182120214713"><span>Select the year, month, and day in sequence to find the copy.</span><p></p><p id="EN-US_TOPIC_0000002167238922__en-us_topic_0000001397321757_p9918150182310">If <span><img id="EN-US_TOPIC_0000002167238922__en-us_topic_0000001397321757_image669318410309" src="en-us_image_0000002167398698.png"></span> is displayed under a month or date, copies exist in the month or on the date.</p> <p></p></li>
     <li><span>Restore data using a specific cluster copy.</span><p></p>
      <ol type="a">
       <li>In the row of the target cluster copy, choose <strong>More</strong> &gt; <strong>Restore</strong>.</li>
       <li>Restore the GaussDB (DWS) cluster to the original location or a new location.
        <div class="p" id="EN-US_TOPIC_0000002167238922__en-us_topic_0000001397321757_p6368171033117">
         <a href="#EN-US_TOPIC_0000002167238922__en-us_topic_0000001397321757_table13681910173115">Table 1</a> describes the related parameters. 
         <div class="tablenoborder">
          <a name="EN-US_TOPIC_0000002167238922__en-us_topic_0000001397321757_table13681910173115"></a><a name="en-us_topic_0000001397321757_table13681910173115"></a>
          <table cellpadding="4" cellspacing="0" summary="" id="EN-US_TOPIC_0000002167238922__en-us_topic_0000001397321757_table13681910173115" frame="border" border="1" rules="all">
           <caption>
            <b>Table 1 </b>Target location description
           </caption>
           <colgroup>
            <col style="width:32.019999999999996%">
            <col style="width:67.97999999999999%">
           </colgroup>
           <thead align="left">
            <tr id="EN-US_TOPIC_0000002167238922__en-us_topic_0000001397321757_row15368121073117">
             <th align="left" class="cellrowborder" valign="top" width="32.019999999999996%" id="mcps1.3.4.2.4.2.1.2.1.2.2.3.1.1"><p id="EN-US_TOPIC_0000002167238922__en-us_topic_0000001397321757_p183681310193120">Parameter</p></th>
             <th align="left" class="cellrowborder" valign="top" width="67.97999999999999%" id="mcps1.3.4.2.4.2.1.2.1.2.2.3.1.2"><p id="EN-US_TOPIC_0000002167238922__en-us_topic_0000001397321757_p16368121015315">Description</p></th>
            </tr>
           </thead>
           <tbody>
            <tr id="EN-US_TOPIC_0000002167238922__en-us_topic_0000001397321757_row103681710113115">
             <td class="cellrowborder" valign="top" width="32.019999999999996%" headers="mcps1.3.4.2.4.2.1.2.1.2.2.3.1.1 "><p id="EN-US_TOPIC_0000002167238922__en-us_topic_0000001397321757_p636851013114">Restore To</p></td>
             <td class="cellrowborder" valign="top" width="67.97999999999999%" headers="mcps1.3.4.2.4.2.1.2.1.2.2.3.1.2 "><p id="EN-US_TOPIC_0000002167238922__en-us_topic_0000001397321757_p113681710143113">Select either <span class="uicontrol" id="EN-US_TOPIC_0000002167238922__en-us_topic_0000001397321757_uicontrol2368161003111"><b>Original location</b></span> or <span class="uicontrol" id="EN-US_TOPIC_0000002167238922__en-us_topic_0000001397321757_uicontrol1336819106318"><b>New location</b></span>.</p></td>
            </tr>
            <tr id="EN-US_TOPIC_0000002167238922__en-us_topic_0000001397321757_row113681810193113">
             <td class="cellrowborder" valign="top" width="32.019999999999996%" headers="mcps1.3.4.2.4.2.1.2.1.2.2.3.1.1 "><p id="EN-US_TOPIC_0000002167238922__en-us_topic_0000001397321757_p1036814104312">Location</p></td>
             <td class="cellrowborder" valign="top" width="67.97999999999999%" headers="mcps1.3.4.2.4.2.1.2.1.2.2.3.1.2 "><p id="EN-US_TOPIC_0000002167238922__en-us_topic_0000001397321757_p11368110193111">If you select <span class="uicontrol" id="EN-US_TOPIC_0000002167238922__uicontrol1526918456517"><b>Original location</b></span> for <strong id="EN-US_TOPIC_0000002167238922__b16270174512518">Restore To</strong>, the original location is displayed.</p></td>
            </tr>
            <tr id="EN-US_TOPIC_0000002167238922__en-us_topic_0000001397321757_row236821003111">
             <td class="cellrowborder" valign="top" width="32.019999999999996%" headers="mcps1.3.4.2.4.2.1.2.1.2.2.3.1.1 "><p id="EN-US_TOPIC_0000002167238922__en-us_topic_0000001397321757_p12368610193113">Target Cluster</p></td>
             <td class="cellrowborder" valign="top" width="67.97999999999999%" headers="mcps1.3.4.2.4.2.1.2.1.2.2.3.1.2 "><p id="EN-US_TOPIC_0000002167238922__en-us_topic_0000001397321757_p1136881063111">If you select <span class="uicontrol" id="EN-US_TOPIC_0000002167238922__uicontrol1830359775"><b>New location</b></span> for <strong id="EN-US_TOPIC_0000002167238922__b93038919714">Restore To</strong>, you must select the target cluster to be restored. Ensure that the installation configuration file named <strong id="EN-US_TOPIC_0000002167238922__b137292033813">mppdb-install-config.xml</strong> of the target cluster has been replicated to the <strong id="EN-US_TOPIC_0000002167238922__b10729732819">/opt/huawei/</strong> directory on each node in the target cluster and that the database user has the read permission. Otherwise, the restoration will fail. Note that if the installation configuration file is not named <strong id="EN-US_TOPIC_0000002167238922__b12730232087">mppdb-install-config.xml</strong>, rename it.</p></td>
            </tr>
           </tbody>
          </table>
         </div>
        </div></li>
       <li>Click <span class="uicontrol"><b>OK</b></span> and confirm the information as prompted.
        <div class="note">
         <img src="public_sys-resources/note_3.0-en-us.png"><span class="notetitle"> </span>
         <div class="notebody">
          <p>Ensure that the restoration target location is correct and the remaining space of the restoration target location is greater than the size of the copy used for restoration before reduction.</p>
         </div>
        </div></li>
      </ol> <p></p></li>
    </ol>
   </div>
  </div>
  <div>
   <div class="familylinks">
    <div class="parentlink">
     <strong>Parent topic:</strong> <a href="en-us_topic_0000002164597710.html">Restoring the GaussDB (DWS)</a>
    </div>
   </div>
  </div>
 </body>
</html>