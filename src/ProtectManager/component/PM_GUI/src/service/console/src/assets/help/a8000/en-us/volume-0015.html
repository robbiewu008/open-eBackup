<!--
  This file is a part of the open-eBackup project.
  This Source Code Form is subject to the terms of the Mozilla Public License, v. 2.0.
  If a copy of the MPL was not distributed with this file, You can obtain one at
  http://mozilla.org/MPL/2.0/.
  
  Copyright (c) [2024] Huawei Technologies Co.,Ltd.
  
  THIS SOFTWARE IS PROVIDED ON AN "AS IS" BASIS, WITHOUT WARRANTIES OF ANY KIND,
  EITHER EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO NON-INFRINGEMENT,
  MERCHANTABILITY OR FIT FOR A PARTICULAR PURPOSE.
  -->


<!DOCTYPE html
  PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en-us" xml:lang="en-us">
<head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
   
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="DC.Type" content="topic">
<meta name="DC.Title" content="Step 5: Performing Backup">
<meta name="product" content="">
<meta name="DC.Relation" scheme="URI" content="volume-0010.html">
<meta name="prodname" content="">
<meta name="version" content="">
<meta name="brand" content="30-OceanProtect Appliance 1.5.0-1.6.0 Help Center">
<meta name="DC.Publisher" content="20241029">
<meta name="prodname" content="csbs">
<meta name="documenttype" content="usermanual">
<meta name="DC.Format" content="XHTML">
<meta name="DC.Identifier" content="volume-0015">
<meta name="DC.Language" content="en-us">
<link rel="stylesheet" type="text/css" href="public_sys-resources/commonltr.css">
<title>Step 5: Performing Backup</title>
</head>
<body style="clear:both; padding-left:10px; padding-top:5px; padding-right:5px; padding-bottom:5px"><a name="volume-0015"></a><a name="volume-0015"></a>

<h1 class="topictitle1">Step 5: Performing Backup</h1>
<div><p>Before performing backup, you need to associate the resources to be protected with a specified SLA. The system protects the resources and periodically executes backup jobs based on the SLA. You can perform a backup job immediately through manual backup.</p>
<div class="section"><h4 class="sectiontitle">Precautions</h4><ul><li>During manual backup, the parameters (except <span class="uicontrol"><b><span><strong>Automatic Retry</strong></span></b></span>) defined in the SLA are applied to the manual backup job.</li><li>Copies generated by manual backup are retained for the duration defined in the SLA.</li></ul>
</div>
<div class="section"><h4 class="sectiontitle">Procedure</h4><ol><li><span>Choose <span class="uicontrol" id="volume-0015__en-us_topic_0000001839142377_uicontrol34250519116"><b><span id="volume-0015__en-us_topic_0000001839142377_text154255511911"><strong>Protection</strong></span> &gt; File Systems &gt; Volumes</b></span>.</span></li><li><span>Select the volume to be protected and click <span class="uicontrol"><b><span><strong>Protect</strong></span></b></span>.</span><p><p>You can also select multiple volumes for batch protection.</p>
</p></li><li><span>Select an SLA.</span><p><div class="p" id="volume-0015__en-us_topic_0000001964713008_p16181740836">You can also click <span class="uicontrol" id="volume-0015__en-us_topic_0000001964713008_uicontrol169554520714"><b><span id="volume-0015__en-us_topic_0000001964713008_text179554516717"><strong>Create</strong></span></b></span> to create an SLA.<div class="note" id="volume-0015__en-us_topic_0000001964713008_note25947145710"><img src="public_sys-resources/note_3.0-en-us.png"><span class="notetitle"> </span><div class="notebody"><p id="volume-0015__en-us_topic_0000001964713008_p125947145711"><span id="volume-0015__en-us_topic_0000001964713008_ph1413818422327">If a WORM policy has been configured for the resources to be protected, select an SLA without a WORM policy to avoid WORM policy conflicts.</span></p>
</div></div>
</div>
</p></li><li><span>Configure advanced parameters for volume protection.</span><p><div class="p"><a href="#volume-0015__table354613271506">Table 1</a> describes the related parameters.
<div class="tablenoborder"><a name="volume-0015__table354613271506"></a><a name="table354613271506"></a><table cellpadding="4" cellspacing="0" summary="" id="volume-0015__table354613271506" frame="border" border="1" rules="all"><caption><b>Table 1 </b>Advanced parameters for volume protection</caption><colgroup><col style="width:19.75%"><col style="width:80.25%"></colgroup><thead align="left"><tr><th align="left" class="cellrowborder" valign="top" width="19.75%" id="mcps1.3.3.2.4.2.1.2.2.3.1.1"><p>Parameter</p>
</th>
<th align="left" class="cellrowborder" valign="top" width="80.25%" id="mcps1.3.3.2.4.2.1.2.2.3.1.2"><p>Description</p>
</th>
</tr>
</thead>
<tbody><tr><td class="cellrowborder" valign="top" width="19.75%" headers="mcps1.3.3.2.4.2.1.2.2.3.1.1 "><p><strong>OS Backup</strong></p>
</td>
<td class="cellrowborder" valign="top" width="80.25%" headers="mcps1.3.3.2.4.2.1.2.2.3.1.2 "><p>This function is disabled by default. After this function is enabled, both the selected volumes and system volumes are backed up, and the following information is collected: quantity of disk drives, volume information, file system information, and network information.</p>
<div class="note"><span class="notetitle"> NOTE: </span><div class="notebody"><p>After OS backup is enabled, the <strong>/boot</strong> directory is backed up regardless of whether the volume where the <strong>/boot</strong> directory resides is selected.</p>
</div></div>
</td>
</tr>
<tr><td class="cellrowborder" valign="top" width="19.75%" headers="mcps1.3.3.2.4.2.1.2.2.3.1.1 "><p><strong>Execution Script</strong></p>
</td>
<td class="cellrowborder" valign="top" width="80.25%" headers="mcps1.3.3.2.4.2.1.2.2.3.1.2 "><div class="p">You can execute custom scripts of the sh type based on your needs before a backup job is executed, or after the backup job is successfully executed or fails to be executed. If the script is stored in the <strong>DataBackup/ProtectClient/ProtectClient-E/sbin/thirdparty</strong> directory, you only need to enter the script name. If the script is stored in another directory, you need to enter the absolute path of the script.<div class="note"><span class="notetitle"> NOTE: </span><div class="notebody"><p id="volume-0015__postgresql-0045_en-us_topic_0000001264099602_p196461512103113">If <span class="uicontrol" id="volume-0015__postgresql-0045_en-us_topic_0000001264099602_uicontrol180112781919"><b><span id="volume-0015__postgresql-0045_en-us_topic_0000001264099602_text10711756153116"><strong>Script to Run upon Restoration Success</strong></span></b></span> is configured, the status of the restoration job is displayed as <span class="uicontrol" id="volume-0015__postgresql-0045_en-us_topic_0000001264099602_uicontrol488919204209"><b><span id="volume-0015__postgresql-0045_en-us_topic_0000001264099602_text186291135132417"><strong>Succeeded</strong></span></b></span> on the <span id="volume-0015__postgresql-0045_text712055613536">OceanProtect</span> even if the script fails to be executed. Check whether the job details contain a message indicating that the post-processing script fails to be executed. If yes, modify the script in a timely manner. </p>
</div></div>
</div>
</td>
</tr>
<tr><td class="cellrowborder" valign="top" width="19.75%" headers="mcps1.3.3.2.4.2.1.2.2.3.1.1 "><div class="p"><strong id="volume-0015__vmware_gud_0028_0_b1822015259583">Auto Indexing of Backup Copies</strong><div class="note" id="volume-0015__vmware_gud_0028_0_note17447255201"><span class="notetitle"> NOTE: </span><div class="notebody"><p id="volume-0015__vmware_gud_0028_0_vmware_gud_0028_0_p168431642184919">Only 1.6.0 and later versions support this parameter.</p>
</div></div>
</div>
</td>
<td class="cellrowborder" valign="top" width="80.25%" headers="mcps1.3.3.2.4.2.1.2.2.3.1.2 "><p>After this function is enabled, the system automatically creates file indexes for copies. After indexes are created, files, directories, or links in copies can be searched. You can also manually create indexes for copies.</p>
<div class="note"><span class="notetitle"> NOTE: </span><div class="notebody"><p id="volume-0015__vmware_gud_0028_0_nas_s_0016_p0743109201911">Indexes occupy backup storage space. If the number of index files in the system exceeds 1 billion, perform operations by referring to "Failed to Create a Copy Index" in the <i><cite id="volume-0015__vmware_gud_0028_0_cite165034152574">OceanProtect DataBackup 1.5.0-1.6.0 Troubleshooting</cite></i>.</p>
</div></div>
</td>
</tr>
<tr><td class="cellrowborder" valign="top" width="19.75%" headers="mcps1.3.3.2.4.2.1.2.2.3.1.1 "><p><strong>Automatic Indexing of Object Storage Archive Copies</strong></p>
</td>
<td class="cellrowborder" valign="top" width="80.25%" headers="mcps1.3.3.2.4.2.1.2.2.3.1.2 "><p>For filesets, NAS file systems, and NAS shares, this parameter is displayed when <strong>Archive Storage Type</strong> is set to <span><strong>Object Storage</strong></span>. This parameter is not displayed for other applications.</p>
<p>This function cannot be disabled after it is enabled. The system automatically creates file indexes for copies. After indexes are created, one or more files can be restored.</p>
<div class="note"><span class="notetitle"> NOTE: </span><div class="notebody"><p>Indexes occupy backup storage space. If the total number of index files in the system exceeds 1 billion, perform operations by referring to "Failed to Create a Copy Index" in the <i><cite>OceanProtect DataBackup 1.5.0-1.6.0 Troubleshooting</cite></i>.</p>
</div></div>
</td>
</tr>
</tbody>
</table>
</div>
</div>
</p></li><li><span>Click <span class="uicontrol" id="volume-0015__en-us_topic_0000001964713008_uicontrol23691650677"><b>OK</b></span>.</span><p><p id="volume-0015__en-us_topic_0000001964713008_en-us_topic_0000001656691397_p25041111535">If the current system time is later than the start time of the first backup specified in the SLA, you can select <strong id="volume-0015__en-us_topic_0000001964713008_b9624185216713">Execute manual backup now</strong> in the dialog box that is displayed or choose to perform automatic backup periodically based on the backup policy set in the SLA.</p>
</p></li><li><span>Perform manual backup.</span><p><p>If you want to execute a backup job immediately, perform manual backup through the following operations. Otherwise, skip this step.</p>
<ol type="a"><li>In the row that contains the volume to be backed up, choose <span class="uicontrol"><b><span><strong>More</strong></span> &gt; <span><strong>Manual Backup</strong></span></b></span>.<div class="note"><img src="public_sys-resources/note_3.0-en-us.png"><span class="notetitle"> </span><div class="notebody"><ol><li>You can select multiple resources to perform manual backup in batches. Select multiple resources and choose <span class="uicontrol"><b><span><strong>More</strong></span> &gt; <span><strong>Manual Backup</strong></span></b></span> in the upper left corner of the page.</li></ol>
</div></div>
</li><li>Set the name of the copy generated during manual backup.</li><li>If this parameter is left unspecified, the system sets the name to <strong>backup_</strong><em>Timestamp</em> by default.</li><li>Select a protection policy, which can be <strong>Full Backup</strong> or <strong>Forever Incremental (Synthetic Full) Backup</strong>.<div class="note"><img src="public_sys-resources/note_3.0-en-us.png"><span class="notetitle"> </span><div class="notebody"><p><span id="volume-0015__en-us_topic_0000001964713008_ph19374310343">For 1.6.0 and later versions, if the selected protection policy is different from that configured in the associated SLA, the WORM configuration does not take effect.</span></p>
</div></div>
</li><li>Click <span class="uicontrol"><b><span><strong>OK</strong></span></b></span>.</li></ol>
</p></li></ol>
</div>
</div>
<div>
<div class="familylinks">
<div class="parentlink"><strong>Parent topic:</strong> <a href="volume-0010.html">Backing Up Volumes</a></div>
</div>
</div>

<div class="hrcopyright"><hr size="2"></div><div class="hwcopyright">Copyright &copy; Huawei Technologies Co., Ltd.</div></body>
</html>