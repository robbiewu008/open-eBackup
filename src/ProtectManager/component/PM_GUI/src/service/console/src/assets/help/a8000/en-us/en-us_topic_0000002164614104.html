<!--
  This file is a part of the open-eBackup project.
  This Source Code Form is subject to the terms of the Mozilla Public License, v. 2.0.
  If a copy of the MPL was not distributed with this file, You can obtain one at
  http://mozilla.org/MPL/2.0/.
  
  Copyright (c) [2024] Huawei Technologies Co.,Ltd.
  
  THIS SOFTWARE IS PROVIDED ON AN "AS IS" BASIS, WITHOUT WARRANTIES OF ANY KIND,
  EITHER EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO NON-INFRINGEMENT,
  MERCHANTABILITY OR FIT FOR A PARTICULAR PURPOSE.
  -->


<!DOCTYPE html
  PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en-us" xml:lang="en-us">
<head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
   
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="DC.Type" content="topic">
<meta name="DC.Title" content="Step 5: Performing Backup">
<meta name="product" content="">
<meta name="DC.Relation" scheme="URI" content="en-us_topic_0000002164773752.html">
<meta name="prodname" content="">
<meta name="version" content="">
<meta name="brand" content="">
<meta name="DC.Publisher" content="20250306">
<meta name="prodname" content="csbs">
<meta name="documenttype" content="usermanual">
<meta name="DC.Format" content="XHTML">
<meta name="DC.Identifier" content="EN-US_TOPIC_0000002164614104">
<meta name="DC.Language" content="en-us">
<link rel="stylesheet" type="text/css" href="public_sys-resources/commonltr.css">
<title>Step 5: Performing Backup</title>
</head>
<body style="clear:both; padding-left:10px; padding-top:5px; padding-right:5px; padding-bottom:5px"><a name="EN-US_TOPIC_0000002164614104"></a><a name="EN-US_TOPIC_0000002164614104"></a>

<h1 class="topictitle1">Step 5: Performing Backup</h1>
<div><p>Before performing backup, you need to associate the resources to be protected with a specified SLA. The system protects the resources and periodically executes backup jobs based on the SLA. You can perform a backup job immediately through manual backup.</p>
<div class="section"><h4 class="sectiontitle">Precautions</h4><ul><li>During execution of a manual backup job, the parameters (except <span class="uicontrol"><b><span><strong>Automatic Retry</strong></span></b></span>) defined in the SLA, such as <span class="uicontrol"><b><span><strong>Rate Limiting Policies</strong></span></b></span> and <span class="uicontrol"><b><span><strong>Automatic Indexing</strong></span></b></span>, will take effect.</li><li>Copies generated by manual backup are retained for the duration defined in the SLA.<p id="EN-US_TOPIC_0000002164614104__en-us_topic_0000002164654310_p2039811446538">If the protection policy selected during manual backup is not defined in the SLA, the generated backup copies will be retained permanently. If forever incremental (synthetic full) backup is not defined in the SLA but selected for manual backup, copies generated by the manual forever incremental (synthetic full) backup will be retained permanently.</p>
</li><li>If a replication or archive policy has been defined in the SLA, the system will perform replication or archiving once based on the SLA when you perform manual backup.</li><li>If the host where the client is installed runs the Windows OS, the <span id="EN-US_TOPIC_0000002164614104__en-us_topic_0000002200146973_text2263048103312">OceanProtect</span> mounts file systems of the backup storage to the <strong id="EN-US_TOPIC_0000002164614104__en-us_topic_0000002200146973_b14263174816332">C:\mnt\databackup\</strong> path by default. To modify the mount path, open the <strong id="EN-US_TOPIC_0000002164614104__en-us_topic_0000002200146973_b653033783411">agent_cfg.xml</strong> configuration file in the <em id="EN-US_TOPIC_0000002164614104__en-us_topic_0000002200146973_i1542112916218">Client installation directory</em><strong id="EN-US_TOPIC_0000002164614104__en-us_topic_0000002200146973_b19714663415">\DataBackup\ProtectClient\ProtectClient-E\conf</strong> directory and change the value of <strong id="EN-US_TOPIC_0000002164614104__en-us_topic_0000002200146973_b3394105619195">win_mount_public_path value</strong>.<div class="note" id="EN-US_TOPIC_0000002164614104__en-us_topic_0000002200146973_note197102742415"><img src="public_sys-resources/note_3.0-en-us.png"><span class="notetitle"> </span><div class="notebody"><p id="EN-US_TOPIC_0000002164614104__en-us_topic_0000002200146973_p1197162742413">Replace <em id="EN-US_TOPIC_0000002164614104__en-us_topic_0000002200146973_i1232194212249">Client installation directory</em> in the directory with the actual one.</p>
</div></div>
</li></ul>
</div>
<div class="section"><h4 class="sectiontitle">Procedure</h4><ol><li><span>Choose <span class="uicontrol" id="EN-US_TOPIC_0000002164614104__en-us_topic_0000002199964685_uicontrol187824252421"><b><span id="EN-US_TOPIC_0000002164614104__en-us_topic_0000002199964685_text2782025144215"><strong>Protection</strong></span> &gt; Virtualization &gt; Hyper-V</b></span>.</span></li><li><span>Select VMs to be protected.</span><p><ol type="a"><li>On the left of the page, select the Hyper-V servers, SCVMM servers, or clusters to be protected.</li><li>On the right of the page, select the clusters, hosts, VMs, or VM groups to be protected under the Hyper-V servers.<ul><li>If you select a host on the <span><strong>Hosts</strong></span> tab page, the system protects all VMs on the host.</li><li>If you select a cluster on the <span><strong>Cluster</strong></span> tab page, the system protects all VMs in the cluster.</li><li>If you select a VM on the <strong>VMs</strong> tab page, the system protects the VM.</li><li>If you select a VM group on the <strong>VM Groups</strong> tab page, the system protects all VMs in the VM group.</li></ul>
<div class="note"><img src="public_sys-resources/note_3.0-en-us.png"><span class="notetitle"> </span><div class="notebody"><p>A maximum of 1,000 Hyper-V VMs can be protected in a batch.</p>
</div></div>
</li></ol>
</p></li><li><span>Click <span class="uicontrol"><b><span><strong>Protect</strong></span></b></span>.</span></li><li><span>Select the number of disks to be protected. If you select VMs on the <strong>VMs</strong> tab page, automatic disk protection is enabled by default in the <strong><span><strong>Selected</strong></span></strong> area to protect all disks (including newly discovered disks) of VMs. If automatic disk protection is disabled, you need to manually select the disks to be protected. </span><p><p>Click <span class="uicontrol"><b>Please select</b></span>. The <strong>Select Disk</strong> page displays all available disks. You can select the disks to be protected and click <strong>OK</strong>.</p>
<div class="note"><img src="public_sys-resources/note_3.0-en-us.png"><span class="notetitle"> </span><div class="notebody">
<p>If the system disk is excluded, generated copies do not support file-level restoration.</p>
</div></div>
</p></li><li><span>Select an SLA.</span><p><div class="p" id="EN-US_TOPIC_0000002164614104__en-us_topic_0000002200146973_p16181740836">You can also click <span class="uicontrol" id="EN-US_TOPIC_0000002164614104__en-us_topic_0000002200146973_uicontrol169554520714"><b><span id="EN-US_TOPIC_0000002164614104__en-us_topic_0000002200146973_text179554516717"><strong>Create</strong></span></b></span> to create an SLA.<div class="note" id="EN-US_TOPIC_0000002164614104__en-us_topic_0000002200146973_note25947145710"><img src="public_sys-resources/note_3.0-en-us.png"><span class="notetitle"> </span><div class="notebody"><p id="EN-US_TOPIC_0000002164614104__en-us_topic_0000002200146973_p125947145711"><span id="EN-US_TOPIC_0000002164614104__en-us_topic_0000002200146973_ph1413818422327">If a WORM policy has been configured for the resources to be protected, select an SLA without a WORM policy to avoid WORM policy conflicts.</span></p>
</div></div>
</div>
</p></li><li><span>Set advanced parameters by referring to <a href="#EN-US_TOPIC_0000002164614104__table5881822353">Table 1</a>.</span><p>
<div class="tablenoborder"><a name="EN-US_TOPIC_0000002164614104__table5881822353"></a><a name="table5881822353"></a><table cellpadding="4" cellspacing="0" summary="" id="EN-US_TOPIC_0000002164614104__table5881822353" frame="border" border="1" rules="all"><caption><b>Table 1 </b>Advanced parameters</caption><colgroup><col style="width:29.349999999999998%"><col style="width:70.65%"></colgroup><thead align="left"><tr><th align="left" class="cellrowborder" valign="top" width="29.349999999999998%" id="mcps1.3.3.2.6.2.1.2.3.1.1"><p>Parameter</p>
</th>
<th align="left" class="cellrowborder" valign="top" width="70.65%" id="mcps1.3.3.2.6.2.1.2.3.1.2"><p>Description</p>
</th>
</tr>
</thead>
<tbody><tr><td class="cellrowborder" valign="top" width="29.349999999999998%" headers="mcps1.3.3.2.6.2.1.2.3.1.1 "><div class="p"><strong>Auto Indexing of Backup Copies</strong><div class="note"><span class="notetitle"> NOTE: </span><div class="notebody"><p id="EN-US_TOPIC_0000002164614104__en-us_topic_0000002164654310_p168431642184919">Only 1.6.0 and later versions support this parameter.</p>
</div></div>
</div>
</td>
<td class="cellrowborder" valign="top" width="70.65%" headers="mcps1.3.3.2.6.2.1.2.3.1.2 "><div class="p">If a VM or VM group is selected for protection and the disks to be backed up contain system disks, the system automatically creates an index for the backup copy after this function is enabled. When using the copy for restoration, you can select one or more files in the copy for restoration and search for files, directories, or links in the copy.<div class="note" id="EN-US_TOPIC_0000002164614104__en-us_topic_0000002164654310_en-us_topic_0000001607702606_note05471921141918"><span class="notetitle"> NOTE: </span><div class="notebody"><p id="EN-US_TOPIC_0000002164614104__en-us_topic_0000002164654310_en-us_topic_0000001792520410_p0743109201911">Indexes occupy backup storage space. If the number of index files in the system exceeds 1 billion, perform operations by referring to "Failed to Create a Copy Index" in the <i><cite id="EN-US_TOPIC_0000002164614104__en-us_topic_0000002164654310_en-us_topic_0000001792520410_cite23814569190">OceanProtect DataBackup 1.5.0-1.6.0 Troubleshooting</cite></i>.</p>
</div></div>
</div>
</td>
</tr>
<tr><td class="cellrowborder" valign="top" width="29.349999999999998%" headers="mcps1.3.3.2.6.2.1.2.3.1.1 "><p><span><strong>SLA Overwrite Policy</strong></span></p>
</td>
<td class="cellrowborder" valign="top" width="70.65%" headers="mcps1.3.3.2.6.2.1.2.3.1.2 "><div class="p" id="EN-US_TOPIC_0000002164614104__en-us_topic_0000002164760190_p198913233514">This parameter can be configured when a cluster or host is selected for protection.<ul id="EN-US_TOPIC_0000002164614104__en-us_topic_0000002164760190_ul959534514278"><li id="EN-US_TOPIC_0000002164614104__en-us_topic_0000002164760190_li159524532718">Overwriting SLAs associated with VMs: After the virtualization environment is scanned, if the <span id="EN-US_TOPIC_0000002164614104__en-us_topic_0000002164760190_text10891336173320">OceanProtect</span> detects that VMs associated with SLAs are added to the cluster or host, the system automatically overwrites the SLAs of the VMs with the SLA of the cluster or host.<p id="EN-US_TOPIC_0000002164614104__en-us_topic_0000002164760190_p186141512519">For example, when you create protection for host 1, VM A does not exist on host 1. After VM A is migrated to host 1 and virtualization environment is scanned, the <span id="EN-US_TOPIC_0000002164614104__en-us_topic_0000002164760190_en-us_topic_0000002200007033_text19259136165619">OceanProtect</span> automatically associates VM A with the SLA of host 1 if the <span id="EN-US_TOPIC_0000002164614104__en-us_topic_0000002164760190_en-us_topic_0000002200007033_text14897856115510">OceanProtect</span> detects that VM A newly added to host 1 has been associated with an SLA but the SLA is different from that of host 1.</p>
</li><li id="EN-US_TOPIC_0000002164614104__en-us_topic_0000002164760190_li51301447162719">Retaining SLAs associated with VMs</li></ul>
</div>
</td>
</tr>
<tr><td class="cellrowborder" valign="top" width="29.349999999999998%" headers="mcps1.3.3.2.6.2.1.2.3.1.1 "><p><span><strong>SLA Application Policy</strong></span></p>
</td>
<td class="cellrowborder" valign="top" width="70.65%" headers="mcps1.3.3.2.6.2.1.2.3.1.2 "><div class="p">When you select a cluster or host for protection, you can choose the SLA application scope as follows:<ul id="EN-US_TOPIC_0000002164614104__en-us_topic_0000002164760190_en-us_topic_0000002164654310_ul192722515111"><li id="EN-US_TOPIC_0000002164614104__en-us_topic_0000002164760190_en-us_topic_0000002164654310_li1592717251115">Applying the cluster or host SLA to all VMs that are not associated with any SLA<p id="EN-US_TOPIC_0000002164614104__en-us_topic_0000002164760190_p17173145712275"><a name="EN-US_TOPIC_0000002164614104__en-us_topic_0000002164760190_en-us_topic_0000002164654310_li1592717251115"></a><a name="en-us_topic_0000002164760190_en-us_topic_0000002164654310_li1592717251115"></a>After the virtualization environment is scanned, the system automatically associates the VMs that are newly added to the cluster or host and are not associated with any SLA with the same SLA as the cluster or host.</p>
<p id="EN-US_TOPIC_0000002164614104__en-us_topic_0000002164760190_p467267521">For example, when you create protection for host 1, VM A does not exist on host 1. After VM A is migrated to host 1 and virtualization environment is scanned, the <span id="EN-US_TOPIC_0000002164614104__en-us_topic_0000002164760190_en-us_topic_0000002200007033_text55481712105418">OceanProtect</span> automatically associates VM A with the SLA of host 1 if the <span id="EN-US_TOPIC_0000002164614104__en-us_topic_0000002164760190_en-us_topic_0000002200007033_text1813718465215">OceanProtect</span> detects that VM A newly added to host 1 has not been associated with any SLA.</p>
</li><li id="EN-US_TOPIC_0000002164614104__en-us_topic_0000002164760190_en-us_topic_0000002164654310_li10927625419">Applying the cluster or host SLA to newly created VMs<p id="EN-US_TOPIC_0000002164614104__en-us_topic_0000002164760190_en-us_topic_0000002164654310_p39279251213"><a name="EN-US_TOPIC_0000002164614104__en-us_topic_0000002164760190_en-us_topic_0000002164654310_li10927625419"></a><a name="en-us_topic_0000002164760190_en-us_topic_0000002164654310_li10927625419"></a>After the virtualization environment is scanned, the newly discovered VMs are associated with the same SLA as the cluster or host.</p>
</li></ul>
</div>
</td>
</tr>
<tr><td class="cellrowborder" valign="top" width="29.349999999999998%" headers="mcps1.3.3.2.6.2.1.2.3.1.1 "><p><span><strong>VM Filter</strong></span></p>
</td>
<td class="cellrowborder" valign="top" width="70.65%" headers="mcps1.3.3.2.6.2.1.2.3.1.2 "><p>If you want to specify VMs to be excluded or included in a protection plan when selecting a host or cluster for protection, enable this function and perform the following operations:</p>
<ol type="a"><li>Select a filtering mode.</li><li>Enter a VM name or keyword in the text box to filter VMs based on the selected filtering mode.<ul><li>Use commas (,) to separate multiple names or keywords.</li><li>Exact match and fuzzy match of VM names are supported. Fuzzy match rules include prefix match (for example, abc*), suffix match (for example, *abc), and middle match (for example, *abc*).</li></ul>
</li></ol>
</td>
</tr>
<tr><td class="cellrowborder" valign="top" width="29.349999999999998%" headers="mcps1.3.3.2.6.2.1.2.3.1.1 "><p><strong>Secure archive</strong></p>
<div class="note"><span class="notetitle"> NOTE: </span><div class="notebody"><p id="EN-US_TOPIC_0000002164614104__en-us_topic_0000002164660718_p69891381719"><span id="EN-US_TOPIC_0000002164614104__en-us_topic_0000002164660718_ph13542121717119">Only the OceanProtect X series backup appliances and OceanProtect E1000 support this function.</span></p>
</div></div>
</td>
<td class="cellrowborder" valign="top" width="70.65%" headers="mcps1.3.3.2.6.2.1.2.3.1.2 "><div class="p">This parameter is displayed when the selected SLA contains archive policies. If this option is selected, only backup copies that are detected to be uninfected during ransomware detection are archived.<div class="note" id="EN-US_TOPIC_0000002164614104__en-us_topic_0000002200007033_note1550211211513"><span class="notetitle"> NOTE: </span><div class="notebody"><p id="EN-US_TOPIC_0000002164614104__en-us_topic_0000002200007033_p10502162125111">You need to click <strong id="EN-US_TOPIC_0000002164614104__en-us_topic_0000002200007033_b810018188319">Configure</strong> to set the ransomware protection policy for the resource to be protected if the following conditions are met: <strong id="EN-US_TOPIC_0000002164614104__en-us_topic_0000002200007033_b17329127414">Archive Time</strong> is not set to <strong id="EN-US_TOPIC_0000002164614104__en-us_topic_0000002200007033_b938619243">Immediately after successful backup</strong> or <strong id="EN-US_TOPIC_0000002164614104__en-us_topic_0000002200007033_b84761821247">Archive Policy</strong> is not set to <strong id="EN-US_TOPIC_0000002164614104__en-us_topic_0000002200007033_b0492172712416">Only the latest copy</strong> in the SLA archive policy, and the ransomware protection policy is not set. For details, see "Creating a Ransomware Protection and WORM Policy" in the <i><cite id="EN-US_TOPIC_0000002164614104__en-us_topic_0000002200007033_cite15733201398">OceanProtect DataBackup 1.5.0-1.6.0 Data Backup Feature Guide (Ransomware Protection for Copies)</cite></i>.</p>
</div></div>
</div>
</td>
</tr>
</tbody>
</table>
</div>
</p></li><li><span>Click <span class="uicontrol" id="EN-US_TOPIC_0000002164614104__en-us_topic_0000002200146973_uicontrol23691650677"><b>OK</b></span>.</span><p><p id="EN-US_TOPIC_0000002164614104__en-us_topic_0000002200146973_en-us_topic_0000001656691397_p25041111535">If the current system time is later than the start time of the first backup specified in the SLA, you can select <strong id="EN-US_TOPIC_0000002164614104__en-us_topic_0000002200146973_b9624185216713">Execute manual backup now</strong> in the dialog box that is displayed or choose to perform automatic backup periodically based on the backup policy set in the SLA.</p>
</p></li><li><strong>Optional: </strong><span>Perform manual backup.</span><p><div class="p" id="EN-US_TOPIC_0000002164614104__en-us_topic_0000002200146973_p11899115114511">If you want to execute a backup job immediately, perform manual backup through the following operations. Otherwise, skip this step.<ol type="a" id="EN-US_TOPIC_0000002164614104__en-us_topic_0000002200146973_ol1888313571212"><li id="EN-US_TOPIC_0000002164614104__en-us_topic_0000002200146973_li6449836144510">In the row of the target resource, choose <strong id="EN-US_TOPIC_0000002164614104__en-us_topic_0000002200146973_b146814226353">More</strong> &gt; <span id="EN-US_TOPIC_0000002164614104__en-us_topic_0000002200146973_text18439122416533"><strong>Manual Backup</strong></span>.<div class="note" id="EN-US_TOPIC_0000002164614104__en-us_topic_0000002200146973_note1527151103"><img src="public_sys-resources/note_3.0-en-us.png"><span class="notetitle"> </span><div class="notebody"><p id="EN-US_TOPIC_0000002164614104__en-us_topic_0000002200146973_en-us_topic_0000001607531736_p870125314544">You can select multiple resources to perform manual backup in batches. Select multiple protected resources and choose <strong id="EN-US_TOPIC_0000002164614104__en-us_topic_0000002200146973_b1657653183519">More</strong> &gt; <span id="EN-US_TOPIC_0000002164614104__en-us_topic_0000002200146973_text122852865419"><strong>Manual Backup</strong></span> in the upper left corner of the resource list.</p>
</div></div>
</li><li id="EN-US_TOPIC_0000002164614104__en-us_topic_0000002200146973_li5644125184512">Set the name of the copy generated during manual backup.<p id="EN-US_TOPIC_0000002164614104__en-us_topic_0000002200146973_p444210492470"><a name="EN-US_TOPIC_0000002164614104__en-us_topic_0000002200146973_li5644125184512"></a><a name="en-us_topic_0000002200146973_li5644125184512"></a>If this parameter is left unspecified, the system sets the copy name to <strong id="EN-US_TOPIC_0000002164614104__en-us_topic_0000002200146973_b17709174711816">backup_</strong><em id="EN-US_TOPIC_0000002164614104__en-us_topic_0000002200146973_i1371044717814">Timestamp</em> by default.</p>
</li><li id="EN-US_TOPIC_0000002164614104__en-us_topic_0000002200146973_li9911344144518">Select a protection policy, which can be <span id="EN-US_TOPIC_0000002164614104__en-us_topic_0000002200146973_text1037414518818"><strong>Full Backup</strong></span> or <span id="EN-US_TOPIC_0000002164614104__en-us_topic_0000002200146973_text937414517813"><strong>Forever Incremental (Synthetic Full) Backup</strong></span>.<div class="note" id="EN-US_TOPIC_0000002164614104__en-us_topic_0000002200146973_note1552298154910"><img src="public_sys-resources/note_3.0-en-us.png"><span class="notetitle"> </span><div class="notebody"><p id="EN-US_TOPIC_0000002164614104__en-us_topic_0000002200146973_p13522118194919"><span id="EN-US_TOPIC_0000002164614104__en-us_topic_0000002200146973_ph19374310343">If the selected protection policy is different from that configured in the associated SLA for 1.6.0 and later versions, the WORM configuration does not take effect.</span></p>
</div></div>
</li><li id="EN-US_TOPIC_0000002164614104__en-us_topic_0000002200146973_li2637101024612">Click <span class="uicontrol" id="EN-US_TOPIC_0000002164614104__en-us_topic_0000002200146973_uicontrol1662615410817"><b><span id="EN-US_TOPIC_0000002164614104__en-us_topic_0000002200146973_text13625854687"><strong>OK</strong></span></b></span>.</li></ol>
</div>
</p></li></ol>
</div>
<p></p>
</div>
<div>
<div class="familylinks">
<div class="parentlink"><strong>Parent topic:</strong> <a href="en-us_topic_0000002164773752.html">Backing Up Hyper-V VMs</a></div>
</div>
</div>

<div class="hrcopyright"><hr size="2"></div><div class="hwcopyright">Copyright &copy; Huawei Technologies Co., Ltd.</div></body>
</html>