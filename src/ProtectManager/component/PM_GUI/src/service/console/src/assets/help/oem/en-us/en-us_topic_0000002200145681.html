<!--
  This file is a part of the open-eBackup project.
  This Source Code Form is subject to the terms of the Mozilla Public License, v. 2.0.
  If a copy of the MPL was not distributed with this file, You can obtain one at
  http://mozilla.org/MPL/2.0/.
  
  Copyright (c) [2024] Huawei Technologies Co.,Ltd.
  
  THIS SOFTWARE IS PROVIDED ON AN "AS IS" BASIS, WITHOUT WARRANTIES OF ANY KIND,
  EITHER EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO NON-INFRINGEMENT,
  MERCHANTABILITY OR FIT FOR A PARTICULAR PURPOSE.
  -->

<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en-us" xml:lang="en-us">
 <head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="DC.Type" content="topic">
  <meta name="DC.Title" content="Step 7: Performing Backup">
  <meta name="product" content="">
  <meta name="DC.Relation" scheme="URI" content="en-us_topic_0000002200060053.html">
  <meta name="prodname" content="">
  <meta name="version" content="">
  <meta name="brand" content="">
  <meta name="DC.Publisher" content="20250306">
  <meta name="documenttype" content="usermanual">
  <meta name="prodname" content="csbs">
  <meta name="DC.Format" content="XHTML">
  <meta name="DC.Identifier" content="EN-US_TOPIC_0000002200145681">
  <meta name="DC.Language" content="en-us">
  <link rel="stylesheet" type="text/css" href="public_sys-resources/commonltr.css">
  <title>Step 7: Performing Backup</title>
 </head>
 <body style="clear:both; padding-left:10px; padding-top:5px; padding-right:5px; padding-bottom:5px">
  <a name="EN-US_TOPIC_0000002200145681"></a><a name="EN-US_TOPIC_0000002200145681"></a>
  <h1 class="topictitle1">Step 7: Performing Backup</h1>
  <div>
   <p>Before performing backup, you need to associate the resources to be protected with a specified SLA. The system protects the resources and periodically executes backup jobs based on the SLA. You can perform a backup job immediately through manual backup.</p>
   <div class="section">
    <h4 class="sectiontitle">Context</h4>
    <ul>
     <li>During a manual backup, parameters (except <span class="uicontrol"><b><span><strong>Automatic Retry</strong></span></b></span>) defined in the SLA, such as <span class="uicontrol"><b><span><strong>Rate Limiting Policies</strong></span></b></span>, <span class="uicontrol"><b><span><strong>Automatic Indexing</strong></span></b></span>, and <span class="uicontrol"><b><span><strong>Application-Consistent Backup</strong></span></b></span>, are applied to the manual backup job.</li>
     <li>Copies generated by manual backup are retained for the duration defined in the SLA.<p>If the protection policy selected during manual backup is not defined in the SLA, the generated backup copies will be retained permanently. If forever incremental (synthetic full) backup is not defined in the SLA but selected for manual backup, copies generated by the manual forever incremental (synthetic full) backup will be retained permanently.</p></li>
     <li>If a replication or archive policy has been defined in the SLA, the system will perform replication or archiving once based on the SLA when you perform manual backup.</li>
     <li>When a manual backup is initiated for a cluster or host, if the cluster or host has a VM whose SLA protection policy is inconsistent with that of the cluster or host, no backup job will be initiated for the VM.</li>
    </ul>
   </div>
   <div class="section">
    <h4 class="sectiontitle">Procedure</h4>
    <ol>
     <li><span>Choose <span class="uicontrol" id="EN-US_TOPIC_0000002200145681__en-us_topic_0000002199964685_uicontrol14456431877"><b><span id="EN-US_TOPIC_0000002200145681__en-us_topic_0000002199964685_text134457431679"><strong>Protection</strong></span> &gt; Virtualization &gt; CNware</b></span>.</span></li>
    </ol>
    <ol start="2">
     <li><span>Select the clusters, VMs, or hosts to be protected.</span><p></p>
      <ol type="a">
       <li>In the left pane, select the registered CNware virtualization platform.</li>
       <li>In the right pane, click the <span class="uicontrol"><b><span><strong>Clusters</strong></span></b></span>, <span class="uicontrol"><b><span><strong>Hosts</strong></span></b></span>, <span class="uicontrol"><b><span><strong>VMs</strong></span></b></span>, or <span class="uicontrol"><b>VM Groups</b></span> tab, and select one or more clusters, hosts, or VMs to be protected.
        <ul>
         <li>If you select a host for protection, the system will protect all VMs on the host.</li>
         <li>If you select a cluster for protection, the system will protect all VMs in the cluster.
          <div class="note">
           <img src="public_sys-resources/note_3.0-en-us.png"><span class="notetitle"> </span>
           <div class="notebody">
            <p>A maximum of 1,000 CNware VMs can be protected in a batch.</p>
           </div>
          </div></li>
        </ul></li>
      </ol> <p></p></li>
     <li><span>Click <span class="uicontrol"><b><span><strong>Protect</strong></span></b></span>.</span></li>
     <li><span>If you select a VM for protection, you can determine whether to enable automatic protection for disks. If automatic protection for disks is enabled, all disks (including newly detected disks) of the VM will be protected. If automatic protection for disks is disabled, you need to manually select disks to be protected.</span><p></p>
      <div class="note">
       <img src="public_sys-resources/note_3.0-en-us.png"><span class="notetitle"> </span>
       <div class="notebody">
        <p id="EN-US_TOPIC_0000002200145681__en-us_topic_0000002200007033_p68671543173914">If system disks are excluded, generated copies do not support file-level restoration.</p>
       </div>
      </div> <p></p></li>
     <li><span>Choose a preset or user-defined SLA.</span><p></p><p>You can also click <span class="uicontrol"><b><span><strong>Create</strong></span></b></span> to create an SLA.</p>
      <div class="note">
       <img src="public_sys-resources/note_3.0-en-us.png"><span class="notetitle"> </span>
       <div class="notebody">
        <p id="EN-US_TOPIC_0000002200145681__en-us_topic_0000002200146973_p125947145711"><span id="EN-US_TOPIC_0000002200145681__en-us_topic_0000002200146973_ph1413818422327">If a WORM policy has been configured for the resources to be protected, select an SLA without a WORM policy to avoid WORM policy conflicts.</span></p>
       </div>
      </div> <p></p></li>
     <li><span>Set the following parameters in <span class="uicontrol"><b><span><strong>Advanced</strong></span></b></span>.</span><p></p>
      <div class="tablenoborder">
       <table cellpadding="4" cellspacing="0" summary="" frame="border" border="1" rules="all">
        <caption>
         <b>Table 1 </b>Advanced parameters
        </caption>
        <colgroup>
         <col style="width:20.48%">
         <col style="width:79.52%">
        </colgroup>
        <thead align="left">
         <tr>
          <th align="left" class="cellrowborder" valign="top" width="20.48%" id="mcps1.3.3.3.5.2.1.2.3.1.1"><p>Parameter</p></th>
          <th align="left" class="cellrowborder" valign="top" width="79.52%" id="mcps1.3.3.3.5.2.1.2.3.1.2"><p>Description</p></th>
         </tr>
        </thead>
        <tbody>
         <tr>
          <td class="cellrowborder" valign="top" width="20.48%" headers="mcps1.3.3.3.5.2.1.2.3.1.1 "><p><strong>Clients</strong></p></td>
          <td class="cellrowborder" valign="top" width="79.52%" headers="mcps1.3.3.3.5.2.1.2.3.1.2 "><p>Host where the client is installed to perform backup. If you leave this parameter unspecified, the system randomly selects a host where the client is installed during job execution.</p></td>
         </tr>
         <tr>
          <td class="cellrowborder" valign="top" width="20.48%" headers="mcps1.3.3.3.5.2.1.2.3.1.1 "><p><strong>Auto Indexing of Backup Copies</strong></p></td>
          <td class="cellrowborder" valign="top" width="79.52%" headers="mcps1.3.3.3.5.2.1.2.3.1.2 "><p>If a VM or VM group is selected for protection and the disks to be backed up contain system disks, the system automatically creates an index for the backup copy after this function is enabled. When using the copy for restoration, you can select one or more files in the copy for restoration and search for files, directories, or links in the copy.</p></td>
         </tr>
         <tr>
          <td class="cellrowborder" valign="top" width="20.48%" headers="mcps1.3.3.3.5.2.1.2.3.1.1 "><p><span><strong>SLA Overwrite Policy</strong></span></p></td>
          <td class="cellrowborder" valign="top" width="79.52%" headers="mcps1.3.3.3.5.2.1.2.3.1.2 ">
           <div class="p">
            This parameter can be configured when a cluster or host is selected for protection.
            <ul id="EN-US_TOPIC_0000002200145681__en-us_topic_0000002164760190_ul959534514278">
             <li id="EN-US_TOPIC_0000002200145681__en-us_topic_0000002164760190_li159524532718">Overwriting SLAs associated with VMs: After the virtualization environment is scanned, if the <span id="EN-US_TOPIC_0000002200145681__en-us_topic_0000002164760190_text10891336173320">product</span> detects that VMs associated with SLAs are added to the cluster or host, the system automatically overwrites the SLAs of the VMs with the SLA of the cluster or host.<p id="EN-US_TOPIC_0000002200145681__en-us_topic_0000002164760190_p186141512519">For example, when you create protection for host 1, VM A does not exist on host 1. After VM A is migrated to host 1 and virtualization environment is scanned, the <span id="EN-US_TOPIC_0000002200145681__en-us_topic_0000002164760190_en-us_topic_0000002200007033_text19259136165619">product</span> automatically associates VM A with the SLA of host 1 if the <span id="EN-US_TOPIC_0000002200145681__en-us_topic_0000002164760190_en-us_topic_0000002200007033_text14897856115510">product</span> detects that VM A newly added to host 1 has been associated with an SLA but the SLA is different from that of host 1.</p></li>
             <li id="EN-US_TOPIC_0000002200145681__en-us_topic_0000002164760190_li51301447162719">Retaining SLAs associated with VMs</li>
            </ul>
           </div></td>
         </tr>
         <tr>
          <td class="cellrowborder" valign="top" width="20.48%" headers="mcps1.3.3.3.5.2.1.2.3.1.1 "><p><span><strong>SLA Application Policy</strong></span></p></td>
          <td class="cellrowborder" valign="top" width="79.52%" headers="mcps1.3.3.3.5.2.1.2.3.1.2 ">
           <div class="p">
            When you select a cluster or host for protection, you can choose the SLA application scope as follows:
            <ul id="EN-US_TOPIC_0000002200145681__en-us_topic_0000002164760190_en-us_topic_0000002164654310_ul192722515111">
             <li id="EN-US_TOPIC_0000002200145681__en-us_topic_0000002164760190_en-us_topic_0000002164654310_li1592717251115">Applying the cluster or host SLA to all VMs that are not associated with any SLA<p id="EN-US_TOPIC_0000002200145681__en-us_topic_0000002164760190_p17173145712275"><a name="EN-US_TOPIC_0000002200145681__en-us_topic_0000002164760190_en-us_topic_0000002164654310_li1592717251115"></a><a name="en-us_topic_0000002164760190_en-us_topic_0000002164654310_li1592717251115"></a>After the virtualization environment is scanned, the system automatically associates the VMs that are newly added to the cluster or host and are not associated with any SLA with the same SLA as the cluster or host.</p> <p id="EN-US_TOPIC_0000002200145681__en-us_topic_0000002164760190_p467267521">For example, when you create protection for host 1, VM A does not exist on host 1. After VM A is migrated to host 1 and virtualization environment is scanned, the <span id="EN-US_TOPIC_0000002200145681__en-us_topic_0000002164760190_en-us_topic_0000002200007033_text55481712105418">product</span> automatically associates VM A with the SLA of host 1 if the <span id="EN-US_TOPIC_0000002200145681__en-us_topic_0000002164760190_en-us_topic_0000002200007033_text1813718465215">product</span> detects that VM A newly added to host 1 has not been associated with any SLA.</p></li>
             <li id="EN-US_TOPIC_0000002200145681__en-us_topic_0000002164760190_en-us_topic_0000002164654310_li10927625419">Applying the cluster or host SLA to newly created VMs<p id="EN-US_TOPIC_0000002200145681__en-us_topic_0000002164760190_en-us_topic_0000002164654310_p39279251213"><a name="EN-US_TOPIC_0000002200145681__en-us_topic_0000002164760190_en-us_topic_0000002164654310_li10927625419"></a><a name="en-us_topic_0000002164760190_en-us_topic_0000002164654310_li10927625419"></a>After the virtualization environment is scanned, the newly discovered VMs are associated with the same SLA as the cluster or host.</p></li>
            </ul>
           </div></td>
         </tr>
         <tr>
          <td class="cellrowborder" valign="top" width="20.48%" headers="mcps1.3.3.3.5.2.1.2.3.1.1 "><p><span><strong>VM Filter</strong></span></p></td>
          <td class="cellrowborder" valign="top" width="79.52%" headers="mcps1.3.3.3.5.2.1.2.3.1.2 ">
           <div class="p">
            If you want to specify the VMs to be excluded or included in the protection plan when selecting a cluster or host for protection, enable this function and perform the following operations:
            <ol type="a" id="EN-US_TOPIC_0000002200145681__en-us_topic_0000002164654310_ol92741652870">
             <li id="EN-US_TOPIC_0000002200145681__en-us_topic_0000002164654310_li2066616282811">Select a filtering mode.</li>
             <li id="EN-US_TOPIC_0000002200145681__en-us_topic_0000002164654310_li42741252878">Enter a VM name or keyword in the text box to filter VMs based on the selected filtering mode.
              <ul id="EN-US_TOPIC_0000002200145681__en-us_topic_0000002164654310_ul12669913111111">
               <li id="EN-US_TOPIC_0000002200145681__en-us_topic_0000002164654310_li180521811113">You can enter multiple names or keywords. Use commas (,) to separate them.</li>
               <li id="EN-US_TOPIC_0000002200145681__en-us_topic_0000002164654310_li10669613121112">Exact match and fuzzy match of VM names are supported. Fuzzy match rules include prefix match (for example, abc*), suffix match (for example, *abc), and infix match (for example, *abc*).</li>
              </ul></li>
            </ol>
           </div></td>
         </tr>
        </tbody>
       </table>
      </div> <p></p></li>
     <li><span>Click <span class="uicontrol" id="EN-US_TOPIC_0000002200145681__en-us_topic_0000002200146973_uicontrol23691650677"><b>OK</b></span>.</span><p></p><p id="EN-US_TOPIC_0000002200145681__en-us_topic_0000002200146973_en-us_topic_0000001656691397_p25041111535">If the current system time is later than the start time of the first backup specified in the SLA, you can select <strong id="EN-US_TOPIC_0000002200145681__en-us_topic_0000002200146973_b9624185216713">Execute manual backup now</strong> in the dialog box that is displayed or choose to perform automatic backup periodically based on the backup policy set in the SLA.</p> <p></p></li>
     <li><strong>Optional: </strong><span>Perform manual backup.</span><p></p><p>If you want to execute a backup job immediately, perform manual backup through the following operations. Otherwise, skip this step.</p>
      <ol type="a">
       <li>Click the <span class="uicontrol"><b><span><strong>VMs</strong></span></b></span>, <span class="uicontrol"><b><span><strong>Hosts</strong></span></b></span>, or <span class="uicontrol"><b><span><strong>Cluster</strong></span></b></span> tab based on the type of the data to be backed up.
        <div class="note">
         <img src="public_sys-resources/note_3.0-en-us.png"><span class="notetitle"> </span>
         <div class="notebody">
          <p>If you select <span class="uicontrol"><b><span><strong>Hosts</strong></span></b></span> or <span class="uicontrol"><b><span><strong>Cluster</strong></span></b></span> for backup, only the VMs with the same SLA as the host or cluster are backed up. VMs with different SLAs from the host or cluster are not backed up.</p>
         </div>
        </div></li>
       <li>Choose <span class="uicontrol"><b><span><strong>More</strong></span> &gt; <span><strong>Manual Backup</strong></span></b></span> in the row where the VM, host, or cluster to be backed up is located.
        <div class="note">
         <img src="public_sys-resources/note_3.0-en-us.png"><span class="notetitle"> </span>
         <div class="notebody">
          <p>You can select multiple resources for manual backup in batches. Select multiple resources and choose <span class="uicontrol"><b><span>More</span> &gt; <span>Manual Backup</span></b></span> in the upper left corner of the page.</p>
         </div>
        </div></li>
       <li>Set the name of the copy generated during manual backup.<p>If this parameter is left unspecified, the system sets the name to <strong>backup_</strong><em>Timestamp</em> by default.</p></li>
       <li>Select a protection policy, which can be <span><strong>Full Backup</strong></span> or <span><strong>Forever Incremental (Synthetic Full) Backup</strong></span>.
        <div class="note">
         <img src="public_sys-resources/note_3.0-en-us.png"><span class="notetitle"> </span>
         <div class="notebody">
          <p id="EN-US_TOPIC_0000002200145681__en-us_topic_0000002164760190_en-us_topic_0000001964713008_p13522118194919"><span id="EN-US_TOPIC_0000002200145681__en-us_topic_0000002164760190_en-us_topic_0000001964713008_ph19374310343">If the selected protection policy is different from that configured in the associated SLA, the WORM configuration does not take effect.</span></p>
         </div>
        </div></li>
       <li>Click <span class="uicontrol"><b>OK</b></span>.</li>
      </ol> <p></p></li>
    </ol>
   </div>
  </div>
  <div>
   <div class="familylinks">
    <div class="parentlink">
     <strong>Parent topic:</strong> <a href="en-us_topic_0000002200060053.html">Backing Up CNware VMs</a>
    </div>
   </div>
  </div>
 </body>
</html>