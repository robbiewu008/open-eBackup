<!--
  This file is a part of the open-eBackup project.
  This Source Code Form is subject to the terms of the Mozilla Public License, v. 2.0.
  If a copy of the MPL was not distributed with this file, You can obtain one at
  http://mozilla.org/MPL/2.0/.
  
  Copyright (c) [2024] Huawei Technologies Co.,Ltd.
  
  THIS SOFTWARE IS PROVIDED ON AN "AS IS" BASIS, WITHOUT WARRANTIES OF ANY KIND,
  EITHER EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO NON-INFRINGEMENT,
  MERCHANTABILITY OR FIT FOR A PARTICULAR PURPOSE.
  -->


<!DOCTYPE html
  PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en-us" xml:lang="en-us">
<head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
   
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="DC.Type" content="topic">
<meta name="DC.Title" content="Preparing for Backup">
<meta name="product" content="">
<meta name="DC.Relation" scheme="URI" content="en-us_topic_0000002164814226.html">
<meta name="prodname" content="">
<meta name="version" content="">
<meta name="brand" content="">
<meta name="DC.Publisher" content="20250306">
<meta name="prodname" content="csbs">
<meta name="documenttype" content="usermanual">
<meta name="DC.Format" content="XHTML">
<meta name="DC.Identifier" content="EN-US_TOPIC_0000002200140849">
<meta name="DC.Language" content="en-us">
<link rel="stylesheet" type="text/css" href="public_sys-resources/commonltr.css">
<title>Preparing for Backup</title>
</head>
<body style="clear:both; padding-left:10px; padding-top:5px; padding-right:5px; padding-bottom:5px"><a name="EN-US_TOPIC_0000002200140849"></a><a name="EN-US_TOPIC_0000002200140849"></a>

<h1 class="topictitle1">Preparing for Backup</h1>
<div><p>Before backing up an HDFS cluster, prepare related information as follows:</p>
<ul><li><a href="#EN-US_TOPIC_0000002200140849__table481544017344">Table 1</a> lists the information required.</li><li><a href="#EN-US_TOPIC_0000002200140849__table17163125610819">Table 2</a> lists the information required when the authentication mode for communication between the HDFS cluster and the <span>OceanProtect</span> is <span class="uicontrol"><b><span><strong>Simple Authentication</strong></span></b></span>.</li><li><a href="#EN-US_TOPIC_0000002200140849__table8758104318915">Table 3</a> lists the information required when the authentication mode for communication between the HDFS cluster and the <span>OceanProtect</span> is <span class="uicontrol"><b><span><strong>Kerberos Authentication</strong></span></b></span>.</li></ul>

<div class="tablenoborder"><a name="EN-US_TOPIC_0000002200140849__table481544017344"></a><a name="table481544017344"></a><table cellpadding="4" cellspacing="0" summary="" id="EN-US_TOPIC_0000002200140849__table481544017344" frame="border" border="1" rules="all"><caption><b>Table 1 </b>Preparations for backup</caption><colgroup><col style="width:18.310000000000002%"><col style="width:14.62%"><col style="width:50.73%"><col style="width:16.34%"></colgroup><thead align="left"><tr><th align="left" class="cellrowborder" valign="top" width="18.310000000000002%" id="mcps1.3.3.2.5.1.1"><p>Item</p>
</th>
<th align="left" class="cellrowborder" valign="top" width="14.62%" id="mcps1.3.3.2.5.1.2"><p>Mandatory</p>
</th>
<th align="left" class="cellrowborder" valign="top" width="50.73%" id="mcps1.3.3.2.5.1.3"><p>How to Obtain</p>
</th>
<th align="left" class="cellrowborder" valign="top" width="16.34%" id="mcps1.3.3.2.5.1.4"><p>To Be Used In</p>
</th>
</tr>
</thead>
<tbody><tr><td class="cellrowborder" valign="top" width="18.310000000000002%" headers="mcps1.3.3.2.5.1.1 "><p>hdfs-site.xml</p>
</td>
<td class="cellrowborder" valign="top" width="14.62%" headers="mcps1.3.3.2.5.1.2 "><p>Yes</p>
</td>
<td class="cellrowborder" rowspan="2" valign="top" width="50.73%" headers="mcps1.3.3.2.5.1.3 "><p>For details, see <a href="en-us_topic_0000002200140845.html#EN-US_TOPIC_0000002200140845__section10758914153313">Prerequisites</a>.</p>
<p></p>
<p></p>
</td>
<td class="cellrowborder" rowspan="3" valign="top" width="16.34%" headers="mcps1.3.3.2.5.1.4 "><p><a href="en-us_topic_0000002200140845.html">Step 3: Registering an HDFS Cluster</a></p>
<p></p>
<p></p>
</td>
</tr>
<tr><td class="cellrowborder" valign="top" headers="mcps1.3.3.2.5.1.1 "><p>core-site.xml</p>
</td>
<td class="cellrowborder" valign="top" headers="mcps1.3.3.2.5.1.2 "><p>Yes</p>
</td>
</tr>
<tr><td class="cellrowborder" valign="top" headers="mcps1.3.3.2.5.1.1 "><p>Checking whether Kerberos authentication is enabled for the HDFS cluster</p>
</td>
<td class="cellrowborder" valign="top" headers="mcps1.3.3.2.5.1.2 "><p>Yes</p>
</td>
<td class="cellrowborder" valign="top" headers="mcps1.3.3.2.5.1.3 "><p>Check whether the value of <span class="parmname"><b>hadoop.security.authentication</b></span> in the <strong>core-site.xml</strong> file of the Hadoop cluster is <span class="parmvalue"><b>kerberos</b></span>. If information similar to the following is displayed, Kerberos authentication is enabled.</p>
<p><span><img src="en-us_image_0000002200140921.png"></span></p>
</td>
</tr>
</tbody>
</table>
</div>

<div class="tablenoborder"><a name="EN-US_TOPIC_0000002200140849__table17163125610819"></a><a name="table17163125610819"></a><table cellpadding="4" cellspacing="0" summary="" id="EN-US_TOPIC_0000002200140849__table17163125610819" frame="border" border="1" rules="all"><caption><b>Table 2 </b>Information required for simple authentication</caption><colgroup><col style="width:19.41%"><col style="width:13.52%"><col style="width:50.73%"><col style="width:16.34%"></colgroup><thead align="left"><tr><th align="left" class="cellrowborder" valign="top" width="19.41%" id="mcps1.3.4.2.5.1.1"><p>Item</p>
</th>
<th align="left" class="cellrowborder" valign="top" width="13.52%" id="mcps1.3.4.2.5.1.2"><p>Mandatory</p>
</th>
<th align="left" class="cellrowborder" valign="top" width="50.73%" id="mcps1.3.4.2.5.1.3"><p>How to Obtain</p>
</th>
<th align="left" class="cellrowborder" valign="top" width="16.34%" id="mcps1.3.4.2.5.1.4"><p>To Be Used In</p>
</th>
</tr>
</thead>
<tbody><tr><td class="cellrowborder" valign="top" width="19.41%" headers="mcps1.3.4.2.5.1.1 "><p>Authentication username</p>
</td>
<td class="cellrowborder" valign="top" width="13.52%" headers="mcps1.3.4.2.5.1.2 "><p>Yes</p>
</td>
<td class="cellrowborder" valign="top" width="50.73%" headers="mcps1.3.4.2.5.1.3 "><p>Obtain the username from the big data platform administrator.</p>
<div class="note"><span class="notetitle"> NOTE: </span><div class="notebody"><p>Set this parameter to the human-machine username of the big data platform. The user must have the read, write, and execute permissions on the resources to be accessed.</p>
</div></div>
</td>
<td class="cellrowborder" valign="top" width="16.34%" headers="mcps1.3.4.2.5.1.4 "><p><a href="en-us_topic_0000002200140845.html">Step 3: Registering an HDFS Cluster</a></p>
</td>
</tr>
</tbody>
</table>
</div>

<div class="tablenoborder"><a name="EN-US_TOPIC_0000002200140849__table8758104318915"></a><a name="table8758104318915"></a><table cellpadding="4" cellspacing="0" summary="" id="EN-US_TOPIC_0000002200140849__table8758104318915" frame="border" border="1" rules="all"><caption><b>Table 3 </b>Information required for Kerberos authentication</caption><colgroup><col style="width:19.41%"><col style="width:13.52%"><col style="width:50.73%"><col style="width:16.34%"></colgroup><thead align="left"><tr><th align="left" class="cellrowborder" valign="top" width="19.41%" id="mcps1.3.5.2.5.1.1"><p>Item</p>
</th>
<th align="left" class="cellrowborder" valign="top" width="13.52%" id="mcps1.3.5.2.5.1.2"><p>Mandatory</p>
</th>
<th align="left" class="cellrowborder" valign="top" width="50.73%" id="mcps1.3.5.2.5.1.3"><p>How to Obtain</p>
</th>
<th align="left" class="cellrowborder" valign="top" width="16.34%" id="mcps1.3.5.2.5.1.4"><p>To Be Used In</p>
</th>
</tr>
</thead>
<tbody><tr><td class="cellrowborder" valign="top" width="19.41%" headers="mcps1.3.5.2.5.1.1 "><p>Principal name of Kerberos authentication</p>
</td>
<td class="cellrowborder" valign="top" width="13.52%" headers="mcps1.3.5.2.5.1.2 "><p>Yes</p>
</td>
<td class="cellrowborder" valign="top" width="50.73%" headers="mcps1.3.5.2.5.1.3 "><p>Obtain the principal name from the Kerberos server administrator.</p>
<div class="note"><span class="notetitle"> NOTE: </span><div class="notebody"><ul><li id="EN-US_TOPIC_0000002200140849__li133577516015">Set this parameter to the human-machine username of the big data platform. The user must have the read, write, and execute permissions on the resources to be accessed.</li><li>If you need to restore HDFS ACL information during HDFS file restoration, the registered principal name must have HDFS super user permissions. For example, you can add the principal name to the supergroup on the big data platform so that the user has HDFS super user permissions.</li></ul>
</div></div>
</td>
<td class="cellrowborder" rowspan="4" valign="top" width="16.34%" headers="mcps1.3.5.2.5.1.4 "><p><a href="en-us_topic_0000002200140845.html">Step 3: Registering an HDFS Cluster</a></p>
<p></p>
<p></p>
<p></p>
<p></p>
</td>
</tr>
<tr><td class="cellrowborder" valign="top" headers="mcps1.3.5.2.5.1.1 "><p><span class="filepath"><b>.conf</b></span> configuration file (for example, <strong>krb5.conf</strong>) used during Kerberos authentication</p>
</td>
<td class="cellrowborder" valign="top" headers="mcps1.3.5.2.5.1.2 "><p>Yes</p>
</td>
<td class="cellrowborder" valign="top" headers="mcps1.3.5.2.5.1.3 "><p>Contact the Kerberos server administrator to obtain the file from the Kerberos server.</p>
<p><span id="EN-US_TOPIC_0000002200140849__ph75221239589">Take MRS as an example. For details about how to obtain the configuration file, see "Exporting an Authentication Credential File" in the <a href="https://support.huawei.com/enterprise/en/cloud-computing/mapreduce-service-pid-22396131" target="_blank" rel="noopener noreferrer">MapReduce Service Product Documentation</a> of the corresponding version.</span></p>
</td>
</tr>
<tr><td class="cellrowborder" valign="top" headers="mcps1.3.5.2.5.1.1 "><p>Password of the principal name</p>
</td>
<td class="cellrowborder" valign="top" headers="mcps1.3.5.2.5.1.2 "><p>No</p>
</td>
<td class="cellrowborder" valign="top" headers="mcps1.3.5.2.5.1.3 "><p>If Kerberos authentication is performed using a password, you need to obtain the password of the principal name.</p>
</td>
</tr>
<tr><td class="cellrowborder" valign="top" headers="mcps1.3.5.2.5.1.1 "><p><span class="filepath"><b>.keytab</b></span> file</p>
</td>
<td class="cellrowborder" valign="top" headers="mcps1.3.5.2.5.1.2 "><p>No</p>
</td>
<td class="cellrowborder" valign="top" headers="mcps1.3.5.2.5.1.3 "><p>If Kerberos authentication is performed using a <span class="filepath"><b>.keytab</b></span> file, you need to obtain the <span class="filepath"><b>.keytab</b></span> file.</p>
<p>Contact the Kerberos server administrator to obtain the file from the Kerberos server.</p>
<p><span>Take MRS as an example. For details about how to obtain the configuration file, see "Exporting an Authentication Credential File" in the <a href="https://support.huawei.com/enterprise/en/cloud-computing/mapreduce-service-pid-22396131" target="_blank" rel="noopener noreferrer">MapReduce Service Product Documentation</a> of the corresponding version.</span></p>
</td>
</tr>
</tbody>
</table>
</div>
</div>
<div>
<div class="familylinks">
<div class="parentlink"><strong>Parent topic:</strong> <a href="en-us_topic_0000002164814226.html">Backup</a></div>
</div>
</div>

<div class="hrcopyright"><hr size="2"></div><div class="hwcopyright">Copyright &copy; Huawei Technologies Co., Ltd.</div></body>
</html>