
<!DOCTYPE html
  PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en-us" xml:lang="en-us">
<head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
   
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="DC.Type" content="topic">
<meta name="DC.Title" content="Instant Recovery of CNware VMs">
<meta name="product" content="">
<meta name="DC.Relation" scheme="URI" content="en-us_topic_0000001805083858.html">
<meta name="prodname" content="">
<meta name="version" content="">
<meta name="brand" content="30-OceanProtect Appliance 1.5.0-1.6.0 Help Center">
<meta name="DC.Publisher" content="20240608">
<meta name="DC.Format" content="XHTML">
<meta name="DC.Identifier" content="EN-US_TOPIC_0000001851882653">
<meta name="DC.Language" content="en-us">
<link rel="stylesheet" type="text/css" href="public_sys-resources/commonltr.css">
<title>Instant Recovery of CNware VMs</title>
</head>
<body style="clear:both; padding-left:10px; padding-top:5px; padding-right:5px; padding-bottom:5px"><a name="EN-US_TOPIC_0000001851882653"></a><a name="EN-US_TOPIC_0000001851882653"></a>

<h1 class="topictitle1">Instant Recovery of CNware VMs</h1>
<div><p>This section describes how to instantly recover a VM that has been backed up to the original location or a new location.</p>
<div class="section"><h4 class="sectiontitle">Context</h4><p>Backup copies, replication copies, and copies generated by live mount (copies that must have been unmounted from the VM) can be used for instant recovery. Data can be restored to the original or a new location.</p>
<ul><li>Restored to the original location<ul><li>If you restore a VM to the original location, the system creates a VM in the path of the original VM (that is, the cluster or host to which the original VM belongs) and fully restores the backup data to the new VM.</li><li>Data cannot be restored to the original location using a replication copy or copy generated by live mount.</li></ul>
</li><li>Restored to a new location<p>If you restore a VM to a new location, the system performs full restoration and restores the backup data to a specified new path. That is, the user specifies the host or cluster where the new VM is located and the corresponding storage pool.</p>
</li></ul>
</div>
<div class="section"><h4 class="sectiontitle">Procedure</h4><ol><li><span>Choose <span class="uicontrol" id="EN-US_TOPIC_0000001851882653__en-us_topic_0000001851882637_en-us_topic_0000001839142377_uicontrol83861452916"><b><span id="EN-US_TOPIC_0000001851882653__en-us_topic_0000001851882637_en-us_topic_0000001839142377_text43841419297"><strong>Explore</strong></span> &gt; <span id="EN-US_TOPIC_0000001851882653__en-us_topic_0000001851882637_en-us_topic_0000001839142377_text1438121413291"><strong>Copy Data</strong></span> &gt; <span id="EN-US_TOPIC_0000001851882653__en-us_topic_0000001851882637_en-us_topic_0000001839142377_text33811146299"><strong>Virtualization</strong></span> &gt; CNware</b></span>.</span></li><li><span>You can search for a copy by VM or copy. This section uses a VM as an example.</span><p><p>Click the <strong>Resources</strong> tab, search for the VM to be restored by name, and click the VM name.</p>
</p></li><li><span>Click the <span class="uicontrol"><b><span><strong>Copy Data</strong></span></b></span> tab and select the year, month, and day in sequence to find the copy.</span><p><p>If <span><img src="en-us_image_0000001851882725.png"></span> is displayed below a month or day, a copy is generated in the month or on the day.</p>
</p></li><li><span>In the row that contains the copy, choose <span class="uicontrol"><b><span><strong>More</strong></span> &gt; <span><strong>Instant Recovery</strong></span></b></span>.</span></li><li><span>Restore a VM to the original or a new location.</span><p><ul><li>Restore the VM to the original location.<ol type="a"><li>Select <span class="uicontrol"><b><span><strong>Original location</strong></span></b></span> for restoring the VM.</li><li>Set a name for the new VM.<p>The name of the new VM cannot be the same as that of other VMs in the cluster or on the host.</p>
</li><li>Configure advanced settings.<p><a href="#EN-US_TOPIC_0000001851882653__table2341132911327">Table 1</a> describes the related parameters.</p>

<div class="tablenoborder"><a name="EN-US_TOPIC_0000001851882653__table2341132911327"></a><a name="table2341132911327"></a><table cellpadding="4" cellspacing="0" summary="" id="EN-US_TOPIC_0000001851882653__table2341132911327" frame="border" border="1" rules="all"><caption><b>Table 1 </b>Advanced settings for restoration to the original location</caption><colgroup><col style="width:29.75%"><col style="width:70.25%"></colgroup><thead align="left"><tr><th align="left" class="cellrowborder" valign="top" width="29.75%" id="mcps1.3.3.2.5.2.1.1.1.3.2.2.3.1.1"><p>Parameter</p>
</th>
<th align="left" class="cellrowborder" valign="top" width="70.25%" id="mcps1.3.3.2.5.2.1.1.1.3.2.2.3.1.2"><p>Description</p>
</th>
</tr>
</thead>
<tbody><tr><td class="cellrowborder" valign="top" width="29.75%" headers="mcps1.3.3.2.5.2.1.1.1.3.2.2.3.1.1 "><p><span><strong>Agent Host</strong></span></p>
</td>
<td class="cellrowborder" valign="top" width="70.25%" headers="mcps1.3.3.2.5.2.1.1.1.3.2.2.3.1.2 "><p>Select an agent host used for restoration using copies.</p>
</td>
</tr>
<tr><td class="cellrowborder" valign="top" width="29.75%" headers="mcps1.3.3.2.5.2.1.1.1.3.2.2.3.1.1 "><p><span><strong>Power on Automatically After Restoration</strong></span></p>
</td>
<td class="cellrowborder" valign="top" width="70.25%" headers="mcps1.3.3.2.5.2.1.1.1.3.2.2.3.1.2 "><p>If this option is enabled, the cloud server automatically starts after the restoration is successful. This option is disabled by default.</p>
</td>
</tr>
<tr><td class="cellrowborder" valign="top" width="29.75%" headers="mcps1.3.3.2.5.2.1.1.1.3.2.2.3.1.1 "><p><span><strong>Delete Original VM</strong></span></p>
</td>
<td class="cellrowborder" valign="top" width="70.25%" headers="mcps1.3.3.2.5.2.1.1.1.3.2.2.3.1.2 "><p>If this option is enabled, the original VM will be deleted after the restoration is successful.</p>
</td>
</tr>
<tr><td class="cellrowborder" valign="top" width="29.75%" headers="mcps1.3.3.2.5.2.1.1.1.3.2.2.3.1.1 "><p><span><strong>Copy Verification Before Restoration</strong></span></p>
</td>
<td class="cellrowborder" valign="top" width="70.25%" headers="mcps1.3.3.2.5.2.1.1.1.3.2.2.3.1.2 "><p>If this option is enabled, the integrity of a copy is verified before the restoration using the copy. Copy verification affects the restoration performance. This option is disabled by default. If no copy verification file is generated, this option cannot be enabled.</p>
</td>
</tr>
<tr><td class="cellrowborder" valign="top" width="29.75%" headers="mcps1.3.3.2.5.2.1.1.1.3.2.2.3.1.1 "><p><span><strong>Network Location</strong></span></p>
</td>
<td class="cellrowborder" valign="top" width="70.25%" headers="mcps1.3.3.2.5.2.1.1.1.3.2.2.3.1.2 "><p>Select the name of the port group to which the VM NIC is to be restored.</p>
</td>
</tr>
<tr><td class="cellrowborder" valign="top" width="29.75%" headers="mcps1.3.3.2.5.2.1.1.1.3.2.2.3.1.1 "><p><span><strong>Enable Network Adapters</strong></span></p>
</td>
<td class="cellrowborder" valign="top" width="70.25%" headers="mcps1.3.3.2.5.2.1.1.1.3.2.2.3.1.2 "><p>This option is used to set the connection status of the VM NIC after restoration. This function is disabled by default, that is, all VM NICs are disabled. After the VM is restored, you need to log in to the CNware management page to set the VM NIC connection. If this function is enabled, the network of the new VM may conflict with that of the original VM. In this case, check the network of the new VM after the VM is restored.</p>
</td>
</tr>
</tbody>
</table>
</div>
</li><li>Click <span class="uicontrol"><b><span><strong>OK</strong></span></b></span>.<p>After instant recovery, the VM is automatically powered on.</p>
</li></ol>
</li><li>Restore the VM to a new location.<ol type="a"><li>Select <span class="uicontrol"><b><span><strong>New location</strong></span></b></span> for restoring the VM.</li><li>Set information about the new location to which the VM is restored.<div class="p"><a href="#EN-US_TOPIC_0000001851882653__table04204197234">Table 2</a> describes the related parameters.
<div class="tablenoborder"><a name="EN-US_TOPIC_0000001851882653__table04204197234"></a><a name="table04204197234"></a><table cellpadding="4" cellspacing="0" summary="" id="EN-US_TOPIC_0000001851882653__table04204197234" frame="border" border="1" rules="all"><caption><b>Table 2 </b>New location information</caption><colgroup><col style="width:29.75%"><col style="width:70.25%"></colgroup><thead align="left"><tr><th align="left" class="cellrowborder" valign="top" width="29.75%" id="mcps1.3.3.2.5.2.1.2.1.2.1.2.2.3.1.1"><p>Parameter</p>
</th>
<th align="left" class="cellrowborder" valign="top" width="70.25%" id="mcps1.3.3.2.5.2.1.2.1.2.1.2.2.3.1.2"><p>Description</p>
</th>
</tr>
</thead>
<tbody><tr><td class="cellrowborder" valign="top" width="29.75%" headers="mcps1.3.3.2.5.2.1.2.1.2.1.2.2.3.1.1 "><p><span><strong>New VM Name</strong></span></p>
</td>
<td class="cellrowborder" valign="top" width="70.25%" headers="mcps1.3.3.2.5.2.1.2.1.2.1.2.2.3.1.2 "><p>Name of a new VM, which can be customized.</p>
</td>
</tr>
<tr><td class="cellrowborder" valign="top" width="29.75%" headers="mcps1.3.3.2.5.2.1.2.1.2.1.2.2.3.1.1 "><p><span><strong>Target Location</strong></span></p>
</td>
<td class="cellrowborder" valign="top" width="70.25%" headers="mcps1.3.3.2.5.2.1.2.1.2.1.2.2.3.1.2 "><p>Target host to which the new VM is restored.</p>
</td>
</tr>
</tbody>
</table>
</div>
</div>
</li><li>Select a policy for restoring data to the target storage pool.<ul><li>To migrate all virtual disks to the same storage pool, select a storage pool and set the target provisioning type.</li><li>To migrate virtual disks to a specified storage pool, select a target storage pool for each virtual disk and set the target provisioning type.</li></ul>
</li><li>Configure advanced settings.<p><a href="#EN-US_TOPIC_0000001851882653__table17583541123013">Table 3</a> describes the related parameters.</p>

<div class="tablenoborder"><a name="EN-US_TOPIC_0000001851882653__table17583541123013"></a><a name="table17583541123013"></a><table cellpadding="4" cellspacing="0" summary="" id="EN-US_TOPIC_0000001851882653__table17583541123013" frame="border" border="1" rules="all"><caption><b>Table 3 </b>Advanced settings for restoration to a new location</caption><colgroup><col style="width:29.75%"><col style="width:70.25%"></colgroup><thead align="left"><tr><th align="left" class="cellrowborder" valign="top" width="29.75%" id="mcps1.3.3.2.5.2.1.2.1.4.2.2.3.1.1"><p>Parameter</p>
</th>
<th align="left" class="cellrowborder" valign="top" width="70.25%" id="mcps1.3.3.2.5.2.1.2.1.4.2.2.3.1.2"><p>Description</p>
</th>
</tr>
</thead>
<tbody><tr><td class="cellrowborder" valign="top" width="29.75%" headers="mcps1.3.3.2.5.2.1.2.1.4.2.2.3.1.1 "><p><span><strong>Agent Host</strong></span></p>
</td>
<td class="cellrowborder" valign="top" width="70.25%" headers="mcps1.3.3.2.5.2.1.2.1.4.2.2.3.1.2 "><p>Select an agent host used for restoration using copies.</p>
</td>
</tr>
<tr><td class="cellrowborder" valign="top" width="29.75%" headers="mcps1.3.3.2.5.2.1.2.1.4.2.2.3.1.1 "><p><span><strong>Power on Automatically After Restoration</strong></span></p>
</td>
<td class="cellrowborder" valign="top" width="70.25%" headers="mcps1.3.3.2.5.2.1.2.1.4.2.2.3.1.2 "><p>If this option is enabled, the cloud server automatically starts after the restoration is successful. This option is disabled by default.</p>
</td>
</tr>
<tr><td class="cellrowborder" valign="top" width="29.75%" headers="mcps1.3.3.2.5.2.1.2.1.4.2.2.3.1.1 "><p><span><strong>Copy Verification Before Restoration</strong></span></p>
</td>
<td class="cellrowborder" valign="top" width="70.25%" headers="mcps1.3.3.2.5.2.1.2.1.4.2.2.3.1.2 "><p>If this option is enabled, the integrity of a copy is verified before the restoration using the copy. Copy verification affects the restoration performance. This option is disabled by default. If no copy verification file is generated, this option cannot be enabled.</p>
</td>
</tr>
<tr><td class="cellrowborder" valign="top" width="29.75%" headers="mcps1.3.3.2.5.2.1.2.1.4.2.2.3.1.1 "><p><span><strong>Network Location</strong></span></p>
</td>
<td class="cellrowborder" valign="top" width="70.25%" headers="mcps1.3.3.2.5.2.1.2.1.4.2.2.3.1.2 "><p>Select the name of the port group to which the VM NIC is to be restored.</p>
</td>
</tr>
<tr><td class="cellrowborder" valign="top" width="29.75%" headers="mcps1.3.3.2.5.2.1.2.1.4.2.2.3.1.1 "><p><span><strong>Enable Network Adapters</strong></span></p>
</td>
<td class="cellrowborder" valign="top" width="70.25%" headers="mcps1.3.3.2.5.2.1.2.1.4.2.2.3.1.2 "><p>This option is used to set the connection status of the VM NIC after restoration. This function is disabled by default, that is, all VM NICs are disabled. After the VM is restored, you need to log in to the CNware management page to set the VM NIC connection. If this function is enabled, the network of the new VM may conflict with that of the original VM. In this case, check the network of the new VM after the VM is restored.</p>
</td>
</tr>
</tbody>
</table>
</div>
</li><li>Click <span class="uicontrol"><b><span><strong>OK</strong></span></b></span>.<p>After instant recovery, the VM is automatically powered on.</p>
</li></ol>
</li></ul>
</p></li></ol>
</div>
</div>
<div>
<div class="familylinks">
<div class="parentlink"><strong>Parent topic:</strong> <a href="en-us_topic_0000001805083858.html">Instant Recovery</a></div>
</div>
</div>

<div class="hrcopyright"><hr size="2"></div><div class="hwcopyright">Copyright &copy; Huawei Technologies Co., Ltd.</div></body>
</html>