<!--
  This file is a part of the open-eBackup project.
  This Source Code Form is subject to the terms of the Mozilla Public License, v. 2.0.
  If a copy of the MPL was not distributed with this file, You can obtain one at
  http://mozilla.org/MPL/2.0/.
  
  Copyright (c) [2024] Huawei Technologies Co.,Ltd.
  
  THIS SOFTWARE IS PROVIDED ON AN "AS IS" BASIS, WITHOUT WARRANTIES OF ANY KIND,
  EITHER EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO NON-INFRINGEMENT,
  MERCHANTABILITY OR FIT FOR A PARTICULAR PURPOSE.
  -->


<!--
  This file is a part of the open-eBackup project.
  This Source Code Form is subject to the terms of the Mozilla Public License, v. 2.0.
  If a copy of the MPL was not distributed with this file, You can obtain one at
  http://mozilla.org/MPL/2.0/.
  
  Copyright (c) [2024] Huawei Technologies Co.,Ltd.
  
  THIS SOFTWARE IS PROVIDED ON AN "AS IS" BASIS, WITHOUT WARRANTIES OF ANY KIND,
  EITHER EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO NON-INFRINGEMENT,
  MERCHANTABILITY OR FIT FOR A PARTICULAR PURPOSE.
  -->

<!--
  This file is a part of the open-eBackup project.
  This Source Code Form is subject to the terms of the Mozilla Public License, v. 2.0.
  If a copy of the MPL was not distributed with this file, You can obtain one at
  http://mozilla.org/MPL/2.0/.
  
  Copyright (c) [2024] Huawei Technologies Co.,Ltd.
  
  THIS SOFTWARE IS PROVIDED ON AN "AS IS" BASIS, WITHOUT WARRANTIES OF ANY KIND,
  EITHER EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO NON-INFRINGEMENT,
  MERCHANTABILITY OR FIT FOR A PARTICULAR PURPOSE.
  -->

<!--
  This file is a part of the open-eBackup project.
  This Source Code Form is subject to the terms of the Mozilla Public License, v. 2.0.
  If a copy of the MPL was not distributed with this file, You can obtain one at
  http://mozilla.org/MPL/2.0/.
  
  Copyright (c) [2024] Huawei Technologies Co.,Ltd.
  
  THIS SOFTWARE IS PROVIDED ON AN "AS IS" BASIS, WITHOUT WARRANTIES OF ANY KIND,
  EITHER EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO NON-INFRINGEMENT,
  MERCHANTABILITY OR FIT FOR A PARTICULAR PURPOSE.
  -->

<!DOCTYPE html
  PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en-us" xml:lang="en-us">
<head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
   
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="DC.Type" content="topic">
<meta name="DC.Title" content="Restoring the Informix Database">
<meta name="product" content="">
<meta name="DC.Relation" scheme="URI" content="en-us_topic_0000001792517778.html">
<meta name="prodname" content="">
<meta name="version" content="">
<meta name="brand" content="30-OceanProtect Appliance 1.5.0-1.6.0 Help Center">
<meta name="DC.Publisher" content="20240608">
<meta name="DC.Format" content="XHTML">
<meta name="DC.Identifier" content="EN-US_TOPIC_0000001839237193">
<meta name="DC.Language" content="en-us">
<link rel="stylesheet" type="text/css" href="public_sys-resources/commonltr.css">
<title>Restoring the Informix Database</title>
</head>
<body style="clear:both; padding-left:10px; padding-top:5px; padding-right:5px; padding-bottom:5px"><a name="EN-US_TOPIC_0000001839237193"></a><a name="EN-US_TOPIC_0000001839237193"></a>

<h1 class="topictitle1">Restoring the Informix Database</h1>
<div><p>This section describes how to restore an Informix instance that has been backed up to the original location or a new location.</p>
<div class="section"><h4 class="sectiontitle">Context</h4><p>Backup, archive, and replication copies can be used for restoration. Restoration to the original or a new location is supported. If you use replication copies or archive copies generated by replication copies, the data cannot be restored to the original location.</p>
</div>
<div class="section"><h4 class="sectiontitle">Prerequisites</h4><p>Before the restoration, shut down the Informix database. If the Informix cluster is an HDR cluster, shut down the Informix database on both the active and standby nodes.</p>
<ol><li>Use PuTTY to log in to the Informix database host and switch to the database installation user.</li><li>Run the <strong>source ~/.bash_profile</strong> command to configure environment variables.</li><li>Run the <strong>onstat -l</strong> command to check the status of the Informix database.<p>If <strong>On-Line (Prim)</strong>, <strong>Read-Only (sec)</strong>, or <strong>On-Line</strong> is displayed in the command output, the database is not shut down. Proceed with subsequent operations to shut down the database.</p>
<p><span><img src="en-us_image_0000001924413566.png"></span></p>
<div class="note"><img src="public_sys-resources/note_3.0-en-us.png"><span class="notetitle"> </span><div class="notebody"><p><strong>On-Line</strong> is displayed if the database of the Informix single-node system is not shut down. <strong>On-Line (Prim)</strong> is displayed if the database is not shut down on the primary node of the Informix cluster. <strong>Read-Only (sec)</strong> is displayed if the database is not shut down on the secondary node of the Informix cluster.</p>
</div></div>
</li><li>Run the <strong>onmode -ky</strong> command to shut down the database.</li></ol>
</div>
<div class="section"><h4 class="sectiontitle">Procedure</h4><ol><li><span>Choose <span class="uicontrol" id="EN-US_TOPIC_0000001839237193__en-us_topic_0000001839142377_uicontrol12513913152710"><b><span id="EN-US_TOPIC_0000001839237193__en-us_topic_0000001839142377_text751371311271"><strong>Explore</strong></span> &gt; <span id="EN-US_TOPIC_0000001839237193__en-us_topic_0000001839142377_text55131513142712"><strong>Copy Data</strong></span> &gt; <span id="EN-US_TOPIC_0000001839237193__en-us_topic_0000001839142377_text1637173717498"><strong>Databases</strong></span> &gt; Informix</b></span>.</span></li><li><span>You can search for copies by Informix instance resource or copy. This section describes how to search for copies by resource.</span><p><p>On the <span class="uicontrol"><b><span><strong>Resources</strong></span></b></span> tab page, locate the resource to be restored by resource name and click the name.</p>
</p></li><li><span>Select the resource for copy-based restoration.</span></li><li><span>Specify a copy or a point in time for restoration.</span><p><ul><li>Restoration using a specified copy<ol type="a"><li>Select the year, month, and day in sequence to find the copy.<p>If <span><img src="en-us_image_0000001839237365.png"></span> is displayed below a month or day, a copy is generated in the month or on the day.</p>
</li><li>On the copy data page, click <span><img src="en-us_image_0000001839237333.png"></span> and choose <span class="menucascade"><b><span class="uicontrol"><span><strong>More</strong></span></span></b> &gt; <b><span class="uicontrol"><span><strong>Restore</strong></span></span></b></span> in the row where the desired copy resides.</li></ol>
</li><li>Restoration to a specified point in time<ol type="a"><li>Select the year, month, and day in sequence to find the copy.<p>If <span><img src="en-us_image_0000001792518006.png"></span> is displayed below a month or day, a copy is generated in the month or on the day.</p>
</li><li>On the copy data page, click <span><img src="en-us_image_0000001839237345.png"></span>. In the blue part on the timeline, select a copy and click <span class="menucascade"><b><span class="uicontrol"><span><strong>More</strong></span></span></b> &gt; <b><span class="uicontrol"><span><strong>Restore</strong></span></span></b></span>.<div class="note"><img src="public_sys-resources/note_3.0-en-us.png"><span class="notetitle"> </span><div class="notebody"><ul id="EN-US_TOPIC_0000001839237193__en-us_topic_0000001839188281_ul75802612312"><li id="EN-US_TOPIC_0000001839237193__en-us_topic_0000001839188281_li1497342618234">For 1.5.0, a maximum of 100 copies can be displayed on the timeline. You can click <span><img id="EN-US_TOPIC_0000001839237193__en-us_topic_0000001839188281_image173544102299" src="en-us_image_0000001886153709.png"></span> to view all copies.</li><li id="EN-US_TOPIC_0000001839237193__en-us_topic_0000001839188281_li95818264231">During point-in-time recovery, the information about the copy used for restoration cannot be obtained on the management page. Therefore, users cannot view the copy information of the restoration job on pages of the restoration job and related events.</li></ul>
</div></div>
</li><li>Restore the Informix database to its original or a new location.<div class="p"><a href="#EN-US_TOPIC_0000001839237193__table4574123782">Table 1</a> describes the related parameters.
<div class="tablenoborder"><a name="EN-US_TOPIC_0000001839237193__table4574123782"></a><a name="table4574123782"></a><table cellpadding="4" cellspacing="0" summary="" id="EN-US_TOPIC_0000001839237193__table4574123782" frame="border" border="1" rules="all"><caption><b>Table 1 </b>Restoring the Informix database</caption><colgroup><col style="width:26.279999999999998%"><col style="width:73.72%"></colgroup><thead align="left"><tr><th align="left" class="cellrowborder" valign="top" width="26.279999999999998%" id="mcps1.3.4.2.4.2.1.2.1.3.1.2.2.3.1.1"><p>Parameter</p>
</th>
<th align="left" class="cellrowborder" valign="top" width="73.72%" id="mcps1.3.4.2.4.2.1.2.1.3.1.2.2.3.1.2"><p>Description</p>
</th>
</tr>
</thead>
<tbody><tr><td class="cellrowborder" valign="top" width="26.279999999999998%" headers="mcps1.3.4.2.4.2.1.2.1.3.1.2.2.3.1.1 "><p><span><strong>Restore To</strong></span></p>
</td>
<td class="cellrowborder" valign="top" width="73.72%" headers="mcps1.3.4.2.4.2.1.2.1.3.1.2.2.3.1.2 "><p>Select either <span class="uicontrol"><b><span><strong>Original location</strong></span></b></span> or <span class="uicontrol"><b><span><strong>New location</strong></span></b></span>.</p>
</td>
</tr>
<tr><td class="cellrowborder" valign="top" width="26.279999999999998%" headers="mcps1.3.4.2.4.2.1.2.1.3.1.2.2.3.1.1 "><p><span><strong>Location</strong></span></p>
</td>
<td class="cellrowborder" valign="top" width="73.72%" headers="mcps1.3.4.2.4.2.1.2.1.3.1.2.2.3.1.2 "><p>If you select restoration to <span class="uicontrol"><b><span><strong>Original location</strong></span></b></span>, the original location is displayed.</p>
</td>
</tr>
<tr><td class="cellrowborder" valign="top" width="26.279999999999998%" headers="mcps1.3.4.2.4.2.1.2.1.3.1.2.2.3.1.1 "><p><span><strong>Target Instance</strong></span></p>
</td>
<td class="cellrowborder" valign="top" width="73.72%" headers="mcps1.3.4.2.4.2.1.2.1.3.1.2.2.3.1.2 "><p>Target instance for restoration, which is mandatory if you select <span class="uicontrol"><b><span><strong>New location</strong></span></b></span> for the <strong>Restore To</strong> parameter.</p>
</td>
</tr>
</tbody>
</table>
</div>
</div>
<ol class="substepthirdol"><li>Click <span class="uicontrol"><b><span><strong>OK</strong></span></b></span>.</li><li>In the displayed dialog box, confirm the information and click <span class="uicontrol"><b><span><strong>Close</strong></span></b></span>.<p><span><img src="en-us_image_0000001792518022.png"></span></p>
</li></ol>
</li></ol>
</li></ul>
</p></li><li><span>Click <span class="uicontrol"><b>OK</b></span>.</span></li></ol>
</div>
</div>
<div>
<div class="familylinks">
<div class="parentlink"><strong>Parent topic:</strong> <a href="en-us_topic_0000001792517778.html">Restoration</a></div>
</div>
</div>

<div class="hrcopyright"><hr size="2"></div><div class="hwcopyright">Copyright &copy; Huawei Technologies Co., Ltd.</div></body>
</html>