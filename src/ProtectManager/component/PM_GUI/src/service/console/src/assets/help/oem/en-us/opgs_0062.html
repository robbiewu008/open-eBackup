<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!--
  This file is a part of the open-eBackup project.
  This Source Code Form is subject to the terms of the Mozilla Public License, v. 2.0.
  If a copy of the MPL was not distributed with this file, You can obtain one at
  http://mozilla.org/MPL/2.0/.
  
  Copyright (c) [2024] Huawei Technologies Co.,Ltd.
  
  THIS SOFTWARE IS PROVIDED ON AN "AS IS" BASIS, WITHOUT WARRANTIES OF ANY KIND,
  EITHER EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO NON-INFRINGEMENT,
  MERCHANTABILITY OR FIT FOR A PARTICULAR PURPOSE.
  -->

<html lang="en-us" xml:lang="en-us">
 <head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="DC.Type" content="topic">
  <meta name="DC.Title" content="Managing openGauss/CMDB Copies">
  <meta name="product" content="">
  <meta name="DC.Relation" scheme="URI" content="opgs_0060.html">
  <meta name="prodname" content="">
  <meta name="version" content="">
  <meta name="brand" content="30-OceanProtect Appliance 1.5.0-1.6.0 Help Center">
  <meta name="DC.Publisher" content="20241029">
  <meta name="prodname" content="csbs">
  <meta name="documenttype" content="usermanual">
  <meta name="DC.Format" content="XHTML">
  <meta name="DC.Identifier" content="opgs_0062">
  <meta name="DC.Language" content="en-us">
  <link rel="stylesheet" type="text/css" href="public_sys-resources/commonltr.css">
  <title>Managing openGauss/CMDB Copies</title>
 </head>
 <body style="clear:both; padding-left:10px; padding-top:5px; padding-right:5px; padding-bottom:5px">
  <a name="opgs_0062"></a><a name="opgs_0062"></a>
  <h1 class="topictitle1">Managing openGauss/CMDB Copies</h1>
  <div>
   <p>This section describes operations you can perform on copies on the <span>product</span>.</p>
   <p>Log in to the management page and choose <span class="uicontrol"><b><span id="opgs_0062__en-us_topic_0000001839142377_text19535171918274"><strong>Explore</strong></span> &gt; <span id="opgs_0062__en-us_topic_0000001839142377_text175351119172711"><strong>Copy Data</strong></span> &gt; <span id="opgs_0062__en-us_topic_0000001839142377_text59261952124911"><strong>Databases</strong></span> &gt; <span id="opgs_0062__en-us_topic_0000001839142377_text11575567321"><strong>openGauss</strong></span></b></span> to go to the copy import page.</p>
   <ul>
    <li>Click the <strong>Resources</strong> tab and perform operations by resource.<p><a href="#opgs_0062__table1065485618201">Table 1</a> describes related operations.</p>
     <div class="tablenoborder">
      <a name="opgs_0062__table1065485618201"></a><a name="table1065485618201"></a>
      <table cellpadding="4" cellspacing="0" summary="" id="opgs_0062__table1065485618201" frame="border" border="1" rules="all">
       <caption>
        <b>Table 1 </b>Operations related to replication copies
       </caption>
       <colgroup>
        <col style="width:21.32%">
        <col style="width:47.339999999999996%">
        <col style="width:31.34%">
       </colgroup>
       <thead align="left">
        <tr id="opgs_0062__en-us_topic_0000001839143185_row6870349042">
         <th align="left" class="cellrowborder" valign="top" width="21.32%" id="mcps1.3.3.1.3.2.4.1.1"><p id="opgs_0062__en-us_topic_0000001839143185_p118701849749">Operation</p></th>
         <th align="left" class="cellrowborder" valign="top" width="47.339999999999996%" id="mcps1.3.3.1.3.2.4.1.2"><p id="opgs_0062__en-us_topic_0000001839143185_p1387013498414">Description</p></th>
         <th align="left" class="cellrowborder" valign="top" width="31.34%" id="mcps1.3.3.1.3.2.4.1.3"><p id="opgs_0062__en-us_topic_0000001839143185_p12870184910411">Navigation Path</p></th>
        </tr>
       </thead>
       <tbody>
        <tr id="opgs_0062__en-us_topic_0000001839143185_row08701149540">
         <td class="cellrowborder" valign="top" width="21.32%" headers="mcps1.3.3.1.3.2.4.1.1 "><p id="opgs_0062__en-us_topic_0000001839143185_p48706491742">Creating protection for replication copies</p></td>
         <td class="cellrowborder" valign="top" width="47.339999999999996%" headers="mcps1.3.3.1.3.2.4.1.2 "><p id="opgs_0062__en-us_topic_0000001839143185_p1087015494412"><strong id="opgs_0062__en-us_topic_0000001839143185_b13871149741">Scenario</strong></p> <p id="opgs_0062__en-us_topic_0000001839143185_p270074703612">This operation enables you to periodically replicate or archive replication copies.</p> <p id="opgs_0062__en-us_topic_0000001839143185_p267094031613"><strong id="opgs_0062__en-us_topic_0000001839143185_b4978171851814">Note</strong></p> <p id="opgs_0062__en-us_topic_0000001839143185_p9670184021612">If no replication copy is generated for the selected resource, you cannot associate an SLA with the resource for protection.</p></td>
         <td class="cellrowborder" valign="top" width="31.34%" headers="mcps1.3.3.1.3.2.4.1.3 "><p id="opgs_0062__en-us_topic_0000001839143185_p487194915415">In the row of the target resource, choose <strong id="opgs_0062__en-us_topic_0000001839143185_b1411594718412">More</strong> &gt; <span id="opgs_0062__en-us_topic_0000001839143185_text11574114117417"><strong>Protect</strong></span> and associate a replication SLA or an archive SLA to replicate or archive replication copies.</p></td>
        </tr>
        <tr id="opgs_0062__en-us_topic_0000001839143185_row178717491342">
         <td class="cellrowborder" valign="top" width="21.32%" headers="mcps1.3.3.1.3.2.4.1.1 "><p id="opgs_0062__en-us_topic_0000001839143185_p18713493416">Modifying the SLA associated with replication copies</p> <p id="opgs_0062__en-us_topic_0000001839143185_p887110492414"></p></td>
         <td class="cellrowborder" valign="top" width="47.339999999999996%" headers="mcps1.3.3.1.3.2.4.1.2 "><p id="opgs_0062__en-us_topic_0000001839143185_p987134915415"><strong id="opgs_0062__en-us_topic_0000001839143185_b168711049240">Scenario</strong></p> <p id="opgs_0062__en-us_topic_0000001839143185_p287104910419">This operation enables you to modify the SLA associated with replication copies.</p></td>
         <td class="cellrowborder" valign="top" width="31.34%" headers="mcps1.3.3.1.3.2.4.1.3 "><p id="opgs_0062__en-us_topic_0000001839143185_p19871144910419">In the row of the target resource, choose <strong id="opgs_0062__en-us_topic_0000001839143185_b91933593419">More</strong> &gt; <span id="opgs_0062__en-us_topic_0000001839143185_text0977160173320"><strong>Modify Protection</strong></span> and associate a new SLA with replication copies.</p></td>
        </tr>
        <tr id="opgs_0062__en-us_topic_0000001839143185_row1987112491546">
         <td class="cellrowborder" valign="top" width="21.32%" headers="mcps1.3.3.1.3.2.4.1.1 "><p id="opgs_0062__en-us_topic_0000001839143185_p108711049749">Removing protection for replication copies</p></td>
         <td class="cellrowborder" valign="top" width="47.339999999999996%" headers="mcps1.3.3.1.3.2.4.1.2 "><p id="opgs_0062__en-us_topic_0000001839143185_p88711849945"><strong id="opgs_0062__en-us_topic_0000001839143185_b1787117491414">Scenario</strong></p> <p id="opgs_0062__en-us_topic_0000001839143185_p53695313586">You can remove the protection plan if the replication copies no longer need to be protected. After removal, the system cannot protect these replication copies.</p></td>
         <td class="cellrowborder" valign="top" width="31.34%" headers="mcps1.3.3.1.3.2.4.1.3 "><p id="opgs_0062__en-us_topic_0000001839143185_p15871144920417">In the row of the target resource, choose <strong id="opgs_0062__en-us_topic_0000001839143185_b577051413519">More</strong> &gt; <span id="opgs_0062__en-us_topic_0000001839143185_text2097191363317"><strong>Remove Protection</strong></span>.</p></td>
        </tr>
        <tr id="opgs_0062__en-us_topic_0000001839143185_row191077557610">
         <td class="cellrowborder" valign="top" width="21.32%" headers="mcps1.3.3.1.3.2.4.1.1 "><p id="opgs_0062__en-us_topic_0000001839143185_p136950484237">Activating protection for replication copies</p></td>
         <td class="cellrowborder" valign="top" width="47.339999999999996%" headers="mcps1.3.3.1.3.2.4.1.2 "><p id="opgs_0062__en-us_topic_0000001839143185_p86648169242"><strong id="opgs_0062__en-us_topic_0000001839143185_b4468151716249">Scenario</strong></p> <p id="opgs_0062__en-us_topic_0000001839143185_p10694948192314">After the protection plan for replication copies is disabled, you can enable it again. Then, the system protects replication copies based on the protection plan.</p></td>
         <td class="cellrowborder" valign="top" width="31.34%" headers="mcps1.3.3.1.3.2.4.1.3 "><p id="opgs_0062__en-us_topic_0000001839143185_p61071551265">In the row of the target resource, choose <strong id="opgs_0062__en-us_topic_0000001839143185_b1676211211059">More</strong> &gt; <span id="opgs_0062__en-us_topic_0000001839143185_text161681522103311"><strong>Activate Protection</strong></span>.</p></td>
        </tr>
        <tr id="opgs_0062__en-us_topic_0000001839143185_row811414581465">
         <td class="cellrowborder" valign="top" width="21.32%" headers="mcps1.3.3.1.3.2.4.1.1 "><p id="opgs_0062__en-us_topic_0000001839143185_p71076551464">Disabling protection for replication copies</p></td>
         <td class="cellrowborder" valign="top" width="47.339999999999996%" headers="mcps1.3.3.1.3.2.4.1.2 "><p id="opgs_0062__en-us_topic_0000001839143185_p842845116222"><strong id="opgs_0062__en-us_topic_0000001839143185_b1797565114222">Scenario</strong></p> <p id="opgs_0062__en-us_topic_0000001839143185_p10107055766">You can disable the protection plan if the replication copies no longer require periodic protection. After the protection plan is disabled, the system does not execute automatic protection jobs of these replication copies.</p></td>
         <td class="cellrowborder" valign="top" width="31.34%" headers="mcps1.3.3.1.3.2.4.1.3 "><p id="opgs_0062__en-us_topic_0000001839143185_p1111475810613">In the row of the target resource, choose <strong id="opgs_0062__en-us_topic_0000001839143185_b15650334751">More</strong> &gt; <span id="opgs_0062__en-us_topic_0000001839143185_text392918335339"><strong>Disable Protection</strong></span>.</p></td>
        </tr>
        <tr id="opgs_0062__en-us_topic_0000001839143185_row153332773">
         <td class="cellrowborder" valign="top" width="21.32%" headers="mcps1.3.3.1.3.2.4.1.1 "><p id="opgs_0062__en-us_topic_0000001839143185_p43312218714">Performing manual replication for a replication copy</p></td>
         <td class="cellrowborder" valign="top" width="47.339999999999996%" headers="mcps1.3.3.1.3.2.4.1.2 "><p id="opgs_0062__en-us_topic_0000001839143185_p9940133218250"><strong id="opgs_0062__en-us_topic_0000001839143185_b109408327259">Scenario</strong></p> <p id="opgs_0062__en-us_topic_0000001839143185_p139401328256">This operation enables you to replicate a replication copy immediately.</p> <p id="opgs_0062__en-us_topic_0000001839143185_p6763172119279"><strong id="opgs_0062__en-us_topic_0000001839143185_b17763721122714">Note</strong></p> <p id="opgs_0062__en-us_topic_0000001839143185_p781862319279">Before performing this operation, ensure that an SLA based on replication copies has been created and used to create protection for the corresponding resource.</p></td>
         <td class="cellrowborder" valign="top" width="31.34%" headers="mcps1.3.3.1.3.2.4.1.3 "><p id="opgs_0062__en-us_topic_0000001839143185_p1534321671">In the row of the target resource, choose <strong id="opgs_0062__en-us_topic_0000001839143185_b78005371758">More</strong> &gt; <span id="opgs_0062__en-us_topic_0000001839143185_text316874418335"><strong>Manually Replicate</strong></span>.</p></td>
        </tr>
       </tbody>
      </table>
     </div></li>
   </ul>
   <ul>
    <li>Click the <strong>Copies</strong> tab and perform operations by copy.<p>The following table describes the related operations.</p>
     <div class="tablenoborder">
      <table cellpadding="4" cellspacing="0" summary="" frame="border" border="1" rules="all">
       <caption>
        <b>Table 2 </b>Operations related to copy import
       </caption>
       <colgroup>
        <col style="width:13%">
        <col style="width:58.620000000000005%">
        <col style="width:28.38%">
       </colgroup>
       <thead align="left">
        <tr>
         <th align="left" class="cellrowborder" valign="top" width="13%" id="mcps1.3.4.1.3.2.4.1.1"><p>Operation</p></th>
         <th align="left" class="cellrowborder" valign="top" width="58.620000000000005%" id="mcps1.3.4.1.3.2.4.1.2"><p>Description</p></th>
         <th align="left" class="cellrowborder" valign="top" width="28.38%" id="mcps1.3.4.1.3.2.4.1.3"><p>Navigation Path</p></th>
        </tr>
       </thead>
       <tbody>
        <tr>
         <td class="cellrowborder" valign="top" width="13%" headers="mcps1.3.4.1.3.2.4.1.1 "><p>Restoring data using a copy</p></td>
         <td class="cellrowborder" valign="top" width="58.620000000000005%" headers="mcps1.3.4.1.3.2.4.1.2 "><p><strong>Scenario</strong></p> <p>This operation enables you to restore data using a copy that has been backed up.</p></td>
         <td class="cellrowborder" valign="top" width="28.38%" headers="mcps1.3.4.1.3.2.4.1.3 "><p>In the row of the target copy, choose <strong>More</strong> &gt; <span><strong>Restoration</strong></span>.</p> <p>You can set copy-based restoration to the original or a new location <a href="opengauss-0147.html#opengauss-0147__en-us_topic_0000001385658689_table194961441141219">Table 1</a> describes the related parameters.</p></td>
        </tr>
        <tr>
         <td class="cellrowborder" valign="top" width="13%" headers="mcps1.3.4.1.3.2.4.1.1 "><p>Modifying a copy retention policy</p> <p></p></td>
         <td class="cellrowborder" valign="top" width="58.620000000000005%" headers="mcps1.3.4.1.3.2.4.1.2 "><p><strong>Scenario</strong></p> <p>This operation enables you to modify the retention period of a copy.</p> <p><strong>Note</strong></p> <p>The new copy retention period is calculated from the time when the modification takes effect.</p></td>
         <td class="cellrowborder" valign="top" width="28.38%" headers="mcps1.3.4.1.3.2.4.1.3 "><p>Choose <span class="uicontrol"><b><span><strong>More</strong></span> &gt; <span><strong>Modify Retention Policy</strong></span></b></span> in the row where the copy is located.</p> <p>You can set the retention period to be permanent or to <em>xx</em> days, <em>xx</em> weeks, <em>xx</em> months, or <em>xx</em> years.</p></td>
        </tr>
        <tr>
         <td class="cellrowborder" valign="top" width="13%" headers="mcps1.3.4.1.3.2.4.1.1 ">
          <div class="p">
           Performing manual archiving
           <div class="note" id="opgs_0062__en-us_topic_0000001839143185_note1993101364115">
            <span class="notetitle"> NOTE: </span>
            <div class="notebody">
             <p id="opgs_0062__en-us_topic_0000001839143185_en-us_topic_0000001792344090_p1816719214566">Only 1.6.0 and later versions support this function.</p>
            </div>
           </div>
          </div></td>
         <td class="cellrowborder" valign="top" width="58.620000000000005%" headers="mcps1.3.4.1.3.2.4.1.2 "><p><strong id="opgs_0062__en-us_topic_0000001839143185_b106726388194">Scenario</strong></p> <p>This operation enables you to manually archive copies to the archive storage.</p> <p><strong id="opgs_0062__en-us_topic_0000001839143185_b1188222218474">Note</strong></p> <p>Only full copies can be manually archived.</p></td>
         <td class="cellrowborder" valign="top" width="28.38%" headers="mcps1.3.4.1.3.2.4.1.3 "><p>In the row of the target copy, choose <span class="uicontrol" id="opgs_0062__en-us_topic_0000001839143185_uicontrol5694115314197"><b><span id="opgs_0062__en-us_topic_0000001839143185_text3694165361915"><strong>More</strong></span> &gt; Manual Archive</b></span>.</p></td>
        </tr>
        <tr>
         <td class="cellrowborder" valign="top" width="13%" headers="mcps1.3.4.1.3.2.4.1.1 ">
          <div class="p">
           Performing WORM settings
           <div class="note" id="opgs_0062__en-us_topic_0000001839143185_note15696816958">
            <span class="notetitle"> NOTE: </span>
            <div class="notebody">
             <p id="opgs_0062__en-us_topic_0000001839143185_en-us_topic_0000001792344090_p1816719214566_1">Only 1.6.0 and later versions support this function.</p>
            </div>
           </div>
          </div></td>
         <td class="cellrowborder" valign="top" width="58.620000000000005%" headers="mcps1.3.4.1.3.2.4.1.2 "><p><strong>Scenario</strong></p> <p>This operation enables you to set a copy as a WORM copy or change the WORM validity period.</p>
          <div class="p">
           <strong id="opgs_0062__en-us_topic_0000001839143185_b1321210121610">Note</strong>
           <ul id="opgs_0062__en-us_topic_0000001839143185_ul731014177115">
            <li id="opgs_0062__en-us_topic_0000001839143185_en-us_topic_0000001839143189_li103014415565">WORM copies cannot be deleted or their validity periods cannot be shortened.</li>
            <li id="opgs_0062__en-us_topic_0000001839143185_en-us_topic_0000001839143189_li9171132315916">The custom WORM validity period cannot be longer than the copy retention period.</li>
            <li id="opgs_0062__en-us_topic_0000001839143185_en-us_topic_0000001839143189_li976612319580">A WORM copy cannot be changed to a non-WORM copy within its validity period.</li>
           </ul>
          </div></td>
         <td class="cellrowborder" valign="top" width="28.38%" headers="mcps1.3.4.1.3.2.4.1.3 "><p>In the row of the target copy, choose <strong id="opgs_0062__en-us_topic_0000001839143185_b126021141612">More</strong> &gt; <strong id="opgs_0062__en-us_topic_0000001839143185_b15601112167">WORM Setting</strong>.</p></td>
        </tr>
        <tr>
         <td class="cellrowborder" valign="top" width="13%" headers="mcps1.3.4.1.3.2.4.1.1 "><p>Deleting a copy</p></td>
         <td class="cellrowborder" valign="top" width="58.620000000000005%" headers="mcps1.3.4.1.3.2.4.1.2 "><p><strong>Scenario</strong></p> <p>If a copy is not required or becomes invalid, you can delete it to free up storage space.</p> <p><strong>Note</strong></p>
          <ul>
           <li>This operation can be performed only for copies whose generation mode is <span class="uicontrol"><b><span><strong>Download</strong></span></b></span>.</li>
           <li>Before deleting a copy, ensure that the copy is no longer used for restoration.</li>
           <li>Copies in <span class="uicontrol"><b><span><strong>Invalid</strong></span></b></span> or <span class="uicontrol"><b><span><strong>Normal</strong></span></b></span> state can be deleted. Copies in other states cannot be deleted.</li>
           <li>If a database has multiple copies, the latest copy cannot be deleted.</li>
           <li>If a resource has multiple copies and only one full replication copy, the full replication copy cannot be deleted.</li>
          </ul></td>
         <td class="cellrowborder" valign="top" width="28.38%" headers="mcps1.3.4.1.3.2.4.1.3 "><p>Choose <span class="uicontrol"><b><span><strong>More</strong></span> &gt; <span><strong>Delete</strong></span></b></span> in the row where the copy is located.</p></td>
        </tr>
        <tr>
         <td class="cellrowborder" valign="top" width="13%" headers="mcps1.3.4.1.3.2.4.1.1 "><p>Performing reverse replication or cascaded replication on replication copies</p></td>
         <td class="cellrowborder" valign="top" width="58.620000000000005%" headers="mcps1.3.4.1.3.2.4.1.2 "><p><strong>Scenario</strong></p> <p>This operation enabled you to replicate a replication copy to the source end for data restoration or replicate a replication copy to another cluster for remote DR.</p> <p><strong>Note</strong></p> <p>When reverse replication is performed, the copy with the same name at the source end will be overwritten.</p></td>
         <td class="cellrowborder" valign="top" width="28.38%" headers="mcps1.3.4.1.3.2.4.1.3 ">
          <div class="p">
           In the row of the target replication copy, choose <strong id="opgs_0062__en-us_topic_0000001839143185_b27822552514">More</strong> &gt; <span id="opgs_0062__en-us_topic_0000001839143185_text191285272345"><strong>Replicate</strong></span>. Configure copy replication parameters.
           <ol id="opgs_0062__en-us_topic_0000001839143185_ol15113142311175">
            <li id="opgs_0062__en-us_topic_0000001839143185_li0113202310179">Select <span class="uicontrol" id="opgs_0062__en-us_topic_0000001839143185_uicontrol1611634014176"><b>Replication Target Cluster</b></span>.
             <ul id="opgs_0062__en-us_topic_0000001839143185_ul2991182216">
              <li id="opgs_0062__en-us_topic_0000001839143185_li3998812219">If <span class="uicontrol" id="opgs_0062__en-us_topic_0000001839143185_uicontrol630794164212"><b>Replication Target Cluster</b></span> is the source cluster, reverse replication is performed.</li>
              <li id="opgs_0062__en-us_topic_0000001839143185_li1419217379216">If <span class="uicontrol" id="opgs_0062__en-us_topic_0000001839143185_uicontrol118058437428"><b>Replication Target Cluster</b></span> is another cluster, cascaded replication is performed.</li>
             </ul></li>
            <li id="opgs_0062__en-us_topic_0000001839143185_li8112182510382">For 1.6.0 and later versions: Select <strong id="opgs_0062__en-us_topic_0000001839143185_b643413469142">Replication Target User</strong>.</li>
            <li id="opgs_0062__en-us_topic_0000001839143185_li83719248152">For 1.6.0 and later versions: Enter the password of the replication target user and click <strong id="opgs_0062__en-us_topic_0000001839143185_b666072914152">Authenticate</strong>.</li>
            <li id="opgs_0062__en-us_topic_0000001839143185_li222198163919">Set <strong id="opgs_0062__en-us_topic_0000001839143185_b8526141221619">Specify Target Location</strong> for replication.</li>
            <li id="opgs_0062__en-us_topic_0000001839143185_li1564916443171">Set the copy retention period.</li>
            <li id="opgs_0062__en-us_topic_0000001839143185_li6696135771714">Enable or disable deduplication and compression.<p id="opgs_0062__en-us_topic_0000001839143185_p325810594214"><a name="opgs_0062__en-us_topic_0000001839143185_li6696135771714"></a><a name="en-us_topic_0000001839143185_li6696135771714"></a>You are advised to enable these functions to improve replication efficiency.</p></li>
            <li id="opgs_0062__en-us_topic_0000001839143185_li3458142216186">Enable or disable the job failure alarm function.</li>
           </ol>
          </div></td>
        </tr>
       </tbody>
      </table>
     </div></li>
   </ul>
  </div>
  <div>
   <div class="familylinks">
    <div class="parentlink">
     <strong>Parent topic:</strong> <a href="opgs_0060.html">Copies</a>
    </div>
   </div>
  </div>
 </body>
</html>