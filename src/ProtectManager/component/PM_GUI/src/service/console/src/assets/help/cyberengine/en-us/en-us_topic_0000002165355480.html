<!--
  This file is a part of the open-eBackup project.
  This Source Code Form is subject to the terms of the Mozilla Public License, v. 2.0.
  If a copy of the MPL was not distributed with this file, You can obtain one at
  http://mozilla.org/MPL/2.0/.
  
  Copyright (c) [2024] Huawei Technologies Co.,Ltd.
  
  THIS SOFTWARE IS PROVIDED ON AN "AS IS" BASIS, WITHOUT WARRANTIES OF ANY KIND,
  EITHER EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO NON-INFRINGEMENT,
  MERCHANTABILITY OR FIT FOR A PARTICULAR PURPOSE.
  -->


<!DOCTYPE html
  PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en-us" xml:lang="en-us">
<head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
   
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="DC.Type" content="topic">
<meta name="DC.Title" content="Restoring Data Using a Snapshot">
<meta name="product" content="">
<meta name="DC.Relation" scheme="URI" content="en-us_topic_0000002165355564.html">
<meta name="prodname" content="">
<meta name="version" content="">
<meta name="brand" content="00-OceanCyber 300 1.2.0 Online Help">
<meta name="DC.Publisher" content="20250228">
<meta name="DC.Format" content="XHTML">
<meta name="DC.Identifier" content="EN-US_TOPIC_0000002165355480">
<meta name="DC.Language" content="en-us">
<link rel="stylesheet" type="text/css" href="public_sys-resources/commonltr.css">
<title>Restoring Data Using a Snapshot</title>
</head>
<body style="clear:both; padding-left:10px; padding-top:5px; padding-right:5px; padding-bottom:5px"><a name="EN-US_TOPIC_0000002165355480"></a><a name="EN-US_TOPIC_0000002165355480"></a>

<h1 class="topictitle1">Restoring Data Using a Snapshot</h1>
<div id="body0000001490983158"><p id="EN-US_TOPIC_0000002165355480__p203974140319">This section describes how to restore data using a ransomware detection snapshot.</p>
<div class="section" id="EN-US_TOPIC_0000002165355480__en-us_topic_0000001335454177_section1982217410176"><h4 class="sectiontitle">Prerequisites</h4><p id="EN-US_TOPIC_0000002165355480__p1237617509397">You are advised to select a ransomware detection snapshot in the <span class="uicontrol" id="EN-US_TOPIC_0000002165355480__en-us_topic_0000001291000404_en-us_topic_0000001337295517_uicontrol116921230162419"><b><span id="EN-US_TOPIC_0000002165355480__text3145153212112"><strong>Uninfected</strong></span></b></span> state for restoration.</p>
</div>
<div class="section" id="EN-US_TOPIC_0000002165355480__section14926175118382"><h4 class="sectiontitle">Precautions</h4><ul id="EN-US_TOPIC_0000002165355480__ul359118482397"><li id="EN-US_TOPIC_0000002165355480__li147155719396">The shared path restoration capability applies only to OceanStor Dorado (including new-gen OceanStor hybrid flash storage) and OceanProtect backup storage.</li><li id="EN-US_TOPIC_0000002165355480__li1465635413264">The <span id="EN-US_TOPIC_0000002165355480__text16678514595">OceanCyber 300 Data Security Appliance</span> does not allow restoration of WORM file systems.</li></ul>
</div>
<div class="section" id="EN-US_TOPIC_0000002165355480__section0688809286"><h4 class="sectiontitle">Procedure</h4><ol id="EN-US_TOPIC_0000002165355480__en-us_topic_0000001335454177_ol17970103211298"><li id="EN-US_TOPIC_0000002165355480__en-us_topic_0000001335454177_li0198134611381"><span><span id="EN-US_TOPIC_0000002165355480__ph3126048195015">In the navigation pane, choose <span class="uicontrol" id="EN-US_TOPIC_0000002165355480__en-us_topic_0000002055871086_uicontrol13816408484"><b>Snapshot Management and Restoration</b></span></span>.</span></li><li id="EN-US_TOPIC_0000002165355480__li111571410153414"><span>Search for snapshots by resource or snapshot. This section uses the resource dimension as an example.</span></li><li id="EN-US_TOPIC_0000002165355480__en-us_topic_0000001335454177_li1867513367305"><span>Click <span><img id="EN-US_TOPIC_0000002165355480__image11692185003515" src="en-us_image_0000002200876281.png"></span>. In the row that contains a resource, choose <span id="EN-US_TOPIC_0000002165355480__text19350174412125"><strong>More</strong></span> &gt; <span id="EN-US_TOPIC_0000002165355480__text1283016171311"><strong>Restore</strong></span>.</span><p><div class="note" id="EN-US_TOPIC_0000002165355480__note999214043919"><img src="public_sys-resources/note_3.0-en-us.png"><span class="notetitle"> </span><div class="notebody"><p id="EN-US_TOPIC_0000002165355480__p929619466391">If a full backup copy is infected, customers must not use incremental copies of the full backup copy for data restoration. If incremental backup copies are infected, customers can use the clean copy generated before the first incremental backup copy is infected for data restoration. If a synthetic full backup copy is infected, customers can use the previous clean copy for restoration.</p>
</div></div>
</p></li><li id="EN-US_TOPIC_0000002165355480__li13609453820"><span>Select the snapshot generation time.</span></li><li id="EN-US_TOPIC_0000002165355480__li16474583599"><span>Set <strong id="EN-US_TOPIC_0000002165355480__b47921599144">Restoration Mode</strong>, which can be <span id="EN-US_TOPIC_0000002165355480__text56471958155916"><strong>Restoration to original location</strong></span> or <span id="EN-US_TOPIC_0000002165355480__text964765812592"><strong>Shared path restoration</strong></span>. If this parameter is set to <span id="EN-US_TOPIC_0000002165355480__text15647205811596"><strong>Shared path restoration</strong></span>, different detection modes have the following differences:</span><p><ul id="EN-US_TOPIC_0000002165355480__ul530510716010"><li id="EN-US_TOPIC_0000002165355480__li386821417315">In the intelligent detection scenario where the storage device type is the OceanProtect Backup Storage or OceanStor Dorado, or in the real-time detection scenario:<div class="p" id="EN-US_TOPIC_0000002165355480__p496701612314"><a name="EN-US_TOPIC_0000002165355480__li386821417315"></a><a name="li386821417315"></a>Set shared path restoration parameters. For details about the parameters, see <a href="#EN-US_TOPIC_0000002165355480__en-us_topic_0000001335454177_table157333333311">Table 1</a>.
<div class="tablenoborder"><a name="EN-US_TOPIC_0000002165355480__en-us_topic_0000001335454177_table157333333311"></a><a name="en-us_topic_0000001335454177_table157333333311"></a><table cellpadding="4" cellspacing="0" summary="" id="EN-US_TOPIC_0000002165355480__en-us_topic_0000001335454177_table157333333311" frame="border" border="1" rules="all"><caption><b>Table 1 </b>File system details</caption><colgroup><col style="width:25.180000000000003%"><col style="width:74.82%"></colgroup><thead align="left"><tr id="EN-US_TOPIC_0000002165355480__en-us_topic_0000001335454177_row16573333113311"><th align="left" class="cellrowborder" valign="top" width="25.180000000000003%" id="mcps1.3.4.2.5.2.1.1.1.2.2.3.1.1"><p id="EN-US_TOPIC_0000002165355480__en-us_topic_0000001335454177_p2057393312339">Parameter</p>
</th>
<th align="left" class="cellrowborder" valign="top" width="74.82%" id="mcps1.3.4.2.5.2.1.1.1.2.2.3.1.2"><p id="EN-US_TOPIC_0000002165355480__en-us_topic_0000001335454177_p19573113353314">Description</p>
</th>
</tr>
</thead>
<tbody><tr id="EN-US_TOPIC_0000002165355480__en-us_topic_0000001335454177_row4573173323316"><td class="cellrowborder" valign="top" width="25.180000000000003%" headers="mcps1.3.4.2.5.2.1.1.1.2.2.3.1.1 "><p id="EN-US_TOPIC_0000002165355480__en-us_topic_0000001335454177_p10573103383314"><span id="EN-US_TOPIC_0000002165355480__text554117164148"><strong>Name of the Shared File System</strong></span></p>
</td>
<td class="cellrowborder" valign="top" width="74.82%" headers="mcps1.3.4.2.5.2.1.1.1.2.2.3.1.2 "><p id="EN-US_TOPIC_0000002165355480__en-us_topic_0000001335454177_p1457393313314">Indicates the name of a shared file system.</p>
</td>
</tr>
<tr id="EN-US_TOPIC_0000002165355480__en-us_topic_0000001335454177_row1657318338334"><td class="cellrowborder" valign="top" width="25.180000000000003%" headers="mcps1.3.4.2.5.2.1.1.1.2.2.3.1.1 "><p id="EN-US_TOPIC_0000002165355480__en-us_topic_0000001335454177_p3573153319338"><span id="EN-US_TOPIC_0000002165355480__text1766316286148"><strong>Retention Period of the Shared File System</strong></span></p>
</td>
<td class="cellrowborder" valign="top" width="74.82%" headers="mcps1.3.4.2.5.2.1.1.1.2.2.3.1.2 "><p id="EN-US_TOPIC_0000002165355480__en-us_topic_0000001335454177_p7573133363313">Enter an integer ranging from 1 to 96.</p>
</td>
</tr>
<tr id="EN-US_TOPIC_0000002165355480__row796017134315"><td class="cellrowborder" valign="top" width="25.180000000000003%" headers="mcps1.3.4.2.5.2.1.1.1.2.2.3.1.1 "><p id="EN-US_TOPIC_0000002165355480__p159601813203119"><span id="EN-US_TOPIC_0000002165355480__text1515874721411"><strong>Share Protocol</strong></span></p>
</td>
<td class="cellrowborder" valign="top" width="74.82%" headers="mcps1.3.4.2.5.2.1.1.1.2.2.3.1.2 "><p id="EN-US_TOPIC_0000002165355480__p11813165917611">Supports NFS and CIFS protocols.</p>
<div class="note" id="EN-US_TOPIC_0000002165355480__note79459564718"><span class="notetitle"> NOTE: </span><div class="notebody"><p id="EN-US_TOPIC_0000002165355480__p13528284">Before you select a protocol, ensure that the snapshot generation resource supports the share mode. Otherwise, the file permission information is not contained during mounting.</p>
</div></div>
</td>
</tr>
<tr id="EN-US_TOPIC_0000002165355480__row5647416112715"><td class="cellrowborder" valign="top" width="25.180000000000003%" headers="mcps1.3.4.2.5.2.1.1.1.2.2.3.1.1 "><p id="EN-US_TOPIC_0000002165355480__p1464761619278"><span id="EN-US_TOPIC_0000002165355480__text152789261519"><strong>Share Path</strong></span></p>
</td>
<td class="cellrowborder" valign="top" width="74.82%" headers="mcps1.3.4.2.5.2.1.1.1.2.2.3.1.2 "><p id="EN-US_TOPIC_0000002165355480__p186471016142717">This parameter is displayed when <strong id="EN-US_TOPIC_0000002165355480__b17512164625516">NFS</strong> is selected for <strong id="EN-US_TOPIC_0000002165355480__b1651274675512">Share Protocol</strong> and indicates the share path for accessing the file system. The path name is the same as the file system name and cannot be changed.</p>
</td>
</tr>
<tr id="EN-US_TOPIC_0000002165355480__row52733229278"><td class="cellrowborder" valign="top" width="25.180000000000003%" headers="mcps1.3.4.2.5.2.1.1.1.2.2.3.1.1 "><p id="EN-US_TOPIC_0000002165355480__p4273822202717"><span id="EN-US_TOPIC_0000002165355480__text1995021920150"><strong>Client</strong></span></p>
</td>
<td class="cellrowborder" valign="top" width="74.82%" headers="mcps1.3.4.2.5.2.1.1.1.2.2.3.1.2 "><div class="p" id="EN-US_TOPIC_0000002165355480__p627313223275">This parameter is displayed when <strong id="EN-US_TOPIC_0000002165355480__b1628862817566">NFS</strong> is selected for <strong id="EN-US_TOPIC_0000002165355480__b428892813569">Share Protocol</strong> and indicates the client information for accessing the file system.<ul id="EN-US_TOPIC_0000002165355480__ul10853114216166"><li id="EN-US_TOPIC_0000002165355480__li141781311161">You can enter client IP addresses, client IP address segments, or an asterisk (*) to represent IP addresses of all clients.</li><li id="EN-US_TOPIC_0000002165355480__li717813151615">The IP addresses can be IPv4 addresses, IPv6 addresses, or a combination of IPv4 and IPv6 addresses.</li><li id="EN-US_TOPIC_0000002165355480__li2178531151612">You can enter multiple IP addresses or IP address segments and separate them by semicolons (;) or spaces, or by pressing <strong id="EN-US_TOPIC_0000002165355480__b8929201533">Enter</strong>. Example: <strong id="EN-US_TOPIC_0000002165355480__b161019367545">192.168.0.10;192.168.0.0/24;*</strong></li></ul>
</div>
</td>
</tr>
<tr id="EN-US_TOPIC_0000002165355480__row4273022112712"><td class="cellrowborder" valign="top" width="25.180000000000003%" headers="mcps1.3.4.2.5.2.1.1.1.2.2.3.1.1 "><p id="EN-US_TOPIC_0000002165355480__p82734229277"><span id="EN-US_TOPIC_0000002165355480__text9262133281510"><strong>Share Name</strong></span></p>
</td>
<td class="cellrowborder" valign="top" width="74.82%" headers="mcps1.3.4.2.5.2.1.1.1.2.2.3.1.2 "><p id="EN-US_TOPIC_0000002165355480__p3273622102712">This parameter is displayed when <strong id="EN-US_TOPIC_0000002165355480__b2160811185717">CIFS</strong> is selected for <strong id="EN-US_TOPIC_0000002165355480__b1016041115570">Share Protocol</strong> and indicates the share name for accessing the file system.</p>
<ul id="EN-US_TOPIC_0000002165355480__ul1263314915333"><li id="EN-US_TOPIC_0000002165355480__li19633749123313">The default share name is <strong id="EN-US_TOPIC_0000002165355480__b16228183911349">Mount_</strong><em id="EN-US_TOPIC_0000002165355480__i2022933993418">Timestamp</em>. You can change it as needed.</li><li id="EN-US_TOPIC_0000002165355480__li19633549103317">Ensure that the backup resource supports the CIFS share protocol. Otherwise, the CIFS file permission information will not be contained during mounting.</li></ul>
</td>
</tr>
<tr id="EN-US_TOPIC_0000002165355480__row7273132213275"><td class="cellrowborder" valign="top" width="25.180000000000003%" headers="mcps1.3.4.2.5.2.1.1.1.2.2.3.1.1 "><p id="EN-US_TOPIC_0000002165355480__p14273112222713"><span id="EN-US_TOPIC_0000002165355480__text639917117162"><strong>Type</strong></span></p>
</td>
<td class="cellrowborder" valign="top" width="74.82%" headers="mcps1.3.4.2.5.2.1.1.1.2.2.3.1.2 "><p id="EN-US_TOPIC_0000002165355480__p227332212272">This parameter is displayed when <strong id="EN-US_TOPIC_0000002165355480__b76184195719">CIFS</strong> is selected for <strong id="EN-US_TOPIC_0000002165355480__b01391957125615">Share Protocol</strong> and indicates the type of user used to access CIFS shares.</p>
<ul id="EN-US_TOPIC_0000002165355480__ul183616552810"><li id="EN-US_TOPIC_0000002165355480__en-us_topic_0000001456639756_li115301547103614"><span id="EN-US_TOPIC_0000002165355480__en-us_topic_0000001456639756_text11836124163210">Everyone</span></li><li id="EN-US_TOPIC_0000002165355480__en-us_topic_0000001456639756_li1853094715369"><span id="EN-US_TOPIC_0000002165355480__en-us_topic_0000001456639756_text12625493210">Windows local authentication user</span></li><li id="EN-US_TOPIC_0000002165355480__en-us_topic_0000001456639756_li58994343227"><span id="EN-US_TOPIC_0000002165355480__en-us_topic_0000001456639756_text1018841611228">Windows local authentication user group</span></li></ul>
</td>
</tr>
<tr id="EN-US_TOPIC_0000002165355480__row1905133715129"><td class="cellrowborder" valign="top" width="25.180000000000003%" headers="mcps1.3.4.2.5.2.1.1.1.2.2.3.1.1 "><p id="EN-US_TOPIC_0000002165355480__p5906153718129"><strong id="EN-US_TOPIC_0000002165355480__b1234618445419">Users</strong></p>
</td>
<td class="cellrowborder" valign="top" width="74.82%" headers="mcps1.3.4.2.5.2.1.1.1.2.2.3.1.2 "><p id="EN-US_TOPIC_0000002165355480__p1290611374126">If <strong id="EN-US_TOPIC_0000002165355480__b6941162113313">Type</strong> is set to <span id="EN-US_TOPIC_0000002165355480__text1056354571818">Windows local authentication user</span> or <span id="EN-US_TOPIC_0000002165355480__text12228195412182">Windows local authentication user group</span>, you need to select users.</p>
</td>
</tr>
</tbody>
</table>
</div>
</div>
</li><li id="EN-US_TOPIC_0000002165355480__li1556315596215">In the intelligent detection scenario where the storage device type is OceanStor Pacific:<p id="EN-US_TOPIC_0000002165355480__p519219112310"><a name="EN-US_TOPIC_0000002165355480__li1556315596215"></a><a name="li1556315596215"></a>Create an NFS/CIFS share for the file system on the storage device as prompted, and use the client that has permission to access the NFS share or the user/user group that has permission to access the CIFS share to search for the snapshot.</p>
</li></ul>
</p></li><li id="EN-US_TOPIC_0000002165355480__li128901602519"><span>Click <strong id="EN-US_TOPIC_0000002165355480__b01396560318"><span id="EN-US_TOPIC_0000002165355480__text13631144331619"><strong>OK</strong></span></strong>.</span></li><li id="EN-US_TOPIC_0000002165355480__li93531217659"><span>In the dialog box that is displayed, confirm the information and click <span id="EN-US_TOPIC_0000002165355480__text67545511160"><strong>OK</strong></span>. The restoration is complete.</span></li></ol>
</div>
</div>
<div>
<div class="familylinks">
<div class="parentlink"><strong>Parent topic:</strong> <a href="en-us_topic_0000002165355564.html">Data Security</a></div>
</div>
</div>

<div class="hrcopyright"><hr size="2"></div><div class="hwcopyright">Copyright &copy; Huawei Technologies Co., Ltd.</div></body>
</html>