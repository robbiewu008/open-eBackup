<!--
  This file is a part of the open-eBackup project.
  This Source Code Form is subject to the terms of the Mozilla Public License, v. 2.0.
  If a copy of the MPL was not distributed with this file, You can obtain one at
  http://mozilla.org/MPL/2.0/.
  
  Copyright (c) [2024] Huawei Technologies Co.,Ltd.
  
  THIS SOFTWARE IS PROVIDED ON AN "AS IS" BASIS, WITHOUT WARRANTIES OF ANY KIND,
  EITHER EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO NON-INFRINGEMENT,
  MERCHANTABILITY OR FIT FOR A PARTICULAR PURPOSE.
  -->


<!DOCTYPE html
  PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en-us" xml:lang="en-us">
<head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
   
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="DC.Type" content="topic">
<meta name="DC.Title" content="Step 7: Performing Backup">
<meta name="product" content="">
<meta name="DC.Relation" scheme="URI" content="en-us_topic_0000002200153577.html">
<meta name="prodname" content="">
<meta name="version" content="">
<meta name="brand" content="">
<meta name="DC.Publisher" content="20250306">
<meta name="prodname" content="csbs">
<meta name="documenttype" content="usermanual">
<meta name="DC.Format" content="XHTML">
<meta name="DC.Identifier" content="EN-US_TOPIC_0000002200067993">
<meta name="DC.Language" content="en-us">
<link rel="stylesheet" type="text/css" href="public_sys-resources/commonltr.css">
<title>Step 7: Performing Backup</title>
</head>
<body style="clear:both; padding-left:10px; padding-top:5px; padding-right:5px; padding-bottom:5px"><a name="EN-US_TOPIC_0000002200067993"></a><a name="EN-US_TOPIC_0000002200067993"></a>

<h1 class="topictitle1">Step 7: Performing Backup</h1>
<div><p>Before performing backup, you need to associate the resources to be protected with a specified SLA. The system protects the resources based on the SLA and periodically performs backup jobs based on the SLA. You can perform a backup job immediately through manual backup.</p>
<div class="section"><h4 class="sectiontitle">Precautions</h4><ul><li>Copies generated by manual backup are retained for the duration defined in the SLA.</li><li>If a replication or archive policy has been defined in the SLA, the OceanProtect will perform replication or archiving once based on the SLA when you perform manual backup.</li><li>If no log backup is defined in the SLA, log backup cannot be automatically executed.</li><li>Ensure that the AntDB database instance is running properly. If the AntDB database instance is stopped, the backup job will fail.</li></ul>
</div>
<div class="section"><h4 class="sectiontitle">Procedure</h4><ol><li><span>Choose <span class="menucascade" id="EN-US_TOPIC_0000002200067993__en-us_topic_0000002164667246_en-us_topic_0000002199964685_menucascade19639111263113"><b><span class="uicontrol" id="EN-US_TOPIC_0000002200067993__en-us_topic_0000002164667246_en-us_topic_0000002199964685_uicontrol263971233119">Protection &gt; Databases &gt; AntDB</span></b></span>.</span></li><li><span>Select the instance to be protected and click <span class="uicontrol"><b><span><strong>Protect</strong></span></b></span>.</span><p><p>You can also select multiple databases for batch protection.</p>
</p></li><li><span>Select an SLA. </span><p><p>You can also click <span class="uicontrol"><b><span><strong>Create</strong></span></b></span> to create an SLA.</p>
<div class="note"><img src="public_sys-resources/note_3.0-en-us.png"><span class="notetitle"> </span><div class="notebody"><p><span>If a WORM policy has been configured for the resources to be protected, select an SLA without a WORM policy to avoid WORM policy conflicts.</span></p>
</div></div>
</p></li><li><span>Set other parameters of the backup policy. </span><p><div class="p"><a href="#EN-US_TOPIC_0000002200067993__en-us_topic_0000001349147581_en-us_topic_0000001263775382_table354613271506">Table 1</a> describes the related parameters.
<div class="tablenoborder"><a name="EN-US_TOPIC_0000002200067993__en-us_topic_0000001349147581_en-us_topic_0000001263775382_table354613271506"></a><a name="en-us_topic_0000001349147581_en-us_topic_0000001263775382_table354613271506"></a><table cellpadding="4" cellspacing="0" summary="" id="EN-US_TOPIC_0000002200067993__en-us_topic_0000001349147581_en-us_topic_0000001263775382_table354613271506" frame="border" border="1" rules="all"><caption><b>Table 1 </b>Other parameters of a backup policy</caption><colgroup><col style="width:37.47%"><col style="width:62.529999999999994%"></colgroup><thead align="left"><tr id="EN-US_TOPIC_0000002200067993__en-us_topic_0000002164667218_en-us_topic_0000002001372228_row15195123413819"><th align="left" class="cellrowborder" valign="top" width="37.47%" id="mcps1.3.3.2.4.2.1.2.2.3.1.1"><p id="EN-US_TOPIC_0000002200067993__en-us_topic_0000002164667218_en-us_topic_0000002001372228_p12195143420389">Parameter</p>
</th>
<th align="left" class="cellrowborder" valign="top" width="62.529999999999994%" id="mcps1.3.3.2.4.2.1.2.2.3.1.2"><p id="EN-US_TOPIC_0000002200067993__en-us_topic_0000002164667218_en-us_topic_0000002001372228_p3195123443814">Description</p>
</th>
</tr>
</thead>
<tbody><tr id="EN-US_TOPIC_0000002200067993__en-us_topic_0000002164667218_en-us_topic_0000002001372228_row03245215333"><td class="cellrowborder" valign="top" width="37.47%" headers="mcps1.3.3.2.4.2.1.2.2.3.1.1 "><div class="p" id="EN-US_TOPIC_0000002200067993__en-us_topic_0000002164667218_en-us_topic_0000002200001277_p91791444679"><strong id="EN-US_TOPIC_0000002200067993__en-us_topic_0000002164667218_en-us_topic_0000002200001277_en-us_topic_0000002164820434_b203081655125718">Specify Target Location</strong><div class="note" id="EN-US_TOPIC_0000002200067993__en-us_topic_0000002164667218_en-us_topic_0000002200001277_en-us_topic_0000002164820434_note81807159571"><span class="notetitle"> NOTE: </span><div class="notebody"><p id="EN-US_TOPIC_0000002200067993__en-us_topic_0000002164667218_en-us_topic_0000002200001277_en-us_topic_0000002164820434_p5180415155714">Only the OceanProtect X series backup appliances and OceanProtect E1000 support this parameter.</p>
</div></div>
</div>
</td>
<td class="cellrowborder" valign="top" width="62.529999999999994%" headers="mcps1.3.3.2.4.2.1.2.2.3.1.2 "><div class="p" id="EN-US_TOPIC_0000002200067993__en-us_topic_0000002164667218_en-us_topic_0000002001372228_p1891714203713">Specify the target storage location of backup copies.<ul id="EN-US_TOPIC_0000002200067993__en-us_topic_0000002164667218_en-us_topic_0000002001372228_en-us_topic_0000001839143189_ul3832679403"><li id="EN-US_TOPIC_0000002200067993__en-us_topic_0000002164667218_en-us_topic_0000002001372228_en-us_topic_0000001839143189_li299019528162"><strong id="EN-US_TOPIC_0000002200067993__en-us_topic_0000002164667218_b9907145816589">Backup Storage Units</strong>: A backup storage unit corresponds to a backup cluster node. After a backup storage unit is selected, copies are stored in the storage unit. If the capacity of the storage unit is insufficient, the backup job will fail.<p id="EN-US_TOPIC_0000002200067993__en-us_topic_0000002164667218_en-us_topic_0000002001372228_en-us_topic_0000001839143189_p36749546164">For details about how to create a backup storage unit, see "Managing Backup Storage Units" in the <i><cite id="EN-US_TOPIC_0000002200067993__en-us_topic_0000002164667218_en-us_topic_0000002001372228_en-us_topic_0000001839143189_cite114441740141613">OceanProtect DataBackup 1.5.0-1.6.0 Cluster HA Feature Guide</cite></i>.</p>
</li><li id="EN-US_TOPIC_0000002200067993__en-us_topic_0000002164667218_en-us_topic_0000002001372228_en-us_topic_0000001839143189_li168151656101610"><span class="parmvalue" id="EN-US_TOPIC_0000002200067993__en-us_topic_0000002164667218_en-us_topic_0000002164820434_parmvalue142224995111"><b>Backup Storage Unit Groups</b></span>: A backup storage unit group is a collection of backup storage units. After a backup storage unit group is selected, the system automatically selects a target backup storage unit based on the storage policy of the storage unit group.<p id="EN-US_TOPIC_0000002200067993__en-us_topic_0000002164667218_en-us_topic_0000002164820434_p15126135815168">For details about how to create a backup storage unit group, see "(Optional) Creating Backup Storage Unit Groups" in the <i><cite id="EN-US_TOPIC_0000002200067993__en-us_topic_0000002164667218_en-us_topic_0000002164820434_cite961778916">OceanProtect DataBackup 1.5.0-1.6.0 Cluster HA Feature Guide</cite></i>.</p>
</li></ul>
</div>
</td>
</tr>
<tr id="EN-US_TOPIC_0000002200067993__en-us_topic_0000002164667218_en-us_topic_0000002001372228_row419543420389"><td class="cellrowborder" valign="top" width="37.47%" headers="mcps1.3.3.2.4.2.1.2.2.3.1.1 "><p id="EN-US_TOPIC_0000002200067993__en-us_topic_0000002164667218_en-us_topic_0000002200001277_p6195834193813"><strong id="EN-US_TOPIC_0000002200067993__en-us_topic_0000002164667218_en-us_topic_0000002200001277_en-us_topic_0000002164820434_b25086515492">Rate Limiting Policy</strong></p>
</td>
<td class="cellrowborder" valign="top" width="62.529999999999994%" headers="mcps1.3.3.2.4.2.1.2.2.3.1.2 "><p id="EN-US_TOPIC_0000002200067993__en-us_topic_0000002164667218_en-us_topic_0000002001372228_p7894155910582">Average maximum amount of data that can be transmitted per second in a backup job. </p>
<p id="EN-US_TOPIC_0000002200067993__en-us_topic_0000002164667218_en-us_topic_0000002001372228_p5195234183811">See <a href="en-us_topic_0000002164826990.html">Step 4: (Optional) Creating a Rate Limiting Policy</a>.</p>
</td>
</tr>
<tr id="EN-US_TOPIC_0000002200067993__en-us_topic_0000002164667218_en-us_topic_0000002001372228_row18195103413385"><td class="cellrowborder" valign="top" width="37.47%" headers="mcps1.3.3.2.4.2.1.2.2.3.1.1 "><div class="p" id="EN-US_TOPIC_0000002200067993__en-us_topic_0000002164667218_en-us_topic_0000002200001277_p751114511956"><strong id="EN-US_TOPIC_0000002200067993__en-us_topic_0000002164667218_en-us_topic_0000002200001277_en-us_topic_0000002164820434_b48481597490">Source Deduplication</strong><div class="note" id="EN-US_TOPIC_0000002200067993__en-us_topic_0000002164667218_en-us_topic_0000002200001277_en-us_topic_0000002164820434_note1141182723518"><span class="notetitle"> NOTE: </span><div class="notebody"><p id="EN-US_TOPIC_0000002200067993__en-us_topic_0000002164667218_en-us_topic_0000002200001277_en-us_topic_0000002164820434_p164111271351">Only the OceanProtect X series backup appliances and OceanProtect E1000 (with the OceanProtect used as backup storage) support this parameter.</p>
</div></div>
</div>
</td>
<td class="cellrowborder" valign="top" width="62.529999999999994%" headers="mcps1.3.3.2.4.2.1.2.2.3.1.2 "><div class="p" id="EN-US_TOPIC_0000002200067993__en-us_topic_0000002164667218_en-us_topic_0000002001372228_p8195183403816">After this function is enabled, the amount of data to be transmitted can be reduced, but more client resources will be occupied.<div class="note" id="EN-US_TOPIC_0000002200067993__en-us_topic_0000002164667218_en-us_topic_0000002164820434_note8885112682911"><span class="notetitle"> NOTE: </span><div class="notebody"><ul id="EN-US_TOPIC_0000002200067993__en-us_topic_0000002164667218_en-us_topic_0000002164820434_ul5885426132914"><li id="EN-US_TOPIC_0000002200067993__en-us_topic_0000002164667218_en-us_topic_0000002164820434_li10885172616299">A client can only be linked with one storage unit. To enable source deduplication, select <span class="parmvalue" id="EN-US_TOPIC_0000002200067993__en-us_topic_0000002164667218_en-us_topic_0000002164820434_parmvalue13417617181719"><b>Backup Storage Unit</b></span> for <span class="parmname" id="EN-US_TOPIC_0000002200067993__en-us_topic_0000002164667218_en-us_topic_0000002164820434_parmname164341313131719"><b>Specify Target Location</b></span>. Otherwise, a storage unit that is not linked with the client may be selected through intelligent balancing. As a result, source deduplication fails to be enabled. If different protected objects are associated with different SLAs, where different backup storage units are specified, select different clients for the protected objects. Otherwise, source deduplication will fail to be enabled for some backup jobs.</li><li id="EN-US_TOPIC_0000002200067993__en-us_topic_0000002164667218_en-us_topic_0000002164820434_li9885182662911">If a client has been linked with a storage unit but is not performing a backup job with source deduplication enabled, you can run the <strong id="EN-US_TOPIC_0000002200067993__en-us_topic_0000002164667218_en-us_topic_0000002164820434_b1734071915190">dataturbo delete storage_object storage_name=</strong><em id="EN-US_TOPIC_0000002200067993__en-us_topic_0000002164667218_en-us_topic_0000002164820434_i18291255102216">?</em> command on the host where the client is deployed to delete the source deduplication link with the storage unit. The value of <strong id="EN-US_TOPIC_0000002200067993__en-us_topic_0000002164667218_en-us_topic_0000002164820434_b9927131312572">storage_name</strong> in the command can be queried by running the <strong id="EN-US_TOPIC_0000002200067993__en-us_topic_0000002164667218_en-us_topic_0000002164820434_b11782052162315">dataturbo show storage_object</strong> command. This way, when the client performs a backup job with source deduplication enabled, the link between the client and a new storage unit can be established.</li><li id="EN-US_TOPIC_0000002200067993__en-us_topic_0000002164667218_en-us_topic_0000002164820434_li11885142615297">Visit <a href="https://info.support.huawei.com/storage/comp/#/oceanprotect" target="_blank" rel="noopener noreferrer">OceanProtect Compatibility Query</a> to check whether source deduplication is supported by the OS of the host where the client is deployed. If not supported, source deduplication will not take effect after being configured.</li><li id="EN-US_TOPIC_0000002200067993__en-us_topic_0000002164667218_en-us_topic_0000002164820434_li7883549153219">If a built-in client (that is, the client is co-deployed with the <span id="EN-US_TOPIC_0000002200067993__en-us_topic_0000002164667218_en-us_topic_0000002164820434_text13835155817114">OceanProtect</span>) is used for backup, source deduplication does not take effect after being configured.</li></ul>
</div></div>
</div>
</td>
</tr>
<tr id="EN-US_TOPIC_0000002200067993__en-us_topic_0000002164667218_en-us_topic_0000002001372228_row728919591711"><td class="cellrowborder" valign="top" width="37.47%" headers="mcps1.3.3.2.4.2.1.2.2.3.1.1 "><div class="p" id="EN-US_TOPIC_0000002200067993__en-us_topic_0000002164667218_en-us_topic_0000002200001277_p1531171813176"><strong id="EN-US_TOPIC_0000002200067993__en-us_topic_0000002164667218_en-us_topic_0000002200001277_en-us_topic_0000002164820434_b1227104611184">Standard SmartCompression</strong><div class="note" id="EN-US_TOPIC_0000002200067993__en-us_topic_0000002164667218_en-us_topic_0000002200001277_en-us_topic_0000002164820434_note0148155184019"><span class="notetitle"> NOTE: </span><div class="notebody"><p id="EN-US_TOPIC_0000002200067993__en-us_topic_0000002164667218_en-us_topic_0000002200001277_en-us_topic_0000002164820434_p176371043184114">Only the OceanProtect E6000 Appliance supports this parameter.</p>
</div></div>
</div>
</td>
<td class="cellrowborder" valign="top" width="62.529999999999994%" headers="mcps1.3.3.2.4.2.1.2.2.3.1.2 "><p id="EN-US_TOPIC_0000002200067993__en-us_topic_0000002164667218_en-us_topic_0000002001372228_p20725132231720">After standard SmartCompression is enabled, service data is compressed before being written to the storage space, saving storage space and improving backup efficiency.</p>
</td>
</tr>
<tr id="EN-US_TOPIC_0000002200067993__en-us_topic_0000002164667218_row4400939115110"><td class="cellrowborder" valign="top" width="37.47%" headers="mcps1.3.3.2.4.2.1.2.2.3.1.1 "><p id="EN-US_TOPIC_0000002200067993__en-us_topic_0000002164667218_p440123912514"><strong id="EN-US_TOPIC_0000002200067993__en-us_topic_0000002164667218_b125234517283">Threads</strong></p>
</td>
<td class="cellrowborder" valign="top" width="62.529999999999994%" headers="mcps1.3.3.2.4.2.1.2.2.3.1.2 "><p id="EN-US_TOPIC_0000002200067993__en-us_topic_0000002164667218_p144011339175118">Number of threads configured in the thread pool for copying files during backup job execution. The value ranges from 1 to 256.</p>
</td>
</tr>
<tr id="EN-US_TOPIC_0000002200067993__en-us_topic_0000002164667218_row23158462411"><td class="cellrowborder" valign="top" width="37.47%" headers="mcps1.3.3.2.4.2.1.2.2.3.1.1 "><p id="EN-US_TOPIC_0000002200067993__en-us_topic_0000002164667218_en-us_topic_0000002200001277_p1835141211302"><strong id="EN-US_TOPIC_0000002200067993__en-us_topic_0000002164667218_en-us_topic_0000002200001277_b13827945204210">Job Timeout Alarm</strong></p>
</td>
<td class="cellrowborder" valign="top" width="62.529999999999994%" headers="mcps1.3.3.2.4.2.1.2.2.3.1.2 "><p id="EN-US_TOPIC_0000002200067993__en-us_topic_0000002164667218_p8315194674119">After this function is enabled, an alarm is sent if the job execution time exceeds the time window. The alarm needs to be manually cleared.</p>
</td>
</tr>
<tr id="EN-US_TOPIC_0000002200067993__en-us_topic_0000002164667218_en-us_topic_0000002001372228_row1984716333155"><td class="cellrowborder" valign="top" width="37.47%" headers="mcps1.3.3.2.4.2.1.2.2.3.1.1 "><p id="EN-US_TOPIC_0000002200067993__en-us_topic_0000002164667218_en-us_topic_0000002200001277_p15195123493811"><strong id="EN-US_TOPIC_0000002200067993__en-us_topic_0000002164667218_en-us_topic_0000002200001277_en-us_topic_0000002164820434_b158464719492">Job Failure Alarm</strong></p>
</td>
<td class="cellrowborder" valign="top" width="62.529999999999994%" headers="mcps1.3.3.2.4.2.1.2.2.3.1.2 "><p id="EN-US_TOPIC_0000002200067993__en-us_topic_0000002164667218_en-us_topic_0000002001372228_p1919563413813">After this function is enabled, an alarm is automatically sent if a job fails and is automatically cleared after successful execution.</p>
</td>
</tr>
<tr id="EN-US_TOPIC_0000002200067993__en-us_topic_0000002164667218_en-us_topic_0000002001372228_row141951534103816"><td class="cellrowborder" valign="top" width="37.47%" headers="mcps1.3.3.2.4.2.1.2.2.3.1.1 "><p id="EN-US_TOPIC_0000002200067993__en-us_topic_0000002164667218_en-us_topic_0000002200001277_p2195134113818"><strong id="EN-US_TOPIC_0000002200067993__en-us_topic_0000002164667218_en-us_topic_0000002200001277_en-us_topic_0000002164820434_b1952891212491">Automatic Retry</strong></p>
</td>
<td class="cellrowborder" valign="top" width="62.529999999999994%" headers="mcps1.3.3.2.4.2.1.2.2.3.1.2 "><p id="EN-US_TOPIC_0000002200067993__en-us_topic_0000002164667218_en-us_topic_0000002001372228_p168014618916">After this function is enabled, the system automatically retries if a periodic backup job fails.</p>
<div class="p" id="EN-US_TOPIC_0000002200067993__en-us_topic_0000002164667218_en-us_topic_0000002001372228_p6686112353917">The number of retries ranges from 1 to 5, and the wait time ranges from 1 to 30 minutes. For example, if the number of retries is set to 3 and the wait time is set to 5 minutes, the system retries for a total of three times at an interval of 5 minutes.<div class="note" id="EN-US_TOPIC_0000002200067993__en-us_topic_0000002164667218_en-us_topic_0000002164820434_note139701345152818"><span class="notetitle"> NOTE: </span><div class="notebody"><ul id="EN-US_TOPIC_0000002200067993__en-us_topic_0000002164667218_en-us_topic_0000002164820434_ul264071314279"><li id="EN-US_TOPIC_0000002200067993__en-us_topic_0000002164667218_en-us_topic_0000002164820434_li1864001332715">During automatic retry, the system creates a backup job. The backup job is executed only when it is within the preset time window.</li><li id="EN-US_TOPIC_0000002200067993__en-us_topic_0000002164667218_en-us_topic_0000002164820434_li116401113172713">This function takes effect only during periodic backup. Automatic retry is not supported if a backup job fails to be manually initiated.</li></ul>
</div></div>
</div>
</td>
</tr>
</tbody>
</table>
</div>
</div>
</p></li><li><span>Click <span class="uicontrol"><b>OK</b></span>.</span><p><p>If the current system time is later than the start time of the first backup specified in the SLA, you can select <strong>Execute manual backup now</strong> in the dialog box that is displayed or choose to perform automatic backup periodically based on the backup policy set in the SLA.</p>
</p></li><li><strong>Optional: </strong><span>Perform manual backup.</span><p><div class="p">If you want to execute a backup job immediately, perform manual backup through the following operations. Otherwise, skip this step.<ol type="a"><li>In the row that contains the database to be backed up, choose <span class="uicontrol"><b><span>More</span> &gt; <span>Manual Backup</span></b></span>.<div class="note"><img src="public_sys-resources/note_3.0-en-us.png"><span class="notetitle"> </span><div class="notebody"><p>You can select multiple resources to perform manual backup in batches. Select multiple resources and choose <span class="uicontrol"><b><span>More</span> &gt; <span>Manual Backup</span></b></span> in the upper left corner of the page.</p>
</div></div>
</li><li>Set the name of the copy generated during manual backup.<p>If this parameter is left unspecified, the system sets the copy name to <strong>backup_</strong><em>Timestamp</em> by default.</p>
</li><li>Select a protection policy, which can be <span><strong>Full Backup</strong></span> or <span><strong>Log Backup</strong></span>.<div class="note"><img src="public_sys-resources/note_3.0-en-us.png"><span class="notetitle"> </span><div class="notebody"><p><span>If the selected protection policy is different from that configured in the associated SLA, the WORM configuration does not take effect.</span></p>
</div></div>
</li><li>Click <span class="uicontrol"><b>OK</b></span>.</li></ol>
</div>
</p></li></ol>
</div>
</div>
<div>
<div class="familylinks">
<div class="parentlink"><strong>Parent topic:</strong> <a href="en-us_topic_0000002200153577.html">Backing Up AntDB</a></div>
</div>
</div>

<div class="hrcopyright"><hr size="2"></div><div class="hwcopyright">Copyright &copy; Huawei Technologies Co., Ltd.</div></body>
</html>