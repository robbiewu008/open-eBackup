
<!--
  This file is a part of the open-eBackup project.
  This Source Code Form is subject to the terms of the Mozilla Public License, v. 2.0.
  If a copy of the MPL was not distributed with this file, You can obtain one at
  http://mozilla.org/MPL/2.0/.
  
  Copyright (c) [2024] Huawei Technologies Co.,Ltd.
  
  THIS SOFTWARE IS PROVIDED ON AN "AS IS" BASIS, WITHOUT WARRANTIES OF ANY KIND,
  EITHER EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO NON-INFRINGEMENT,
  MERCHANTABILITY OR FIT FOR A PARTICULAR PURPOSE.
  -->

<!DOCTYPE html
  PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en-us" xml:lang="en-us">
<head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
   
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="DC.Type" content="topic">
<meta name="DC.Title" content="Step 2: Creating an Archive SLA">
<meta name="product" content="">
<meta name="DC.Relation" scheme="URI" content="tdsql_gud_033.html">
<meta name="prodname" content="">
<meta name="version" content="">
<meta name="brand" content="30-OceanProtect Appliance 1.5.0-1.6.0 Help Center">
<meta name="DC.Publisher" content="20241030">
<meta name="prodname" content="csbs">
<meta name="documenttype" content="usermanual">
<meta name="DC.Format" content="XHTML">
<meta name="DC.Identifier" content="tdsql_gud_037">
<meta name="DC.Language" content="en-us">
<link rel="stylesheet" type="text/css" href="public_sys-resources/commonltr.css">
<title>Step 2: Creating an Archive SLA</title>
</head>
<body style="clear:both; padding-left:10px; padding-top:5px; padding-right:5px; padding-bottom:5px"><a name="tdsql_gud_037"></a><a name="tdsql_gud_037"></a>

<h1 class="topictitle1">Step 2: Creating an Archive SLA</h1>
<div><p>If you need to archive the generated backup copies, configure the archive SLA by referring to this section.</p>
<div class="section"><h4 class="sectiontitle">Prerequisites</h4><p>An SLA with a backup policy has been created. For details about how to create a backup SLA, refer to <a href="tdsql_gud_014.html">Step 6: Creating a Backup SLA</a>.</p>
</div>
<div class="section"><h4 class="sectiontitle">Procedure</h4><ol><li><span>Choose <span class="uicontrol" id="tdsql_gud_037__en-us_topic_0000001792503806_uicontrol9143133018394"><b><span id="tdsql_gud_037__en-us_topic_0000001792503806_text1093174963311"><strong>Protection</strong></span> &gt; <span id="tdsql_gud_037__en-us_topic_0000001792503806_text18596203494212"><strong>Protection Policies</strong></span> &gt; <span id="tdsql_gud_037__en-us_topic_0000001792503806_text16431530122616"><strong>SLAs</strong></span></b></span>.</span></li><li><span>Locate the SLA for which you want to create an archive policy and choose <span class="uicontrol" id="tdsql_gud_037__en-us_topic_0000001792503806_en-us_topic_0000001091370109_uicontrol577717611320"><b><span id="tdsql_gud_037__en-us_topic_0000001792503806_en-us_topic_0000001091370109_text19646163524813"><strong>More</strong></span> &gt; <span id="tdsql_gud_037__en-us_topic_0000001792503806_en-us_topic_0000001091370109_text068935811482"><strong>Modify</strong></span></b></span>.</span><p><p id="tdsql_gud_037__en-us_topic_0000001792503806_p1816920251869">The preset SLAs cannot be modified.</p>
</p></li><li><span>Click the <span class="uicontrol" id="tdsql_gud_037__en-us_topic_0000001792503806_en-us_topic_0000001091370109_uicontrol12308113618612"><b><span id="tdsql_gud_037__en-us_topic_0000001792503806_en-us_topic_0000001091370109_text95301130194917"><strong>Archive Policy</strong></span></b></span> icon.</span></li><li><span>Configure the archive policy information.</span><p><p>Click <span class="uicontrol"><b><span><strong>Add</strong></span></b></span> on the right of the page to create multiple archive policies. A maximum of four archive policies can be created, and data can be archived to a maximum of four archive storage devices.</p>
<p><a href="#tdsql_gud_037__en-us_topic_0000001792503806_en-us_topic_0000001091370109_table13531347181416">Table 1</a> describes the related parameters.</p>

<div class="tablenoborder"><a name="tdsql_gud_037__en-us_topic_0000001792503806_en-us_topic_0000001091370109_table13531347181416"></a><a name="en-us_topic_0000001792503806_en-us_topic_0000001091370109_table13531347181416"></a><table cellpadding="4" cellspacing="0" summary="" id="tdsql_gud_037__en-us_topic_0000001792503806_en-us_topic_0000001091370109_table13531347181416" frame="border" border="1" rules="all"><caption><b>Table 1 </b>Archive parameters</caption><colgroup><col style="width:30.5%"><col style="width:69.5%"></colgroup><thead align="left"><tr><th align="left" class="cellrowborder" valign="top" width="30.5%" id="mcps1.3.3.2.4.2.3.2.3.1.1"><p>Parameter</p>
</th>
<th align="left" class="cellrowborder" valign="top" width="69.5%" id="mcps1.3.3.2.4.2.3.2.3.1.2"><p>Description</p>
</th>
</tr>
</thead>
<tbody><tr><td class="cellrowborder" valign="top" width="30.5%" headers="mcps1.3.3.2.4.2.3.2.3.1.1 "><p><span id="tdsql_gud_037__en-us_topic_0000001792503806_en-us_topic_0000001091370109_text656595514505"><strong>Name</strong></span></p>
</td>
<td class="cellrowborder" valign="top" width="69.5%" headers="mcps1.3.3.2.4.2.3.2.3.1.2 "><p>The system has set a default name for the archive policy. You can also customize a name for the archive policy.</p>
</td>
</tr>
<tr><td class="cellrowborder" valign="top" width="30.5%" headers="mcps1.3.3.2.4.2.3.2.3.1.1 "><p><span id="tdsql_gud_037__en-us_topic_0000001792503806_text1555164115417"><strong>Archive Storage Type</strong></span></p>
</td>
<td class="cellrowborder" valign="top" width="69.5%" headers="mcps1.3.3.2.4.2.3.2.3.1.2 "><p>Available options include <span class="uicontrol" id="tdsql_gud_037__en-us_topic_0000001792503806_uicontrol99809551136"><b><span id="tdsql_gud_037__en-us_topic_0000001792503806_text4910101212524"><strong>Object Storage</strong></span></b></span> and <span class="uicontrol" id="tdsql_gud_037__en-us_topic_0000001792503806_uicontrol165016581136"><b><span id="tdsql_gud_037__en-us_topic_0000001792503806_text16229521135217"><strong>Tape Library</strong></span></b></span>.</p>
</td>
</tr>
<tr><td class="cellrowborder" valign="top" width="30.5%" headers="mcps1.3.3.2.4.2.3.2.3.1.1 "><p><span id="tdsql_gud_037__en-us_topic_0000001792503806_en-us_topic_0000001091370109_text157818825116"><strong>Archive Storage</strong></span></p>
</td>
<td class="cellrowborder" valign="top" width="69.5%" headers="mcps1.3.3.2.4.2.3.2.3.1.2 "><ul><li id="tdsql_gud_037__en-us_topic_0000001792503806_li078744584316">If <strong id="tdsql_gud_037__en-us_topic_0000001792503806_b8815104222620">Archive Storage Type</strong> is set to <span class="uicontrol" id="tdsql_gud_037__en-us_topic_0000001792503806_uicontrol816164574110"><b><span id="tdsql_gud_037__en-us_topic_0000001792503806_text1616174511413"><strong>Object Storage</strong></span></b></span>, select added object storage. You can also click <span class="uicontrol" id="tdsql_gud_037__en-us_topic_0000001792503806_uicontrol1971818559393"><b><span id="tdsql_gud_037__en-us_topic_0000001792503806_text1719105510393"><strong>Add</strong></span></b></span> to add object storage.</li><li id="tdsql_gud_037__en-us_topic_0000001792503806_li113522047134319">If <strong id="tdsql_gud_037__en-us_topic_0000001792503806_b260579152118">Archive Storage Type</strong> is set to <span class="uicontrol" id="tdsql_gud_037__en-us_topic_0000001792503806_uicontrol17606792212"><b><span id="tdsql_gud_037__en-us_topic_0000001792503806_text1860610912219"><strong>Tape Library</strong></span></b></span>, select a node.</li></ul>
</td>
</tr>
<tr><td class="cellrowborder" valign="top" width="30.5%" headers="mcps1.3.3.2.4.2.3.2.3.1.1 "><p><span id="tdsql_gud_037__en-us_topic_0000001792503806_text55110119106"><strong>Media Set</strong></span></p>
</td>
<td class="cellrowborder" valign="top" width="69.5%" headers="mcps1.3.3.2.4.2.3.2.3.1.2 "><p>If <strong id="tdsql_gud_037__en-us_topic_0000001792503806_b1143191282119">Archive Storage Type</strong> is set to <span class="uicontrol" id="tdsql_gud_037__en-us_topic_0000001792503806_uicontrol444612202118"><b><span id="tdsql_gud_037__en-us_topic_0000001792503806_text154441219218"><strong>Tape Library</strong></span></b></span>, select a media set. You can also click <span class="uicontrol" id="tdsql_gud_037__en-us_topic_0000001792503806_uicontrol0231114132117"><b><span id="tdsql_gud_037__en-us_topic_0000001792503806_text92304147216"><strong>Add</strong></span></b></span> to create a media set.</p>
</td>
</tr>
<tr><td class="cellrowborder" valign="top" width="30.5%" headers="mcps1.3.3.2.4.2.3.2.3.1.1 "><p><span id="tdsql_gud_037__en-us_topic_0000001792503806_en-us_topic_0000001091370109_text5712235511"><strong>Archive Time</strong></span></p>
</td>
<td class="cellrowborder" valign="top" width="69.5%" headers="mcps1.3.3.2.4.2.3.2.3.1.2 "><div class="p">Set the archive time.<ul id="tdsql_gud_037__en-us_topic_0000001792503806_en-us_topic_0000001091370109_ul11585193322717"><li id="tdsql_gud_037__en-us_topic_0000001792503806_en-us_topic_0000001091370109_li1658511331279"><span id="tdsql_gud_037__en-us_topic_0000001792503806_en-us_topic_0000001091370109_text33261345125613"><strong>Periodically</strong></span><ul id="tdsql_gud_037__en-us_topic_0000001792503806_en-us_topic_0000001091370109_ul153241065304"><li id="tdsql_gud_037__en-us_topic_0000001792503806_en-us_topic_0000001091370109_li1432415673017"><span id="tdsql_gud_037__en-us_topic_0000001792503806_en-us_topic_0000001091370109_text1074293265412"><strong>Interval</strong></span>: Data is archived every <em id="tdsql_gud_037__en-us_topic_0000001792503806_en-us_topic_0000001091370109_i112396233511">xx</em> minutes, hours, days, or weeks.</li><li id="tdsql_gud_037__en-us_topic_0000001792503806_en-us_topic_0000001091370109_li56045402102"><span id="tdsql_gud_037__en-us_topic_0000001792503806_en-us_topic_0000001091370109_text2913113216124"><strong>First Run At</strong></span>: specifies the time when the archive job is executed for the first time.<p id="tdsql_gud_037__en-us_topic_0000001792503806_en-us_topic_0000001091370109_p3220183916251">If the start time is earlier than the current device time, the archive job is executed immediately after a protection plan is created.</p>
</li></ul>
</li><li id="tdsql_gud_037__en-us_topic_0000001792503806_en-us_topic_0000001091370109_li69436364277"><span id="tdsql_gud_037__en-us_topic_0000001792503806_en-us_topic_0000001091370109_text1782714127237"><strong>Immediately after successful backup</strong></span><p id="tdsql_gud_037__en-us_topic_0000001792503806_en-us_topic_0000001091370109_p1743104912615">An archive job is executed immediately after a backup job is complete.</p>
</li><li id="tdsql_gud_037__en-us_topic_0000001792503806_en-us_topic_0000001091370109_li098123982716"><span id="tdsql_gud_037__en-us_topic_0000001792503806_en-us_topic_0000001091370109_text23431557195710"><strong>Specified time after copy generation</strong></span><p id="tdsql_gud_037__en-us_topic_0000001792503806_p17973133185018"><span id="tdsql_gud_037__en-us_topic_0000001792503806_en-us_topic_0000001091370109_text990755171712"><strong>Time</strong></span>: An archive job is executed <em id="tdsql_gud_037__en-us_topic_0000001792503806_i6644122915249">xx</em> days after a copy is generated. The value ranges from 1 to 365 days.</p>
</li></ul>
</div>
</td>
</tr>
<tr><td class="cellrowborder" valign="top" width="30.5%" headers="mcps1.3.3.2.4.2.3.2.3.1.1 "><p><strong id="tdsql_gud_037__en-us_topic_0000001792503806_b111601939165710">Archive &amp; Retention Rules</strong></p>
</td>
<td class="cellrowborder" valign="top" width="69.5%" headers="mcps1.3.3.2.4.2.3.2.3.1.2 "><p>Select the backup copy that you need to archive and set the retention period of the backup copy.</p>
</td>
</tr>
<tr><td class="cellrowborder" valign="top" width="30.5%" headers="mcps1.3.3.2.4.2.3.2.3.1.1 "><div class="p"><strong id="tdsql_gud_037__en-us_topic_0000001792503806_b1466519130620">Drivers</strong><div class="note" id="tdsql_gud_037__en-us_topic_0000001792503806_note754320443218"><span class="notetitle"> NOTE: </span><div class="notebody"><p id="tdsql_gud_037__en-us_topic_0000001792503806_en-us_topic_0000001839143189_en-us_topic_0000001839143213_p8320153562113">This parameter is available only in 1.6.0 and later versions.</p>
</div></div>
</div>
</td>
<td class="cellrowborder" valign="top" width="69.5%" headers="mcps1.3.3.2.4.2.3.2.3.1.2 "><div class="p">This parameter (value range: <strong id="tdsql_gud_037__en-us_topic_0000001792503806_b4770966376">1</strong> to <strong id="tdsql_gud_037__en-us_topic_0000001792503806_b1657835153715">32</strong>) is displayed only when you select <span id="tdsql_gud_037__en-us_topic_0000001792503806_text4453948437"><strong>Tape Library</strong></span> for <strong id="tdsql_gud_037__en-us_topic_0000001792503806_b183012591975">Archive Storage Type</strong>.<div class="note" id="tdsql_gud_037__en-us_topic_0000001792503806_note765316318178"><span class="notetitle"> NOTE: </span><div class="notebody"><p id="tdsql_gud_037__en-us_topic_0000001792503806_p06531331181715">The larger the number of drives, the more the tape library drives occupied by archive jobs or jobs that use archive copies for restoration, and the better the performance.</p>
</div></div>
</div>
</td>
</tr>
<tr><td class="cellrowborder" valign="top" width="30.5%" headers="mcps1.3.3.2.4.2.3.2.3.1.1 "><p><span id="tdsql_gud_037__en-us_topic_0000001792503806_en-us_topic_0000001091370109_text2049612209454"><strong>Rate Limiting Policies</strong></span></p>
</td>
<td class="cellrowborder" valign="top" width="69.5%" headers="mcps1.3.3.2.4.2.3.2.3.1.2 "><p>Average maximum amount of data that can be transmitted per second in an archive job. If a tape library serves as the archive storage, rate limiting policy configuration is not supported.</p>
<p>Select the created rate limiting policy. For details about how to create a rate limiting policy, see <a href="tdsql_gud_012.html">Step 4: (Optional) Creating a Rate Limiting Policy</a>.</p>
</td>
</tr>
<tr><td class="cellrowborder" valign="top" width="30.5%" headers="mcps1.3.3.2.4.2.3.2.3.1.1 "><p><span id="tdsql_gud_037__en-us_topic_0000001792503806_en-us_topic_0000001091370109_text1953715545610"><strong>Network Acceleration</strong></span></p>
</td>
<td class="cellrowborder" valign="top" width="69.5%" headers="mcps1.3.3.2.4.2.3.2.3.1.2 "><p>After this function is enabled, Bottleneck Bandwidth and Round-trip propagation time (BBR) network acceleration can be used. You are advised to enable this function when the network latency is greater than or equal to 20 ms. If a tape library serves as the archive storage, network acceleration configuration is not supported.</p>
</td>
</tr>
<tr><td class="cellrowborder" valign="top" width="30.5%" headers="mcps1.3.3.2.4.2.3.2.3.1.1 "><div class="p"><strong>Log Copy Archiving</strong><div class="note"><span class="notetitle"> NOTE: </span><div class="notebody"><p id="tdsql_gud_037__en-us_topic_0000001839143189_en-us_topic_0000001839143213_p8320153562113">This parameter is available only in 1.6.0 and later versions.</p>
</div></div>
</div>
</td>
<td class="cellrowborder" valign="top" width="69.5%" headers="mcps1.3.3.2.4.2.3.2.3.1.2 "><p>After this function is enabled, log backup copies can be archived.</p>
</td>
</tr>
<tr><td class="cellrowborder" valign="top" width="30.5%" headers="mcps1.3.3.2.4.2.3.2.3.1.1 "><p><span id="tdsql_gud_037__en-us_topic_0000001792503806_text4798135584718"><strong>Job Failure Alarm</strong></span></p>
</td>
<td class="cellrowborder" valign="top" width="69.5%" headers="mcps1.3.3.2.4.2.3.2.3.1.2 "><p>After this function is enabled, an alarm is automatically sent if a job fails and is automatically cleared after successful execution.</p>
</td>
</tr>
<tr><td class="cellrowborder" valign="top" width="30.5%" headers="mcps1.3.3.2.4.2.3.2.3.1.1 "><p><span id="tdsql_gud_037__en-us_topic_0000001792503806_en-us_topic_0000001091370109_text734741715561"><strong>Automatic Retry</strong></span></p>
</td>
<td class="cellrowborder" valign="top" width="69.5%" headers="mcps1.3.3.2.4.2.3.2.3.1.2 "><p>After this function is enabled, the system automatically retries if a periodic archive job fails.</p>
<p>The number of retries ranges from 1 to 3, and the waiting time ranges from 1 to 30 minutes. For example, if the number of retries is set to 3 and the wait time is set to 5 minutes, the system retries for a total of three times at an interval of 5 minutes.</p>
</td>
</tr>
</tbody>
</table>
</div>
</p></li><li><span>Click <span class="uicontrol" id="tdsql_gud_037__en-us_topic_0000001839143213_en-us_topic_0000001092505481_uicontrol13919162932"><b>OK</b></span> and confirm as prompted.</span></li><li><span>Associate an archive SLA with resources to periodically archive copies.</span><p><ul><li>If an SLA policy has been associated with resources, the system protects the resources based on the SLA policy.</li><li>If the SLA policy is not associated with any resource, associate a resource with the SLA policy for protection. For details, see <a href="tdsql_gud_015.html">Step 7: Performing Backup</a>.</li></ul>
</p></li></ol>
</div>
</div>
<div>
<div class="familylinks">
<div class="parentlink"><strong>Parent topic:</strong> <a href="tdsql_gud_033.html">Archiving TDSQL Backup Copies</a></div>
</div>
</div>

<div class="hrcopyright"><hr size="2"></div><div class="hwcopyright">Copyright &copy; Huawei Technologies Co., Ltd.</div></body>
</html>