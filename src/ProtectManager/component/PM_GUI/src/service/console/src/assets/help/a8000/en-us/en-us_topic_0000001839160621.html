
<!DOCTYPE html
  PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en-us" xml:lang="en-us">
<head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
   
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="DC.Type" content="topic">
<meta name="DC.Title" content="Preparing for the Backup">
<meta name="product" content="">
<meta name="DC.Relation" scheme="URI" content="en-us_topic_0000001792521198.html">
<meta name="prodname" content="">
<meta name="version" content="">
<meta name="brand" content="30-OceanProtect Appliance 1.5.0-1.6.0 Help Center">
<meta name="DC.Publisher" content="20240608">
<meta name="DC.Format" content="XHTML">
<meta name="DC.Identifier" content="EN-US_TOPIC_0000001839160621">
<meta name="DC.Language" content="en-us">
<link rel="stylesheet" type="text/css" href="public_sys-resources/commonltr.css">
<title>Preparing for the Backup</title>
</head>
<body style="clear:both; padding-left:10px; padding-top:5px; padding-right:5px; padding-bottom:5px"><a name="EN-US_TOPIC_0000001839160621"></a><a name="EN-US_TOPIC_0000001839160621"></a>

<h1 class="topictitle1">Preparing for the Backup</h1>
<div><p>Before backing up a Hive cluster, prepare related information as follows:</p>
<ul><li><a href="#EN-US_TOPIC_0000001839160621__table481544017344">Table 1</a> lists the information required.</li><li><a href="#EN-US_TOPIC_0000001839160621__table17163125610819">Table 2</a> lists the information required when the authentication mode for communication between the Hive cluster and the <span>OceanProtect</span> is <span class="uicontrol"><b><span><strong>Simple Authentication</strong></span></b></span>.</li><li><a href="#EN-US_TOPIC_0000001839160621__table8758104318915">Table 3</a> lists the information required when the authentication mode for communication between the Hive cluster and the <span>OceanProtect</span> is <span class="uicontrol"><b><span><strong>Kerberos Authentication</strong></span></b></span>.</li></ul>

<div class="tablenoborder"><a name="EN-US_TOPIC_0000001839160621__table481544017344"></a><a name="table481544017344"></a><table cellpadding="4" cellspacing="0" summary="" id="EN-US_TOPIC_0000001839160621__table481544017344" frame="border" border="1" rules="all"><caption><b>Table 1 </b>Preparing for the backup</caption><colgroup><col style="width:20%"><col style="width:20%"><col style="width:40%"><col style="width:20%"></colgroup><thead align="left"><tr><th align="left" class="cellrowborder" valign="top" width="20%" id="mcps1.3.3.2.5.1.1"><p>Item</p>
</th>
<th align="left" class="cellrowborder" valign="top" width="20%" id="mcps1.3.3.2.5.1.2"><p>Mandatory</p>
</th>
<th align="left" class="cellrowborder" valign="top" width="40%" id="mcps1.3.3.2.5.1.3"><p>How to Obtain</p>
</th>
<th align="left" class="cellrowborder" valign="top" width="20%" id="mcps1.3.3.2.5.1.4"><p>To Be Used In</p>
</th>
</tr>
</thead>
<tbody><tr><td class="cellrowborder" valign="top" width="20%" headers="mcps1.3.3.2.5.1.1 "><p>hive-site.xml</p>
</td>
<td class="cellrowborder" valign="top" width="20%" headers="mcps1.3.3.2.5.1.2 "><p>Yes</p>
</td>
<td class="cellrowborder" rowspan="4" valign="top" width="40%" headers="mcps1.3.3.2.5.1.3 "><p>For details, see <a href="en-us_topic_0000001792361418.html#EN-US_TOPIC_0000001792361418__section10758914153313">Prerequisites</a>.</p>
<p></p>
<p></p>
<p></p>
<p></p>
</td>
<td class="cellrowborder" rowspan="5" valign="top" width="20%" headers="mcps1.3.3.2.5.1.4 "><p><a href="en-us_topic_0000001792361418.html">Step 3: Registering a Hive Cluster</a></p>
<p></p>
<p></p>
<p></p>
</td>
</tr>
<tr><td class="cellrowborder" valign="top" headers="mcps1.3.3.2.5.1.1 "><p>hdfs-site.xml</p>
</td>
<td class="cellrowborder" valign="top" headers="mcps1.3.3.2.5.1.2 "><p>Yes</p>
</td>
</tr>
<tr><td class="cellrowborder" valign="top" headers="mcps1.3.3.2.5.1.1 "><p>core-site.xml</p>
</td>
<td class="cellrowborder" valign="top" headers="mcps1.3.3.2.5.1.2 "><p>Yes</p>
</td>
</tr>
<tr><td class="cellrowborder" valign="top" headers="mcps1.3.3.2.5.1.1 "><p>hiveclient.properties</p>
</td>
<td class="cellrowborder" valign="top" headers="mcps1.3.3.2.5.1.2 "><p>Yes</p>
</td>
</tr>
<tr><td class="cellrowborder" valign="top" headers="mcps1.3.3.2.5.1.1 "><p>Hive version number</p>
</td>
<td class="cellrowborder" valign="top" headers="mcps1.3.3.2.5.1.2 "><p>Yes</p>
</td>
<td class="cellrowborder" valign="top" headers="mcps1.3.3.2.5.1.3 "><p>For details, see <a href="en-us_topic_0000001792361418.html#EN-US_TOPIC_0000001792361418__li0580145917135">2.a</a>.</p>
</td>
</tr>
</tbody>
</table>
</div>

<div class="tablenoborder"><a name="EN-US_TOPIC_0000001839160621__table17163125610819"></a><a name="table17163125610819"></a><table cellpadding="4" cellspacing="0" summary="" id="EN-US_TOPIC_0000001839160621__table17163125610819" frame="border" border="1" rules="all"><caption><b>Table 2 </b>Information required for simple authentication</caption><colgroup><col style="width:20%"><col style="width:20%"><col style="width:40%"><col style="width:20%"></colgroup><thead align="left"><tr><th align="left" class="cellrowborder" valign="top" width="20%" id="mcps1.3.4.2.5.1.1"><p>Item</p>
</th>
<th align="left" class="cellrowborder" valign="top" width="20%" id="mcps1.3.4.2.5.1.2"><p>Mandatory</p>
</th>
<th align="left" class="cellrowborder" valign="top" width="40%" id="mcps1.3.4.2.5.1.3"><p>How to Obtain</p>
</th>
<th align="left" class="cellrowborder" valign="top" width="20%" id="mcps1.3.4.2.5.1.4"><p>To Be Used In</p>
</th>
</tr>
</thead>
<tbody><tr><td class="cellrowborder" valign="top" width="20%" headers="mcps1.3.4.2.5.1.1 "><p>Authentication username</p>
</td>
<td class="cellrowborder" valign="top" width="20%" headers="mcps1.3.4.2.5.1.2 "><p>Yes</p>
</td>
<td class="cellrowborder" valign="top" width="40%" headers="mcps1.3.4.2.5.1.3 "><p>Obtain the username from the big data platform administrator.</p>
<div class="note"><span class="notetitle"> NOTE: </span><div class="notebody"><p>The user must have the read and write permissions on the resource to be accessed.</p>
</div></div>
</td>
<td class="cellrowborder" valign="top" width="20%" headers="mcps1.3.4.2.5.1.4 "><p><a href="en-us_topic_0000001792361418.html">Step 3: Registering a Hive Cluster</a></p>
</td>
</tr>
</tbody>
</table>
</div>

<div class="tablenoborder"><a name="EN-US_TOPIC_0000001839160621__table8758104318915"></a><a name="table8758104318915"></a><table cellpadding="4" cellspacing="0" summary="" id="EN-US_TOPIC_0000001839160621__table8758104318915" frame="border" border="1" rules="all"><caption><b>Table 3 </b>Information required for Kerberos authentication</caption><colgroup><col style="width:20%"><col style="width:20%"><col style="width:40%"><col style="width:20%"></colgroup><thead align="left"><tr><th align="left" class="cellrowborder" valign="top" width="20%" id="mcps1.3.5.2.5.1.1"><p>Item</p>
</th>
<th align="left" class="cellrowborder" valign="top" width="20%" id="mcps1.3.5.2.5.1.2"><p>Mandatory</p>
</th>
<th align="left" class="cellrowborder" valign="top" width="40%" id="mcps1.3.5.2.5.1.3"><p>How to Obtain</p>
</th>
<th align="left" class="cellrowborder" valign="top" width="20%" id="mcps1.3.5.2.5.1.4"><p>To Be Used In</p>
</th>
</tr>
</thead>
<tbody><tr><td class="cellrowborder" valign="top" width="20%" headers="mcps1.3.5.2.5.1.1 "><p><span><strong>HiveServer2 Principal</strong></span></p>
</td>
<td class="cellrowborder" valign="top" width="20%" headers="mcps1.3.5.2.5.1.2 "><p>Yes</p>
</td>
<td class="cellrowborder" valign="top" width="40%" headers="mcps1.3.5.2.5.1.3 "><p>Obtain the information from the <strong>hiveclient.properties</strong> file. The value of <span class="uicontrol"><b>principal</b></span> is the configured value.</p>
</td>
<td class="cellrowborder" rowspan="6" valign="top" width="20%" headers="mcps1.3.5.2.5.1.4 "><p><a href="en-us_topic_0000001792361418.html">Step 3: Registering a Hive Cluster</a></p>
</td>
</tr>
<tr><td class="cellrowborder" valign="top" headers="mcps1.3.5.2.5.1.1 "><p>Verifying a certificate</p>
</td>
<td class="cellrowborder" valign="top" headers="mcps1.3.5.2.5.1.2 "><p>No</p>
</td>
<td class="cellrowborder" valign="top" headers="mcps1.3.5.2.5.1.3 "><p>This certificate is required only when the big data platform is Cloudera CDH and you want to encrypt data during communication between the <span>OceanProtect</span> and the big data platform for secure communication.</p>
<p>For details, see <a href="en-us_topic_0000001792521262.html">(Optional) Step 2: Generating and Obtaining a Certificate</a>.</p>
</td>
</tr>
<tr><td class="cellrowborder" valign="top" headers="mcps1.3.5.2.5.1.1 "><p>Principal name of Kerberos authentication</p>
</td>
<td class="cellrowborder" valign="top" headers="mcps1.3.5.2.5.1.2 "><p>Yes</p>
</td>
<td class="cellrowborder" valign="top" headers="mcps1.3.5.2.5.1.3 "><p>Obtain the principal name from the Kerberos server administrator.</p>
<div class="note"><span class="notetitle"> NOTE: </span><div class="notebody"><ul><li>The principal name must have the SHOW_DATABASE permission on the database to be backed up, the SELECT permission on the table to be backed up, the CREATE and SHOW_DATABASE permissions on the database to be restored, and the CREATE, DROP, ALTER, and SELECT permissions on the table to be restored.</li><li>The principal name must have the read, write, and execution permissions on the temporary metadata storage path specified when the backup set is created, the read and execution permissions on the directory where the table data of the database to be backed up is located as well as the lower-layer files and directories, the read, write, and execution permissions on the temporary storage path of metadata specified during restoration, the read, write, and execution permissions on the directory where the data restored to the target database table is located, and the read, write, and execution permissions on the directory where the table metadata and table data are located.</li></ul>
</div></div>
</td>
</tr>
<tr><td class="cellrowborder" valign="top" headers="mcps1.3.5.2.5.1.1 "><p><span class="filepath"><b>.conf</b></span> configuration file (for example, <strong>krb5.conf</strong>) used during Kerberos authentication</p>
</td>
<td class="cellrowborder" valign="top" headers="mcps1.3.5.2.5.1.2 "><p>Yes</p>
</td>
<td class="cellrowborder" valign="top" headers="mcps1.3.5.2.5.1.3 "><p>Contact the Kerberos server administrator to obtain the file from the Kerberos server.</p>
</td>
</tr>
<tr><td class="cellrowborder" valign="top" headers="mcps1.3.5.2.5.1.1 "><p>Password of the principal name</p>
</td>
<td class="cellrowborder" valign="top" headers="mcps1.3.5.2.5.1.2 "><p>No</p>
</td>
<td class="cellrowborder" valign="top" headers="mcps1.3.5.2.5.1.3 "><p>If Kerberos authentication is performed using a password, you need to obtain the password of the principal name.</p>
</td>
</tr>
<tr><td class="cellrowborder" valign="top" headers="mcps1.3.5.2.5.1.1 "><p><span class="filepath"><b>.keytab</b></span> file</p>
</td>
<td class="cellrowborder" valign="top" headers="mcps1.3.5.2.5.1.2 "><p>No</p>
</td>
<td class="cellrowborder" valign="top" headers="mcps1.3.5.2.5.1.3 "><p>If Kerberos authentication is performed using a <span class="filepath"><b>.keytab</b></span> file, you need to obtain the <span class="filepath"><b>.keytab</b></span> file.</p>
<p>Contact the Kerberos server administrator to obtain the file from the Kerberos server.</p>
</td>
</tr>
</tbody>
</table>
</div>
</div>
<div>
<div class="familylinks">
<div class="parentlink"><strong>Parent topic:</strong> <a href="en-us_topic_0000001792521198.html">Backup</a></div>
</div>
</div>

<div class="hrcopyright"><hr size="2"></div><div class="hwcopyright">Copyright &copy; Huawei Technologies Co., Ltd.</div></body>
</html>