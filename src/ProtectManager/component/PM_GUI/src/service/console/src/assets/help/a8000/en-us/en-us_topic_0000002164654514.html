<!--
  This file is a part of the open-eBackup project.
  This Source Code Form is subject to the terms of the Mozilla Public License, v. 2.0.
  If a copy of the MPL was not distributed with this file, You can obtain one at
  http://mozilla.org/MPL/2.0/.
  
  Copyright (c) [2024] Huawei Technologies Co.,Ltd.
  
  THIS SOFTWARE IS PROVIDED ON AN "AS IS" BASIS, WITHOUT WARRANTIES OF ANY KIND,
  EITHER EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO NON-INFRINGEMENT,
  MERCHANTABILITY OR FIT FOR A PARTICULAR PURPOSE.
  -->


<!DOCTYPE html
  PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en-us" xml:lang="en-us">
<head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
   
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="DC.Type" content="topic">
<meta name="DC.Title" content="Step 2: Creating an Archive SLA for Backup Copies">
<meta name="product" content="">
<meta name="DC.Relation" scheme="URI" content="en-us_topic_0000002164654534.html">
<meta name="prodname" content="">
<meta name="version" content="">
<meta name="brand" content="">
<meta name="DC.Publisher" content="20250306">
<meta name="prodname" content="csbs">
<meta name="documenttype" content="usermanual">
<meta name="DC.Format" content="XHTML">
<meta name="DC.Identifier" content="EN-US_TOPIC_0000002164654514">
<meta name="DC.Language" content="en-us">
<link rel="stylesheet" type="text/css" href="public_sys-resources/commonltr.css">
<title>Step 2: Creating an Archive SLA for Backup Copies</title>
</head>
<body style="clear:both; padding-left:10px; padding-top:5px; padding-right:5px; padding-bottom:5px"><a name="EN-US_TOPIC_0000002164654514"></a><a name="EN-US_TOPIC_0000002164654514"></a>

<h1 class="topictitle1">Step 2: Creating an Archive SLA for Backup Copies</h1>
<div><p>If you need to archive a generated backup copy, configure an archive SLA by referring to this section.</p>
<div class="section"><h4 class="sectiontitle">Prerequisites</h4><p>An SLA with a backup policy has been created. For details about how to create a backup SLA, see <a href="en-us_topic_0000002200140821.html">Step 7: Creating a Backup SLA</a>.</p>
</div>
<div class="section"><h4 class="sectiontitle">Procedure</h4><ol><li><span>Choose <span class="uicontrol" id="EN-US_TOPIC_0000002164654514__en-us_topic_0000002199964685_uicontrol8111821122820"><b>Protection &gt; Protection Policies &gt; SLAs</b></span>.</span></li><li><span>Locate the SLA for which an archive policy is to be created and choose <strong id="EN-US_TOPIC_0000002164654514__en-us_topic_0000002164660726_b107981355262">More</strong> &gt; <strong id="EN-US_TOPIC_0000002164654514__en-us_topic_0000002164660726_b8799751262">Modify</strong>.</span><p><p id="EN-US_TOPIC_0000002164654514__en-us_topic_0000002164660726_p1816920251869">The preset SLAs cannot be modified.</p>
</p></li><li><span>Click the <span class="uicontrol"><b><span><strong>Archive Policy</strong></span></b></span> icon.</span></li><li><span>Configure the archive policy.</span><p><p><a href="#EN-US_TOPIC_0000002164654514__en-us_topic_0000001188062717_en-us_topic_0000001091370109_table13531347181416">Table 1</a> describes the related parameters.</p>

<div class="tablenoborder"><a name="EN-US_TOPIC_0000002164654514__en-us_topic_0000001188062717_en-us_topic_0000001091370109_table13531347181416"></a><a name="en-us_topic_0000001188062717_en-us_topic_0000001091370109_table13531347181416"></a><table cellpadding="4" cellspacing="0" summary="" id="EN-US_TOPIC_0000002164654514__en-us_topic_0000001188062717_en-us_topic_0000001091370109_table13531347181416" frame="border" border="1" rules="all"><caption><b>Table 1 </b>Archive parameters</caption><colgroup><col style="width:30.5%"><col style="width:69.5%"></colgroup><thead align="left"><tr><th align="left" class="cellrowborder" valign="top" width="30.5%" id="mcps1.3.3.2.4.2.2.2.3.1.1"><p>Parameter</p>
</th>
<th align="left" class="cellrowborder" valign="top" width="69.5%" id="mcps1.3.3.2.4.2.2.2.3.1.2"><p>Description</p>
</th>
</tr>
</thead>
<tbody><tr><td class="cellrowborder" valign="top" width="30.5%" headers="mcps1.3.3.2.4.2.2.2.3.1.1 "><p><span><strong>Name</strong></span></p>
</td>
<td class="cellrowborder" valign="top" width="69.5%" headers="mcps1.3.3.2.4.2.2.2.3.1.2 "><p>A default archive policy name has been set. You can customize the name.</p>
</td>
</tr>
<tr><td class="cellrowborder" valign="top" width="30.5%" headers="mcps1.3.3.2.4.2.2.2.3.1.1 "><p><span><strong>Archive Storage Type</strong></span></p>
</td>
<td class="cellrowborder" valign="top" width="69.5%" headers="mcps1.3.3.2.4.2.2.2.3.1.2 "><p><span class="uicontrol"><b><span><strong>Object Storage</strong></span></b></span> or <span class="uicontrol"><b><span><strong>Tape Library</strong></span></b></span> can be used as archive storage.</p>
</td>
</tr>
<tr><td class="cellrowborder" valign="top" width="30.5%" headers="mcps1.3.3.2.4.2.2.2.3.1.1 "><p><span><strong>Archive Storage</strong></span></p>
</td>
<td class="cellrowborder" valign="top" width="69.5%" headers="mcps1.3.3.2.4.2.2.2.3.1.2 "><p>Select the added object storage or tape library. You can also click <span class="uicontrol"><b><span><strong>Add</strong></span></b></span> to add object storage or a tape library.</p>
</td>
</tr>
<tr><td class="cellrowborder" valign="top" width="30.5%" headers="mcps1.3.3.2.4.2.2.2.3.1.1 "><p><span><strong>Archive Time</strong></span></p>
</td>
<td class="cellrowborder" valign="top" width="69.5%" headers="mcps1.3.3.2.4.2.2.2.3.1.2 "><div class="p">Set the archive time.<ul><li><span><strong>Periodically</strong></span><ul><li><span><strong>Interval</strong></span>: Data is archived every <em>xx</em> minutes, hours, days, or weeks.</li><li><span><strong>First Run At</strong></span>: Time when the initial archive job is executed.<p>If the start time is earlier than the current device time, the archive job is executed immediately after the protection plan is created.</p>
</li></ul>
</li><li><span><strong>Immediately after successful backup</strong></span><p>An archive job is executed immediately after a backup job is complete.</p>
</li><li><span><strong>Specified time after copy generation</strong></span><p><span><strong>Time</strong></span>: An archive job is executed <em>xx</em> days after a copy is generated.</p>
</li></ul>
</div>
</td>
</tr>
<tr><td class="cellrowborder" valign="top" width="30.5%" headers="mcps1.3.3.2.4.2.2.2.3.1.1 "><p><strong>Archive &amp; Retention Rules</strong></p>
</td>
<td class="cellrowborder" valign="top" width="69.5%" headers="mcps1.3.3.2.4.2.2.2.3.1.2 "><div class="p">Select the backup copy to be archived and set the retention period.<ul><li id="EN-US_TOPIC_0000002164654514__en-us_topic_0000002164660726_li2085311499432"><strong id="EN-US_TOPIC_0000002164654514__en-us_topic_0000002164660726_b14181873917">Archive specified copies</strong>: An archive policy can be specified and the copy retention period can be set. Archive policies are described as follows:<ul id="EN-US_TOPIC_0000002164654514__en-us_topic_0000002164660726_ul1193014332306"><li id="EN-US_TOPIC_0000002164654514__en-us_topic_0000002164660726_li393063317305"><strong id="EN-US_TOPIC_0000002164654514__en-us_topic_0000002164660726_b6753131918475">Only the latest copy</strong><p id="EN-US_TOPIC_0000002164654514__en-us_topic_0000002164660726_p893019338306">In each archive job, only the copy generated by the last backup job is archived.</p>
</li><li id="EN-US_TOPIC_0000002164654514__en-us_topic_0000002164660726_li10930203320309"><strong id="EN-US_TOPIC_0000002164654514__en-us_topic_0000002164660726_b954594274712">All unarchived copies</strong><p id="EN-US_TOPIC_0000002164654514__en-us_topic_0000002164660726_p8930123320308">All copies that have not been archived are archived each time.</p>
</li></ul>
</li><li id="EN-US_TOPIC_0000002164654514__en-us_topic_0000002164660726_li169914211296"><strong id="EN-US_TOPIC_0000002164654514__en-us_topic_0000002164660726_b137146481477">Archive on the specified date</strong>: Specify a date and set the copy retention period. You can select multiple options of the following:<ul id="EN-US_TOPIC_0000002164654514__en-us_topic_0000002164660726_ul15411165794010"><li id="EN-US_TOPIC_0000002164654514__en-us_topic_0000002164660726_li241110576407">Select the backup copies generated in month <em id="EN-US_TOPIC_0000002164654514__en-us_topic_0000002164660726_i136341131132817">x</em> of each year for archiving. The archive copies are retained for <em id="EN-US_TOPIC_0000002164654514__en-us_topic_0000002164660726_i18634193132810">x</em> years (the retention period can be 1 to 70 years).</li><li id="EN-US_TOPIC_0000002164654514__en-us_topic_0000002164660726_li156079239417">Select the first or last backup copy of each month for archiving. The archive copies are retained for <em id="EN-US_TOPIC_0000002164654514__en-us_topic_0000002164660726_i15614163412816">x</em> months (the retention period can be 1 to 840 months).</li><li id="EN-US_TOPIC_0000002164654514__en-us_topic_0000002164660726_li7824743184118">Select the backup copies generated on a specified day of each week for archiving. The archive copies are retained for <em id="EN-US_TOPIC_0000002164654514__en-us_topic_0000002164660726_i99971161311">x</em> weeks (the retention period can be 1 to 3650 weeks).<div class="note" id="EN-US_TOPIC_0000002164654514__en-us_topic_0000002164660726_note250102619369"><span class="notetitle"> NOTE: </span><div class="notebody"><p id="EN-US_TOPIC_0000002164654514__en-us_topic_0000002164660726_p19502026133610">If <strong id="EN-US_TOPIC_0000002164654514__en-us_topic_0000002164660726_b12562195819124">Archive Storage Type</strong> is set to <strong id="EN-US_TOPIC_0000002164654514__en-us_topic_0000002164660726_b951016544813">Tape Library</strong>, the retention period of archive copies cannot be specified, but is subject to the retention policy setting of the corresponding media set.</p>
</div></div>
</li></ul>
</li></ul>
</div>
</td>
</tr>
<tr><td class="cellrowborder" valign="top" width="30.5%" headers="mcps1.3.3.2.4.2.2.2.3.1.1 "><div class="p"><strong>Drivers</strong><div class="note"><span class="notetitle"> NOTE: </span><div class="notebody"><p>Only 1.6.0 and later versions support this parameter.</p>
</div></div>
</div>
</td>
<td class="cellrowborder" valign="top" width="69.5%" headers="mcps1.3.3.2.4.2.2.2.3.1.2 "><div class="p">This parameter (value range: <strong id="EN-US_TOPIC_0000002164654514__en-us_topic_0000002164660726_b4770966376">1</strong> to <strong id="EN-US_TOPIC_0000002164654514__en-us_topic_0000002164660726_b1657835153715">32</strong>) is displayed only when you select <strong id="EN-US_TOPIC_0000002164654514__en-us_topic_0000002164660726_b1844434134817">Tape Library</strong> for <strong id="EN-US_TOPIC_0000002164654514__en-us_topic_0000002164660726_b183012591975">Archive Storage Type</strong>.<div class="note" id="EN-US_TOPIC_0000002164654514__en-us_topic_0000002164660726_note765316318178"><span class="notetitle"> NOTE: </span><div class="notebody"><p id="EN-US_TOPIC_0000002164654514__en-us_topic_0000002164660726_p06531331181715">The larger the number of drives, the more the tape library drives occupied by archive jobs or jobs that use archive copies for restoration, and the better the performance.</p>
</div></div>
</div>
</td>
</tr>
<tr><td class="cellrowborder" valign="top" width="30.5%" headers="mcps1.3.3.2.4.2.2.2.3.1.1 "><p><strong>Rate Limiting Policy</strong></p>
</td>
<td class="cellrowborder" valign="top" width="69.5%" headers="mcps1.3.3.2.4.2.2.2.3.1.2 "><p>Average maximum amount of data that can be transmitted per second in an archive job. If a tape library serves as the archive storage, rate limiting policy configuration is not supported.</p>
<p>Select the created rate limiting policy.</p>
</td>
</tr>
<tr><td class="cellrowborder" valign="top" width="30.5%" headers="mcps1.3.3.2.4.2.2.2.3.1.1 "><div class="p"><strong id="EN-US_TOPIC_0000002164654514__en-us_topic_0000002164660726_b5397172514104">Automatic Indexing</strong><div class="note" id="EN-US_TOPIC_0000002164654514__en-us_topic_0000002164660726_note1175910385420"><span class="notetitle"> NOTE: </span><div class="notebody"><p id="EN-US_TOPIC_0000002164654514__en-us_topic_0000002164660726_p18759163818421">This parameter is available only in 1.5.0.</p>
</div></div>
</div>
</td>
<td class="cellrowborder" valign="top" width="69.5%" headers="mcps1.3.3.2.4.2.2.2.3.1.2 "><p>After this function is enabled, you can select one or more files in a copy for restoration and search for files, directories, or links in copies on the management page. If a tape library serves as the archive storage, archive copy indexing is not supported.</p>
<p>This function cannot be disabled after being enabled.</p>
<div class="note"><span class="notetitle"> NOTE: </span><div class="notebody"><p id="EN-US_TOPIC_0000002164654514__en-us_topic_0000002200131533_p0743109201911">Indexes occupy backup storage space. If the number of index files in the system exceeds 1 billion, perform operations by referring to "Failed to Create a Copy Index" in the <i><cite id="EN-US_TOPIC_0000002164654514__en-us_topic_0000002200131533_cite23814569190">OceanProtect DataBackup 1.5.0-1.6.0 Troubleshooting</cite></i>.</p>
</div></div>
</td>
</tr>
<tr><td class="cellrowborder" valign="top" width="30.5%" headers="mcps1.3.3.2.4.2.2.2.3.1.1 "><p><span><strong>Network Acceleration</strong></span></p>
</td>
<td class="cellrowborder" valign="top" width="69.5%" headers="mcps1.3.3.2.4.2.2.2.3.1.2 "><p>After this function is enabled, Bottleneck Bandwidth and Round-trip propagation time (BBR) can be used for network acceleration. You are advised to enable this function when the network latency is greater than or equal to 20 ms. If a tape library serves as the archive storage, network acceleration configuration is not supported.</p>
</td>
</tr>
<tr><td class="cellrowborder" valign="top" width="30.5%" headers="mcps1.3.3.2.4.2.2.2.3.1.1 "><p><strong id="EN-US_TOPIC_0000002164654514__en-us_topic_0000002164660726_b104341634141011">Job Failure Alarm</strong></p>
</td>
<td class="cellrowborder" valign="top" width="69.5%" headers="mcps1.3.3.2.4.2.2.2.3.1.2 "><p>After this function is enabled, an alarm is automatically sent if a job fails and is automatically cleared after successful execution.</p>
</td>
</tr>
<tr><td class="cellrowborder" valign="top" width="30.5%" headers="mcps1.3.3.2.4.2.2.2.3.1.1 "><p><span><strong>Automatic Retry</strong></span></p>
</td>
<td class="cellrowborder" valign="top" width="69.5%" headers="mcps1.3.3.2.4.2.2.2.3.1.2 "><p>After this function is enabled, the system automatically retries a failed archive job.</p>
<p>The number of retries ranges from 1 to 3, and the waiting time ranges from 1 to 30 minutes. For example, if the number of retries is set to 3 and the wait time is set to 5 minutes, the system retries for three times at an interval of 5 minutes.</p>
<div class="note"><span class="notetitle"> NOTE: </span><div class="notebody"><p>During automatic retry, the system creates an archive job.</p>
</div></div>
</td>
</tr>
</tbody>
</table>
</div>
</p></li><li><span>Click <span class="uicontrol"><b><span><strong>Add</strong></span></b></span> to configure multiple archive policies.</span><p><p>A single copy can be archived to a maximum of four archive storage devices. Therefore, a maximum of four archive policies can be configured.</p>
</p></li><li><span>Click <span class="uicontrol"><b>OK</b></span>.</span></li><li><span>Associate resources with an archive SLA to periodically archive copies.</span><p><ul><li>If the SLA policy has been associated with resources, the system protects the resources based on the SLA policy.</li><li>If the SLA is not associated with any resource, associate a resource for protection. For details, see <a href="en-us_topic_0000002200055273.html">Step 8: Performing Backup</a>.</li></ul>
</p></li></ol>
</div>
</div>
<div>
<div class="familylinks">
<div class="parentlink"><strong>Parent topic:</strong> <a href="en-us_topic_0000002164654534.html">Archiving HDFS Backup Copies</a></div>
</div>
</div>

<div class="hrcopyright"><hr size="2"></div><div class="hwcopyright">Copyright &copy; Huawei Technologies Co., Ltd.</div></body>
</html>