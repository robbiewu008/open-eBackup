
<!--
  This file is a part of the open-eBackup project.
  This Source Code Form is subject to the terms of the Mozilla Public License, v. 2.0.
  If a copy of the MPL was not distributed with this file, You can obtain one at
  http://mozilla.org/MPL/2.0/.
  
  Copyright (c) [2024] Huawei Technologies Co.,Ltd.
  
  THIS SOFTWARE IS PROVIDED ON AN "AS IS" BASIS, WITHOUT WARRANTIES OF ANY KIND,
  EITHER EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO NON-INFRINGEMENT,
  MERCHANTABILITY OR FIT FOR A PARTICULAR PURPOSE.
  -->

<!DOCTYPE html
  PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en-us" xml:lang="en-us">
<head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
   
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="DC.Type" content="topic">
<meta name="DC.Title" content="Creating Periodic Backup (Deprecated)">
<meta name="DC.Format" content="XHTML">
<meta name="DC.Identifier" content="EN-US_TOPIC_0000001792503842">
<meta name="DC.Language" content="en-us">
<link rel="stylesheet" type="text/css" href="public_sys-resources/commonltr.css">
<title>Creating Periodic Backup (Deprecated)</title>
</head>
<body style="clear:both; padding-left:10px; padding-top:5px; padding-right:5px; padding-bottom:5px"><a name="EN-US_TOPIC_0000001792503842"></a><a name="EN-US_TOPIC_0000001792503842"></a>

<h1 class="topictitle1">Creating Periodic Backup (Deprecated)</h1>
<div><p>After resources to be protected are associated with an SLA, the system protects the resources based on the SLA. </p>
<div class="section" id="EN-US_TOPIC_0000001792503842__section31504516166"><h4 class="sectiontitle">Precautions</h4><p id="EN-US_TOPIC_0000001792503842__p5298101017162"><span id="EN-US_TOPIC_0000001792503842__ph259092114816">If a full backup fails and the next backup is the log backup, the log backup job will fail because log backup depends on the copy generated in the last successful full backup. In this case, you need to manually perform a full backup.</span></p>
</div>
<div class="section"><h4 class="sectiontitle">Procedure</h4><ol><li><span>Choose <span class="uicontrol" id="EN-US_TOPIC_0000001792503842__en-us_topic_0000001839142377_uicontrol21435597359"><b><span id="EN-US_TOPIC_0000001792503842__en-us_topic_0000001839142377_text4379114911434"><strong>Protection</strong></span> &gt; Databases &gt; DB2</b></span>.</span></li><li id="EN-US_TOPIC_0000001792503842__li12571069312"><span>On the <span class="uicontrol" id="EN-US_TOPIC_0000001792503842__uicontrol13647121671614"><b><span id="EN-US_TOPIC_0000001792503842__text4647616121615"><strong>Databases</strong></span></b></span> tab page, select the database that you want to protect and click <span class="uicontrol" id="EN-US_TOPIC_0000001792503842__uicontrol851716476568"><b><span id="EN-US_TOPIC_0000001792503842__text5546154284118"><strong>Protect</strong></span></b></span>. </span><p><p id="EN-US_TOPIC_0000001792503842__p1478765116562">You can also select multiple databases for batch protection.</p>
</p></li><li id="EN-US_TOPIC_0000001792503842__li343674154015"><span>Select an SLA. </span><p><p id="EN-US_TOPIC_0000001792503842__p33248794210">You can also click <span class="uicontrol" id="EN-US_TOPIC_0000001792503842__uicontrol197631711131711"><b><span id="EN-US_TOPIC_0000001792503842__text16757131110174"><strong>Create</strong></span></b></span> to create an SLA.</p>
</p></li><li><span>Set the advanced parameters for backing up the database. </span><p><div class="p"><a href="#EN-US_TOPIC_0000001792503842__table354613271506">Table 1</a> describes the related parameters.
<div class="tablenoborder"><a name="EN-US_TOPIC_0000001792503842__table354613271506"></a><a name="table354613271506"></a><table cellpadding="4" cellspacing="0" summary="" id="EN-US_TOPIC_0000001792503842__table354613271506" frame="border" border="1" rules="all"><caption><b>Table 1 </b>Advanced parameters for backing up the database</caption><colgroup><col style="width:21.93%"><col style="width:78.07%"></colgroup><thead align="left"><tr><th align="left" class="cellrowborder" valign="top" width="21.93%" id="mcps1.3.3.2.4.2.1.2.2.3.1.1"><p>Parameter</p>
</th>
<th align="left" class="cellrowborder" valign="top" width="78.07%" id="mcps1.3.3.2.4.2.1.2.2.3.1.2"><p>Description</p>
</th>
</tr>
</thead>
<tbody><tr><td class="cellrowborder" valign="top" width="21.93%" headers="mcps1.3.3.2.4.2.1.2.2.3.1.1 "><p><span><strong>Script to Run Before Backup</strong></span></p>
</td>
<td class="cellrowborder" rowspan="3" valign="top" width="78.07%" headers="mcps1.3.3.2.4.2.1.2.2.3.1.2 "><p>You can configure <span><strong>Script to Run Before Backup</strong></span>, <span><strong>Script to Run upon Backup Success</strong></span>, and <span><strong>Script to Run upon Backup Failure</strong></span> based on actual requirements. When a message indicating that the prerequisite task starts to be executed is displayed during a backup job, the configured script is executed in the corresponding scenario. The script format varies according to the OS. For details, see <a href="en-us_topic_0000001929749328.html">Script Format Requirements of Different OSs</a>.</p>
<div class="p">Enter the absolute path and name of the script and ensure that the user who logs in to the database host has the execute permission on the script.<ul><li>The Windows OS supports <span class="uicontrol"><b>.bat</b></span> scripts, for example, <strong>C:\script.bat</strong>.</li><li>Non-Windows OSs support <span class="uicontrol"><b>.sh</b></span> scripts, for example, <strong>/opt/script.sh</strong>.<div class="note"><span class="notetitle"> NOTE: </span><div class="notebody"><p>If <span class="uicontrol"><b><span><strong>Script to Run upon Backup Success</strong></span></b></span> is configured, the status of the backup job is displayed as <span class="uicontrol"><b><span><strong>Succeeded</strong></span></b></span> on the management page even if the script fails to be executed. Check whether the job details contain a message indicating that the post-processing script fails to be executed. If yes, modify the script in a timely manner.</p>
</div></div>
</li></ul>
</div>
</td>
</tr>
<tr><td class="cellrowborder" valign="top" headers="mcps1.3.3.2.4.2.1.2.2.3.1.1 "><p><span><strong>Script to Run upon Backup Success</strong></span></p>
</td>
</tr>
<tr><td class="cellrowborder" valign="top" headers="mcps1.3.3.2.4.2.1.2.2.3.1.1 "><p><span><strong>Script to Run upon Backup Failure</strong></span></p>
</td>
</tr>
</tbody>
</table>
</div>
</div>
</p></li><li id="EN-US_TOPIC_0000001792503842__li7527350315"><span>Click <span class="uicontrol" id="EN-US_TOPIC_0000001792503842__uicontrol196538515235"><b>OK</b></span>. </span><p><p id="EN-US_TOPIC_0000001792503842__p25041111535">If the current system time is later than the first backup start time of the SLA, you can select to perform backup immediately after the backup SLA is associated or wait for the next scheduling based on the backup policy set in the SLA.</p>
</p></li></ol>
</div>
</div>

<div class="hrcopyright"><hr size="2"></div><div class="hwcopyright">Copyright &copy; Huawei Technologies Co., Ltd.</div></body>
</html>