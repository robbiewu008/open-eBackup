<!--
  This file is a part of the open-eBackup project.
  This Source Code Form is subject to the terms of the Mozilla Public License, v. 2.0.
  If a copy of the MPL was not distributed with this file, You can obtain one at
  http://mozilla.org/MPL/2.0/.
  
  Copyright (c) [2024] Huawei Technologies Co.,Ltd.
  
  THIS SOFTWARE IS PROVIDED ON AN "AS IS" BASIS, WITHOUT WARRANTIES OF ANY KIND,
  EITHER EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO NON-INFRINGEMENT,
  MERCHANTABILITY OR FIT FOR A PARTICULAR PURPOSE.
  -->


<!DOCTYPE html
  PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en-us" xml:lang="en-us">
<head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
   
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="DC.Type" content="topic">
<meta name="DC.Title" content="Step 1: Registering a GaussDB (DWS) Cluster">
<meta name="product" content="">
<meta name="DC.Relation" scheme="URI" content="en-us_topic_0000002164757442.html">
<meta name="prodname" content="">
<meta name="version" content="">
<meta name="brand" content="">
<meta name="DC.Publisher" content="20250306">
<meta name="prodname" content="csbs">
<meta name="documenttype" content="usermanual">
<meta name="DC.Format" content="XHTML">
<meta name="DC.Identifier" content="EN-US_TOPIC_0000002164597610">
<meta name="DC.Language" content="en-us">
<link rel="stylesheet" type="text/css" href="public_sys-resources/commonltr.css">
<title>Step 1: Registering a GaussDB (DWS) Cluster</title>
</head>
<body style="clear:both; padding-left:10px; padding-top:5px; padding-right:5px; padding-bottom:5px"><a name="EN-US_TOPIC_0000002164597610"></a><a name="EN-US_TOPIC_0000002164597610"></a>

<h1 class="topictitle1">Step 1: Registering a GaussDB (DWS) Cluster</h1>
<div><p>Before GaussDB (DWS) backup and restoration, register the GaussDB (DWS) cluster with the <span>OceanProtect</span>.</p>
<div class="section"><h4 class="sectiontitle">Prerequisites</h4><ul><li>Before registering the resource for the first time, ensure that you have modified the configuration files of all GaussDB (DWS) nodes where the client is installed as required. For details, see <a href="en-us_topic_0000002199998441.html">Modifying the GaussDB (DWS) Configuration File</a>.</li><li>After the client is installed and before the first backup:<ul><li>If the client is independently deployed on production hosts for 1.5.0SPC13 and later versions, ensure that environment variables have been added to each host where the client is deployed. For details about how to add environment variables, see "<span>Adding Environment Variables<span id="EN-US_TOPIC_0000002164597610__en-us_topic_0000002185440080_ph18358648142414"> (Applicable to GaussDB (DWS)</span>)</span>" in the <i><cite>OceanProtect DataBackup 1.5.0-1.6.0 Client Installation Guide</cite></i>.</li><li>If the client is deployed on production hosts and independent physical servers, ensure that roach_client has been installed on the independent physical servers where the client is deployed. For details about how to install roach_client, see "<span>Installing roach_client (Applicable to GaussDB (DWS))</span>" in the <i><cite>OceanProtect DataBackup 1.5.0-1.6.0 Client Installation Guide</cite></i>.</li></ul>
<div class="note"><img src="public_sys-resources/note_3.0-en-us.png"><span class="notetitle"> </span><div class="notebody"><div class="p">The client can be deployed in either of the following modes:<ul><li>Independent deployment on production hosts: The client must be deployed on all DNs and CNs of GaussDB (DWS).</li><li>Deployment on production hosts and independent physical servers: The client is deployed on independent physical servers and any CN in the GaussDB (DWS) cluster. To ensure system reliability, you are advised to deploy the client on two or three CNs.</li></ul>
</div>
</div></div>
</li><li>Ports required for backup and restoration jobs have been enabled. For details, see the <a href="https://support.huawei.com/enterprise/en/doc/EDOC1100385843" target="_blank" rel="noopener noreferrer">Communication Matrix</a>.</li></ul>
</div>
<div class="section"><h4 class="sectiontitle">Precautions</h4><p>After the GaussDB (DWS) cluster is registered successfully, the cluster name cannot be changed because the name uniquely identifies the cluster. Exercise caution when setting the cluster name.</p>
</div>
<div class="section"><h4 class="sectiontitle">Procedure</h4><ol><li id="EN-US_TOPIC_0000002164597610__en-us_topic_0000001346641964_en-us_topic_0000001249935107_li0198134611381"><span>Choose <span class="uicontrol" id="EN-US_TOPIC_0000002164597610__en-us_topic_0000002199964685_uicontrol865195012392"><b><span id="EN-US_TOPIC_0000002164597610__en-us_topic_0000002199964685_text4651950123919"><strong>Protection</strong></span> &gt; Big Data &gt; GaussDB(DWS)</b></span>.</span></li><li><span>On the <strong>Clusters</strong> tab page, click <strong>Register</strong> to register a GaussDB (DWS) cluster.</span><p><div class="p"><a href="#EN-US_TOPIC_0000002164597610__en-us_topic_0000001346641964_table196232217593">Table 1</a> describes the related parameters.
<div class="tablenoborder"><a name="EN-US_TOPIC_0000002164597610__en-us_topic_0000001346641964_table196232217593"></a><a name="en-us_topic_0000001346641964_table196232217593"></a><table cellpadding="4" cellspacing="0" summary="" id="EN-US_TOPIC_0000002164597610__en-us_topic_0000001346641964_table196232217593" frame="border" border="1" rules="all"><caption><b>Table 1 </b>Registering a GaussDB (DWS) Cluster</caption><colgroup><col style="width:33.21%"><col style="width:66.79%"></colgroup><thead align="left"><tr><th align="left" class="cellrowborder" valign="top" width="33.21%" id="mcps1.3.4.2.2.2.1.2.2.3.1.1"><p>Parameter</p>
</th>
<th align="left" class="cellrowborder" valign="top" width="66.79%" id="mcps1.3.4.2.2.2.1.2.2.3.1.2"><p>Description</p>
</th>
</tr>
</thead>
<tbody><tr><td class="cellrowborder" valign="top" width="33.21%" headers="mcps1.3.4.2.2.2.1.2.2.3.1.1 "><p>Name</p>
</td>
<td class="cellrowborder" valign="top" width="66.79%" headers="mcps1.3.4.2.2.2.1.2.2.3.1.2 "><p>Customize the GaussDB (DWS) cluster name.</p>
</td>
</tr>
<tr><td class="cellrowborder" valign="top" width="33.21%" headers="mcps1.3.4.2.2.2.1.2.2.3.1.1 "><p>Username</p>
</td>
<td class="cellrowborder" valign="top" width="66.79%" headers="mcps1.3.4.2.2.2.1.2.2.3.1.2 "><p>Name of the system user for running the GaussDB (DWS) cluster.</p>
</td>
</tr>
<tr><td class="cellrowborder" valign="top" width="33.21%" headers="mcps1.3.4.2.2.2.1.2.2.3.1.1 "><p>Environment Variable File Path</p>
</td>
<td class="cellrowborder" valign="top" width="66.79%" headers="mcps1.3.4.2.2.2.1.2.2.3.1.2 "><p>Path of the environment variable configuration file of the cluster user. The default path is <strong>/opt/huawei/Bigdata/mppdb/.mppdbgs_profile</strong>.</p>
</td>
</tr>
<tr><td class="cellrowborder" valign="top" width="33.21%" headers="mcps1.3.4.2.2.2.1.2.2.3.1.1 "><p>Nodes</p>
</td>
<td class="cellrowborder" valign="top" width="66.79%" headers="mcps1.3.4.2.2.2.1.2.2.3.1.2 "><p>Select at least one GaussDB (DWS) node that has CN instances and has the client installed.</p>
</td>
</tr>
<tr><td class="cellrowborder" valign="top" width="33.21%" headers="mcps1.3.4.2.2.2.1.2.2.3.1.1 "><p>Clients</p>
<div class="note"><span class="notetitle"> NOTE: </span><div class="notebody"><p id="EN-US_TOPIC_0000002164597610__en-us_topic_0000002199972633_p84411322171314"><span id="EN-US_TOPIC_0000002164597610__en-us_topic_0000002199972633_ph95581882392">In 1.5.0, the parameter name is <strong id="EN-US_TOPIC_0000002164597610__en-us_topic_0000002199972633_b14591920175715">Agent Host</strong>.</span></p>
</div></div>
</td>
<td class="cellrowborder" valign="top" width="66.79%" headers="mcps1.3.4.2.2.2.1.2.2.3.1.2 "><p>Select the client where RoachClient is installed. For a GaussDB (DWS) cluster whose kernel version is GaussDB A 8.0.0, you do not need to select clients. If the client is independently deployed on a production host, you do not need to select clients, either.</p>
</td>
</tr>
</tbody>
</table>
</div>
<div class="note"><img src="public_sys-resources/note_3.0-en-us.png"><span class="notetitle"> </span><div class="notebody"><p>Clients that have been added to other GaussDB (DWS) clusters cannot be added.</p>
</div></div>
</div>
</p></li><li><span>Click <span class="uicontrol"><b>OK</b></span>.</span></li></ol>
</div>
<p></p>
</div>
<div>
<div class="familylinks">
<div class="parentlink"><strong>Parent topic:</strong> <a href="en-us_topic_0000002164757442.html">Backing Up GaussDB (DWS)</a></div>
</div>
</div>

<div class="hrcopyright"><hr size="2"></div><div class="hwcopyright">Copyright &copy; Huawei Technologies Co., Ltd.</div></body>
</html>