<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!--
  This file is a part of the open-eBackup project.
  This Source Code Form is subject to the terms of the Mozilla Public License, v. 2.0.
  If a copy of the MPL was not distributed with this file, You can obtain one at
  http://mozilla.org/MPL/2.0/.
  
  Copyright (c) [2024] Huawei Technologies Co.,Ltd.
  
  THIS SOFTWARE IS PROVIDED ON AN "AS IS" BASIS, WITHOUT WARRANTIES OF ANY KIND,
  EITHER EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO NON-INFRINGEMENT,
  MERCHANTABILITY OR FIT FOR A PARTICULAR PURPOSE.
  -->

<html lang="en-us" xml:lang="en-us">
 <head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="DC.Type" content="topic">
  <meta name="DC.Title" content="Creating an SLA">
  <meta name="product" content="">
  <meta name="DC.Relation" scheme="URI" content="en-us_topic_0000002079043893.html">
  <meta name="prodname" content="">
  <meta name="version" content="">
  <meta name="brand" content="Online Help for Ransomware Protection-Dorado V700R001C00">
  <meta name="DC.Publisher" content="20241119">
  <meta name="DC.Format" content="XHTML">
  <meta name="DC.Identifier" content="EN-US_TOPIC_0000002079043933">
  <meta name="DC.Language" content="en-us">
  <link rel="stylesheet" type="text/css" href="public_sys-resources/commonltr.css">
  <title>Creating an SLA</title>
 </head>
 <body style="clear:both; padding-left:10px; padding-top:5px; padding-right:5px; padding-bottom:5px">
  <a name="EN-US_TOPIC_0000002079043933"></a><a name="EN-US_TOPIC_0000002079043933"></a>
  <h1 class="topictitle1">Creating an SLA</h1>
  <div id="body0000001188956464">
   <p id="EN-US_TOPIC_0000002079043933__p1232219182511">This section describes how to create an SLA and create a ransomware detection snapshot for a file system or LUN.</p>
   <div class="section" id="EN-US_TOPIC_0000002079043933__section8564386224">
    <h4 class="sectiontitle">Precautions</h4>
    <ul id="EN-US_TOPIC_0000002079043933__ul8881201542213">
     <li id="EN-US_TOPIC_0000002079043933__li1810135564415">Ransomware detection snapshots cannot be created for file systems and LUNs whose names start with <strong id="EN-US_TOPIC_0000002079043933__b114593912448">pvc_</strong> created through HyperDetect.</li>
     <li id="EN-US_TOPIC_0000002079043933__li122562029132317">Ransomware detection snapshots cannot be created for clone file systems and LUNs.</li>
     <li id="EN-US_TOPIC_0000002079043933__li13690759202313">After HyperMetro brain-split occurs, ransomware detection snapshots cannot be created for the end that fails arbitration.</li>
     <li id="EN-US_TOPIC_0000002079043933__li931275954519">You are advised to create the same SLA at the primary and secondary ends of HyperMetro. The SLA configured at the secondary end does not take effect immediately. It takes effect after a primary/secondary switchover.</li>
     <li id="EN-US_TOPIC_0000002079043933__li153994642719">Set <strong id="EN-US_TOPIC_0000002079043933__b0915182354916">Snapshot Directory Visibility</strong> to <strong id="EN-US_TOPIC_0000002079043933__b1203143122415">Visible</strong> for file systems.</li>
    </ul>
   </div>
   <div class="section" id="EN-US_TOPIC_0000002079043933__section98912026153513">
    <h4 class="sectiontitle">Procedure</h4>
    <ol id="EN-US_TOPIC_0000002079043933__ol0598140123514">
     <li id="EN-US_TOPIC_0000002079043933__li149381918143112"><span>Choose <span class="menucascade" id="EN-US_TOPIC_0000002079043933__menucascade2811144417812"><b><span class="uicontrol" id="EN-US_TOPIC_0000002079043933__uicontrol10811144411812"><span id="EN-US_TOPIC_0000002079043933__text18182131310312"><strong>Protect</strong></span></span></b> &gt; <b><span class="uicontrol" id="EN-US_TOPIC_0000002079043933__uicontrol9997148581"><span id="EN-US_TOPIC_0000002079043933__text96132449461"><strong>Protection Policies</strong></span></span></b> &gt; <b><span class="uicontrol" id="EN-US_TOPIC_0000002079043933__uicontrol1741254081"><span id="EN-US_TOPIC_0000002079043933__text827262943120"><strong>SLAs</strong></span></span></b></span>.</span></li>
     <li id="EN-US_TOPIC_0000002079043933__li85725345317"><span>Click <span class="uicontrol" id="EN-US_TOPIC_0000002079043933__uicontrol7886929263"><b><span id="EN-US_TOPIC_0000002079043933__text688616212613">Create</span></b></span>.</span></li>
     <li id="EN-US_TOPIC_0000002079043933__li632243103212"><span>Customize an SLA name.</span></li>
     <li id="EN-US_TOPIC_0000002079043933__li17713115318460"><span>Click the <strong id="EN-US_TOPIC_0000002079043933__b194319118278">Applications</strong> icon, select the resource to be protected (<strong id="EN-US_TOPIC_0000002079043933__b1584231410283">Local File System</strong> or <strong id="EN-US_TOPIC_0000002079043933__b14846202312820">Local LUNs</strong>), and click <strong id="EN-US_TOPIC_0000002079043933__b1620562317274">OK</strong>.</span></li>
     <li id="EN-US_TOPIC_0000002079043933__li167542484582"><span>Click the <span class="uicontrol" id="EN-US_TOPIC_0000002079043933__uicontrol18235203385915"><b><span id="EN-US_TOPIC_0000002079043933__text18581185141514">Ransomware Detection Snapshot Backup Policy</span></b></span> icon.</span></li>
     <li id="EN-US_TOPIC_0000002079043933__li148724933815"><span>Set basic parameters on the <span class="uicontrol" id="EN-US_TOPIC_0000002079043933__uicontrol1899025917116"><b>Ransomware Detection Snapshot Backup Policy</b></span> page.</span><p></p><p id="EN-US_TOPIC_0000002079043933__p10861142420492">Periodic backup and backup at a specified time are supported.</p> <p id="EN-US_TOPIC_0000002079043933__p18912123515014"><a href="#EN-US_TOPIC_0000002079043933__table1591417351806">Table 1</a> describes the related parameters.</p>
      <div class="p" id="EN-US_TOPIC_0000002079043933__p1191213351402">
       Set the ransomware detection snapshot backup interval, backup time window, and snapshot retention period based on service requirements. Suggestions are as follows:
       <ul id="EN-US_TOPIC_0000002079043933__ul169120351012">
        <li id="EN-US_TOPIC_0000002079043933__li2091819292110">If the object to be protected is the secondary end of a remote replication pair, ensure that the backup time window of the system is different from the replication time window of the remote replication pair. Otherwise, the backup job may fail.</li>
        <li id="EN-US_TOPIC_0000002079043933__li11556248153216">The intelligent ransomware detection rate is about 50,000 files per minute. Evaluate the backup interval based on the number of the objects to be protected. It is recommended that the backup interval be longer than the time required for intelligent ransomware detection to reduce detection job stacking.</li>
        <li id="EN-US_TOPIC_0000002079043933__li139122353016">It is recommended that the execution time of the initial backup be the same as the start time of the backup time window.</li>
        <li id="EN-US_TOPIC_0000002079043933__li129129359010">The copy retention period must be longer than an interval between two backups.</li>
       </ul>
      </div>
      <div class="tablenoborder">
       <a name="EN-US_TOPIC_0000002079043933__table1591417351806"></a><a name="table1591417351806"></a>
       <table cellpadding="4" cellspacing="0" summary="" id="EN-US_TOPIC_0000002079043933__table1591417351806" frame="border" border="1" rules="all">
        <caption>
         <b>Table 1 </b>Basic parameters of a ransomware detection snapshot backup policy
        </caption>
        <colgroup>
         <col style="width:10.83%">
         <col style="width:13.889999999999999%">
         <col style="width:75.28%">
        </colgroup>
        <thead align="left">
         <tr id="EN-US_TOPIC_0000002079043933__row391217351202">
          <th align="left" class="cellrowborder" colspan="2" valign="top" id="mcps1.3.3.2.6.2.4.2.4.1.1"><p id="EN-US_TOPIC_0000002079043933__p591273518016">Scenario</p></th>
          <th align="left" class="cellrowborder" valign="top" id="mcps1.3.3.2.6.2.4.2.4.1.2"><p id="EN-US_TOPIC_0000002079043933__p2912103510019">Description</p></th>
         </tr>
        </thead>
        <tbody>
         <tr id="EN-US_TOPIC_0000002079043933__row19132351607">
          <td class="cellrowborder" colspan="2" valign="top" headers="mcps1.3.3.2.6.2.4.2.4.1.1 "><p id="EN-US_TOPIC_0000002079043933__p81561627194619">-</p></td>
          <td class="cellrowborder" valign="top" headers="mcps1.3.3.2.6.2.4.2.4.1.2 ">
           <div class="p" id="EN-US_TOPIC_0000002079043933__p157911675147">
            Configure the first execution time, backup interval, copy retention period, and backup time window for ransomware detection snapshot backup.
            <ul id="EN-US_TOPIC_0000002079043933__en-us_topic_0000001506280289_ul167919791414">
             <li id="EN-US_TOPIC_0000002079043933__en-us_topic_0000001506280289_li1079119781413">Configure the backup interval and copy retention period for ransomware detection snapshot backup.
              <ul id="EN-US_TOPIC_0000002079043933__en-us_topic_0000001506280289_ul1679113751412">
               <li id="EN-US_TOPIC_0000002079043933__en-us_topic_0000001506280289_li177910751413"><span id="EN-US_TOPIC_0000002079043933__text1390754414405"><strong id="EN-US_TOPIC_0000002079043933__b690754417406">By Year</strong></span><p id="EN-US_TOPIC_0000002079043933__en-us_topic_0000001506280289_p7791117131413">Configure the job to be executed once every year on <em id="EN-US_TOPIC_0000002079043933__i10606185884112">xx</em> (month)-<em id="EN-US_TOPIC_0000002079043933__i17606145819410">xx</em> (day). Configure copies to be retained for <em id="EN-US_TOPIC_0000002079043933__i1160619582410">xx</em> days, weeks, months, years, or permanently.</p> <p id="EN-US_TOPIC_0000002079043933__en-us_topic_0000001506280289_p62586191379">If the date does not exist in the year, no copy is generated.</p></li>
               <li id="EN-US_TOPIC_0000002079043933__en-us_topic_0000001506280289_li1279112715144"><span id="EN-US_TOPIC_0000002079043933__text79029423430"><strong id="EN-US_TOPIC_0000002079043933__b390216429432">By Month</strong></span><p id="EN-US_TOPIC_0000002079043933__en-us_topic_0000001506280289_p179113721413">Configure the job to be executed on the <em id="EN-US_TOPIC_0000002079043933__i0438813441">xx</em>th day (multiple days can be selected) or the last day of each month. Configure copies to be retained for <em id="EN-US_TOPIC_0000002079043933__i543138164410">xx</em> days, weeks, months, years, or permanently.</p> <p id="EN-US_TOPIC_0000002079043933__en-us_topic_0000001506280289_p125877114419">If backup is set to be executed on the <em id="EN-US_TOPIC_0000002079043933__i1482253134417">xx</em>th day of each month and the date does not exist in a month, no copy is generated.</p></li>
               <li id="EN-US_TOPIC_0000002079043933__en-us_topic_0000001506280289_li879112716144"><span id="EN-US_TOPIC_0000002079043933__text139987168472"><strong id="EN-US_TOPIC_0000002079043933__b14997151624714">By Week</strong></span><p id="EN-US_TOPIC_0000002079043933__en-us_topic_0000001506280289_p1079111741416">Configure the job to be executed once every Monday, Tuesday, Wednesday, Thursday, Friday, Saturday, or Sunday (you can select multiple days). Configure copies to be retained for <em id="EN-US_TOPIC_0000002079043933__i114981320164717">xx</em> days, weeks, months, years, or permanently.</p></li>
               <li id="EN-US_TOPIC_0000002079043933__en-us_topic_0000001506280289_li251355615915"><span id="EN-US_TOPIC_0000002079043933__text1818119566531"><strong id="EN-US_TOPIC_0000002079043933__b11810566537">By Day</strong></span><p id="EN-US_TOPIC_0000002079043933__en-us_topic_0000001506280289_p175137561491">Configure the job to be executed every <em id="EN-US_TOPIC_0000002079043933__i111151211115718">xx</em> days starting from <em id="EN-US_TOPIC_0000002079043933__i10115131119575">xxxx</em> (year)-<em id="EN-US_TOPIC_0000002079043933__i61157119579">xx</em> (month)-<em id="EN-US_TOPIC_0000002079043933__i19116131125711">xx</em> (day). Configure copies to be retained for <em id="EN-US_TOPIC_0000002079043933__i14116161145715">xx</em> days, weeks, months, years, or permanently.</p></li>
               <li id="EN-US_TOPIC_0000002079043933__en-us_topic_0000001506280289_li17513125616918"><span id="EN-US_TOPIC_0000002079043933__text63829315575"><strong id="EN-US_TOPIC_0000002079043933__b638233155719">By Hour</strong></span><p id="EN-US_TOPIC_0000002079043933__en-us_topic_0000001506280289_p451312561795">Configure the job to be executed every <em id="EN-US_TOPIC_0000002079043933__i795293865715">xx</em> hours starting from <em id="EN-US_TOPIC_0000002079043933__i1695211384571">xxxx</em> (year)-<em id="EN-US_TOPIC_0000002079043933__i10953113812575">xx</em> (month)-<em id="EN-US_TOPIC_0000002079043933__i9953173811579">xx</em> (day). Configure copies to be retained for <em id="EN-US_TOPIC_0000002079043933__i19953138145713">xx</em> days, weeks, months, years, or permanently.</p></li>
               <li id="EN-US_TOPIC_0000002079043933__en-us_topic_0000001506280289_li108498361016"><span id="EN-US_TOPIC_0000002079043933__text1684941315814"><strong id="EN-US_TOPIC_0000002079043933__b984981395811">By Minute</strong></span><p id="EN-US_TOPIC_0000002079043933__en-us_topic_0000001506280289_p178491339103">Configure the job to be executed every <em id="EN-US_TOPIC_0000002079043933__i98981223195817">xx</em> minutes starting from <em id="EN-US_TOPIC_0000002079043933__i48991423105818">xxxx</em> (year)-<em id="EN-US_TOPIC_0000002079043933__i489912232588">xx</em> (month)-<em id="EN-US_TOPIC_0000002079043933__i15899182345814">xx</em> (day). Configure copies to be retained for <em id="EN-US_TOPIC_0000002079043933__i1789932335818">xx</em> days, weeks, months, years, or permanently.</p></li>
              </ul></li>
             <li id="EN-US_TOPIC_0000002079043933__en-us_topic_0000001506280289_li1679107171411">Configure the time period during which ransomware detection snapshot backup can be performed. Ransomware detection snapshot backup jobs will not be scheduled beyond this time period.
              <div class="note" id="EN-US_TOPIC_0000002079043933__en-us_topic_0000001506280289_note77917711419">
               <span class="notetitle"> NOTE: </span>
               <div class="notebody">
                <ul id="EN-US_TOPIC_0000002079043933__en-us_topic_0000001506280289_ul64461851101420">
                 <li id="EN-US_TOPIC_0000002079043933__en-us_topic_0000001506280289_li037445621410">If the end time is earlier than or the same as the start time, the end time is actually the end time on the next day.</li>
                 <li id="EN-US_TOPIC_0000002079043933__en-us_topic_0000001506280289_li4446145117142">If a backup job is not completed within the specified time window, the system will not stop the backup job, but report an event.</li>
                 <li id="EN-US_TOPIC_0000002079043933__en-us_topic_0000001506280289_li4684315367">Once the retention period expires, the system automatically deletes the expired copies.</li>
                 <li id="EN-US_TOPIC_0000002079043933__li9326134415281">You are advised to set the interval of ransomware detection snapshot backup to once a day.</li>
                </ul>
               </div>
              </div></li>
            </ul>
           </div></td>
         </tr>
        </tbody>
       </table>
      </div> <p></p></li>
     <li id="EN-US_TOPIC_0000002079043933__li17967833631"><span>Set advanced parameters of the ransomware detection snapshot backup policy.</span><p></p>
      <div class="p" id="EN-US_TOPIC_0000002079043933__p1915143519019">
       <a href="#EN-US_TOPIC_0000002079043933__table79151351804">Table 2</a> describes the related parameters. 
       <div class="tablenoborder">
        <a name="EN-US_TOPIC_0000002079043933__table79151351804"></a><a name="table79151351804"></a>
        <table cellpadding="4" cellspacing="0" summary="" id="EN-US_TOPIC_0000002079043933__table79151351804" frame="border" border="1" rules="all">
         <caption>
          <b>Table 2 </b>Advanced parameters of a ransomware detection snapshot backup policy
         </caption>
         <colgroup>
          <col style="width:30.06%">
          <col style="width:69.94%">
         </colgroup>
         <thead align="left">
          <tr id="EN-US_TOPIC_0000002079043933__row791411353020">
           <th align="left" class="cellrowborder" valign="top" width="30.06%" id="mcps1.3.3.2.7.2.1.2.2.3.1.1"><p id="EN-US_TOPIC_0000002079043933__p1291453517013">Parameter</p></th>
           <th align="left" class="cellrowborder" valign="top" width="69.94%" id="mcps1.3.3.2.7.2.1.2.2.3.1.2"><p id="EN-US_TOPIC_0000002079043933__p491413351904">Description</p></th>
          </tr>
         </thead>
         <tbody>
          <tr id="EN-US_TOPIC_0000002079043933__row291417351304">
           <td class="cellrowborder" valign="top" width="30.06%" headers="mcps1.3.3.2.7.2.1.2.2.3.1.1 "><p id="EN-US_TOPIC_0000002079043933__en-us_topic_0000001283134344_p189144351802"><span id="EN-US_TOPIC_0000002079043933__text7221193916282">Uninfected Snapshot Lock</span></p></td>
           <td class="cellrowborder" valign="top" width="69.94%" headers="mcps1.3.3.2.7.2.1.2.2.3.1.2 "><p id="EN-US_TOPIC_0000002079043933__en-us_topic_0000001283134344_p11872124113514">Indicates whether to lock the snapshots where no ransomware is detected. This function is disabled by default. After this function is enabled, uninfected snapshots will be converted to secure snapshots. The expiration time of copies will be delayed and the copies cannot be modified or deleted before they expire.</p></td>
          </tr>
          <tr id="EN-US_TOPIC_0000002079043933__row691510358017">
           <td class="cellrowborder" valign="top" width="30.06%" headers="mcps1.3.3.2.7.2.1.2.2.3.1.1 "><p id="EN-US_TOPIC_0000002079043933__en-us_topic_0000001283134344_p8915535609"><span id="EN-US_TOPIC_0000002079043933__text1195810478318">Automatic Retry</span></p></td>
           <td class="cellrowborder" valign="top" width="69.94%" headers="mcps1.3.3.2.7.2.1.2.2.3.1.2 "><p id="EN-US_TOPIC_0000002079043933__en-us_topic_0000001283134344_p59151935109">This function is enabled by default. If a ransomware detection snapshot backup job fails, the system automatically retries the job.</p>
            <div class="p" id="EN-US_TOPIC_0000002079043933__en-us_topic_0000001283134344_p159158351007">
             The number of retries ranges from 1 to 5, and the wait time ranges from 1 minute to 30 minutes. For example, if the number of retries is set to 3 and the wait time is set to 5 minutes, the system retries for three times at an interval of 5 minutes.
             <div class="note" id="EN-US_TOPIC_0000002079043933__en-us_topic_0000001283134344_note1191518351206">
              <span class="notetitle"> NOTE: </span>
              <div class="notebody">
               <p id="EN-US_TOPIC_0000002079043933__en-us_topic_0000001283134344_p49151035302">During automatic retry, the system creates a ransomware detection snapshot backup job. The backup job is executed only when it is within the preset time window.</p>
              </div>
             </div>
            </div></td>
          </tr>
         </tbody>
        </table>
       </div>
      </div> <p></p></li>
     <li id="EN-US_TOPIC_0000002079043933__li1618195321716"><span>Click <span class="uicontrol" id="EN-US_TOPIC_0000002079043933__uicontrol65831059121713"><b><span id="EN-US_TOPIC_0000002079043933__text1833112168332"><strong>OK</strong></span></b></span> to return to the SLA creation page.</span></li>
     <li id="EN-US_TOPIC_0000002079043933__li1092814385513"><span>Click <span class="uicontrol" id="EN-US_TOPIC_0000002079043933__uicontrol29131271161"><b><span id="EN-US_TOPIC_0000002079043933__text12104162233310"><strong>OK</strong></span></b></span>. The SLA is created.</span></li>
    </ol>
   </div>
  </div>
  <div>
   <div class="familylinks">
    <div class="parentlink">
     <strong>Parent topic:</strong> <a href="en-us_topic_0000002079043893.html">Creating a Ransomware Detection Snapshot</a>
    </div>
   </div>
  </div>
 </body>
</html>