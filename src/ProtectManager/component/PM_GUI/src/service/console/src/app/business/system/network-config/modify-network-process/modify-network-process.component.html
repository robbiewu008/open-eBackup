<div class="loading-container">
    <ng-container *ngIf="viewType === type.BackupView">
        <ng-container *ngIf="backupResult.status === initStatus.running.value">
            <img [src]="'assets/img/init_loading.gif'">
            <div [innerHTML]="initStatus.running.label | i18n: [backupResult.rate]"></div>
        </ng-container>

        <ng-container *ngIf="backupResult.status === initStatus.ok.value && backupResult.code">
            <img [src]="'assets/img/init_failed.png'">
            <div [innerHTML]="backupResult.code | i18n : backupResult.params"></div>
            <div>
                <ng-container *ngTemplateOutlet="resetBackupTpl"></ng-container>
            </div>
        </ng-container>
    </ng-container>

    <ng-container *ngIf="viewType === type.ArchiveView">
        <ng-container *ngIf="archiveResult.status === initStatus.running.value">
            <img [src]="'assets/img/init_loading.gif'">
            <div [innerHTML]="initStatus.running.label | i18n: [archiveResult.rate]"></div>
        </ng-container>

        <ng-container *ngIf="archiveResult.status === initStatus.ok.value && archiveResult.code">
            <img [src]="'assets/img/init_failed.png'">
            <div [innerHTML]="archiveResult.code | i18n : archiveResult.params"></div>
            <div>
                <ng-container *ngTemplateOutlet="resetArchiveTpl"></ng-container>
            </div>
        </ng-container>
    </ng-container>


</div>

<ng-template #resetBackupTpl>
    <button lv-button lvType='primary' (click)='onResetBackup()'>
        {{'common_modify_config_label' | i18n}}
    </button>
</ng-template>

<ng-template #resetArchiveTpl>
    <button lv-button lvType='primary' (click)='onResetArchive()'>
        {{'common_modify_config_label' | i18n}}
    </button>
</ng-template>
