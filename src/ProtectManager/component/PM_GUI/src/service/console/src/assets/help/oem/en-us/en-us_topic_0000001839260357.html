<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!--
  This file is a part of the open-eBackup project.
  This Source Code Form is subject to the terms of the Mozilla Public License, v. 2.0.
  If a copy of the MPL was not distributed with this file, You can obtain one at
  http://mozilla.org/MPL/2.0/.
  
  Copyright (c) [2024] Huawei Technologies Co.,Ltd.
  
  THIS SOFTWARE IS PROVIDED ON AN "AS IS" BASIS, WITHOUT WARRANTIES OF ANY KIND,
  EITHER EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO NON-INFRINGEMENT,
  MERCHANTABILITY OR FIT FOR A PARTICULAR PURPOSE.
  -->

<!--
  This file is a part of the open-eBackup project.
  This Source Code Form is subject to the terms of the Mozilla Public License, v. 2.0.
  If a copy of the MPL was not distributed with this file, You can obtain one at
  http://mozilla.org/MPL/2.0/.
  
  Copyright (c) [2024] Huawei Technologies Co.,Ltd.
  
  THIS SOFTWARE IS PROVIDED ON AN "AS IS" BASIS, WITHOUT WARRANTIES OF ANY KIND,
  EITHER EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO NON-INFRINGEMENT,
  MERCHANTABILITY OR FIT FOR A PARTICULAR PURPOSE.
  -->

<html lang="en-us" xml:lang="en-us">
 <head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="DC.Type" content="topic">
  <meta name="DC.Title" content="Restoring PVCs">
  <meta name="product" content="">
  <meta name="DC.Relation" scheme="URI" content="en-us_topic_0000001839260397.html">
  <meta name="prodname" content="">
  <meta name="version" content="">
  <meta name="brand" content="30-OceanProtect Appliance 1.5.0-1.6.0 Help Center">
  <meta name="DC.Publisher" content="20240608">
  <meta name="DC.Format" content="XHTML">
  <meta name="DC.Identifier" content="EN-US_TOPIC_0000001839260357">
  <meta name="DC.Language" content="en-us">
  <link rel="stylesheet" type="text/css" href="public_sys-resources/commonltr.css">
  <title>Restoring PVCs</title>
 </head>
 <body style="clear:both; padding-left:10px; padding-top:5px; padding-right:5px; padding-bottom:5px">
  <a name="EN-US_TOPIC_0000001839260357"></a><a name="EN-US_TOPIC_0000001839260357"></a>
  <h1 class="topictitle1">Restoring PVCs</h1>
  <div>
   <p>This section describes how to restore PVCs that have been backed up to the original location or a new location.</p>
   <div class="section">
    <h4 class="sectiontitle">Context</h4>
    <p>The <span>product</span> supports PVC restoration using backup copies and replication copies (data cannot be restored to the original location). Data can be restored to the original location or a new location.</p>
   </div>
   <ul>
    <li>Restoration to the original location<p>Restores the PVCs in the copy to the same PVCs of the same dataset in the namespace where the copy resides.</p></li>
    <li>Restoration to a new location<p>Restores the selected PVC copies to the PVCs in the namespace of the target Kubernetes cluster.</p></li>
   </ul>
   <div class="section">
    <h4 class="sectiontitle">Prerequisites</h4>
    <ul>
     <li>Before restoring PVCs to another Kubernetes cluster, you need to register the Kubernetes cluster with the <span>product</span>. For details, see <a href="en-us_topic_0000001792381196.html">Step 3: Registering a Cluster</a>.</li>
     <li>The target PVCs to be restored cannot be read-only.</li>
     <li>Before the restoration is executed, ensure that sizes of the PVCs to be restored are less than or equal to sizes of the target PVCs. Otherwise, data may be lost after restoration.</li>
    </ul>
   </div>
   <div class="section">
    <h4 class="sectiontitle">Procedure</h4>
    <ol>
     <li><span>Choose <span class="uicontrol" id="EN-US_TOPIC_0000001839260357__en-us_topic_0000001792381376_en-us_topic_0000001839142377_uicontrol17790342165415"><b><span id="EN-US_TOPIC_0000001839260357__en-us_topic_0000001792381376_en-us_topic_0000001839142377_text679084235415"><strong>Explore</strong></span> &gt; <span id="EN-US_TOPIC_0000001839260357__en-us_topic_0000001792381376_en-us_topic_0000001839142377_text14790942175410"><strong>Copy Data</strong></span> &gt; <span id="EN-US_TOPIC_0000001839260357__en-us_topic_0000001792381376_en-us_topic_0000001839142377_text42195499217"><strong>Containers</strong></span> &gt; <span id="EN-US_TOPIC_0000001839260357__en-us_topic_0000001792381376_en-us_topic_0000001839142377_text729816765515"><strong>Kubernetes CSI</strong></span></b></span>.</span></li>
     <li><span>Search for copies by resource or copy. This section describes how to search for copies by resource.</span><p></p><p>On the <span><strong>Resources</strong></span> tab page, locate the dataset to be restored based on the dataset name and then click the name.</p> <p></p></li>
     <li><span>On the <span class="uicontrol"><b><span><strong>Copy Data</strong></span></b></span> page, select the year, month, and day in sequence to locate the copy.</span><p></p><p>If <span><img src="en-us_image_0000001839180749.png"></span> is displayed below a month or day, a copy is generated in the month or on the day.</p> <p></p></li>
     <li><span>Find the copy to be restored and choose <span><strong>More</strong></span> &gt; <span><strong>PVC level recovery</strong></span> on the right.</span></li>
     <li><span>Select the PVCs to be restored and restore them to the original location or a new location.</span><p></p>
      <ul>
       <li>Restoration to the original location<p><a href="#EN-US_TOPIC_0000001839260357__table52750616234">Table 1</a> describes the related parameters.</p>
        <div class="tablenoborder">
         <a name="EN-US_TOPIC_0000001839260357__table52750616234"></a><a name="table52750616234"></a>
         <table cellpadding="4" cellspacing="0" summary="" id="EN-US_TOPIC_0000001839260357__table52750616234" frame="border" border="1" rules="all">
          <caption>
           <b>Table 1 </b>Parameters for restoring data to the original location
          </caption>
          <colgroup>
           <col style="width:29.43%">
           <col style="width:70.57%">
          </colgroup>
          <thead align="left">
           <tr>
            <th align="left" class="cellrowborder" valign="top" width="29.43%" id="mcps1.3.5.2.5.2.1.1.2.2.3.1.1"><p>Parameter</p></th>
            <th align="left" class="cellrowborder" valign="top" width="70.57%" id="mcps1.3.5.2.5.2.1.1.2.2.3.1.2"><p>Description</p></th>
           </tr>
          </thead>
          <tbody>
           <tr>
            <td class="cellrowborder" valign="top" width="29.43%" headers="mcps1.3.5.2.5.2.1.1.2.2.3.1.1 "><p><strong>Overwrite Rule</strong></p></td>
            <td class="cellrowborder" valign="top" width="70.57%" headers="mcps1.3.5.2.5.2.1.1.2.2.3.1.2 "><p>If the copy and the PVCs in the target location have the same file, you need to replace or ignore the existing file. Overwrite rules can be set only for PVC data.</p></td>
           </tr>
          </tbody>
         </table>
        </div></li>
       <li>Restoration to a new location
        <div class="p">
         <a href="#EN-US_TOPIC_0000001839260357__table15668141795417">Table 2</a> describes the related parameters. 
         <div class="tablenoborder">
          <a name="EN-US_TOPIC_0000001839260357__table15668141795417"></a><a name="table15668141795417"></a>
          <table cellpadding="4" cellspacing="0" summary="" id="EN-US_TOPIC_0000001839260357__table15668141795417" frame="border" border="1" rules="all">
           <caption>
            <b>Table 2 </b>Parameters for restoring data to a new location
           </caption>
           <colgroup>
            <col style="width:29.87%">
            <col style="width:70.13000000000001%">
           </colgroup>
           <thead align="left">
            <tr>
             <th align="left" class="cellrowborder" valign="top" width="29.87%" id="mcps1.3.5.2.5.2.1.2.1.2.2.3.1.1"><p>Parameter</p></th>
             <th align="left" class="cellrowborder" valign="top" width="70.13000000000001%" id="mcps1.3.5.2.5.2.1.2.1.2.2.3.1.2"><p>Description</p></th>
            </tr>
           </thead>
           <tbody>
            <tr>
             <td class="cellrowborder" valign="top" width="29.87%" headers="mcps1.3.5.2.5.2.1.2.1.2.2.3.1.1 "><p><span><strong>Target Location</strong></span></p></td>
             <td class="cellrowborder" valign="top" width="70.13000000000001%" headers="mcps1.3.5.2.5.2.1.2.1.2.2.3.1.2 "><p>Select the name of the namespace to which the backup copy is restored.</p></td>
            </tr>
            <tr>
             <td class="cellrowborder" valign="top" width="29.87%" headers="mcps1.3.5.2.5.2.1.2.1.2.2.3.1.1 "><p><span><strong>Restoration Target Location</strong></span></p></td>
             <td class="cellrowborder" valign="top" width="70.13000000000001%" headers="mcps1.3.5.2.5.2.1.2.1.2.2.3.1.2 "><p>Select the PVC name in the target namespace to which the backup copy is restored.</p></td>
            </tr>
            <tr>
             <td class="cellrowborder" valign="top" width="29.87%" headers="mcps1.3.5.2.5.2.1.2.1.2.2.3.1.1 "><p><strong>Overwrite Rule</strong></p></td>
             <td class="cellrowborder" valign="top" width="70.13000000000001%" headers="mcps1.3.5.2.5.2.1.2.1.2.2.3.1.2 "><p>If the copy and the PVCs in the target location have the same file, you need to replace or ignore the existing file. Overwrite rules can be set only for PVC data.</p></td>
            </tr>
           </tbody>
          </table>
         </div>
        </div></li>
      </ul> <p></p></li>
     <li><span>Click <span class="uicontrol"><b><span><strong>OK</strong></span></b></span>.</span></li>
     <li><span>Click <span class="uicontrol"><b><span><strong>OK</strong></span></b></span>.</span></li>
    </ol>
   </div>
  </div>
  <div>
   <div class="familylinks">
    <div class="parentlink">
     <strong>Parent topic:</strong> <a href="en-us_topic_0000001839260397.html">Restoration</a>
    </div>
   </div>
  </div>
 </body>
</html>