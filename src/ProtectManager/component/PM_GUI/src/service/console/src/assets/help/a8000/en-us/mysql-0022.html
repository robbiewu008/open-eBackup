
<!--
  This file is a part of the open-eBackup project.
  This Source Code Form is subject to the terms of the Mozilla Public License, v. 2.0.
  If a copy of the MPL was not distributed with this file, You can obtain one at
  http://mozilla.org/MPL/2.0/.
  
  Copyright (c) [2024] Huawei Technologies Co.,Ltd.
  
  THIS SOFTWARE IS PROVIDED ON AN "AS IS" BASIS, WITHOUT WARRANTIES OF ANY KIND,
  EITHER EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO NON-INFRINGEMENT,
  MERCHANTABILITY OR FIT FOR A PARTICULAR PURPOSE.
  -->

<!DOCTYPE html
  PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en-us" xml:lang="en-us">
<head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
   
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="DC.Type" content="topic">
<meta name="DC.Title" content="Step 9: Performing Backup">
<meta name="product" content="">
<meta name="DC.Relation" scheme="URI" content="mysql-0011.html">
<meta name="prodname" content="">
<meta name="version" content="">
<meta name="brand" content="30-OceanProtect Appliance 1.5.0-1.6.0 Help Center">
<meta name="DC.Publisher" content="20241030">
<meta name="documenttype" content="usermanual">
<meta name="prodname" content="csbs">
<meta name="DC.Format" content="XHTML">
<meta name="DC.Identifier" content="mysql-0022">
<meta name="DC.Language" content="en-us">
<link rel="stylesheet" type="text/css" href="public_sys-resources/commonltr.css">
<title>Step 9: Performing Backup</title>
</head>
<body style="clear:both; padding-left:10px; padding-top:5px; padding-right:5px; padding-bottom:5px"><a name="mysql-0022"></a><a name="mysql-0022"></a>

<h1 class="topictitle1">Step 9: Performing Backup</h1>
<div><p>Before performing backup, you need to associate the resources to be protected with a specified SLA policy. The system protects the resources based on the SLA policy and periodically performs backup jobs based on the SLA policy. You can perform a backup job immediately through manual backup.</p>
<div class="section"><h4 class="sectiontitle">Context</h4><p>The retention period of copies generated during the manual backup is defined in the SLA.</p>
</div>
<div class="section"><h4 class="sectiontitle">Prerequisites</h4><p>The protected resource has been associated with an SLA.</p>
</div>
<div class="section"><h4 class="sectiontitle">Procedure</h4><ol><li><span>Choose <span class="uicontrol" id="mysql-0022__en-us_topic_0000001839142377_uicontrol189688153618"><b><span id="mysql-0022__en-us_topic_0000001839142377_text148961988368"><strong>Protection</strong></span> &gt; Databases &gt; MySQL/MariaDB/GreatSQL</b></span>.</span></li><li><span>On the <span class="uicontrol"><b><span><strong>Database</strong></span></b></span> tab, select the database that you want to protect and click <span class="uicontrol"><b><span><strong>Protect</strong></span></b></span>. </span><p><div class="note"><img src="public_sys-resources/note_3.0-en-us.png"><span class="notetitle"> </span><div class="notebody"><p>The default database names of MySQL, MariaDB, and GreatSQL are not displayed on the <span class="uicontrol"><b><span><strong>Database</strong></span></b></span> page.</p>
</div></div>
<p>You can also select multiple databases for batch protection.</p>
</p></li><li><span>Select an SLA. </span><p><p>You can also click <span class="uicontrol"><b><span><strong>Create</strong></span></b></span> to create an SLA.</p>
<div class="note"><img src="public_sys-resources/note_3.0-en-us.png"><span class="notetitle"> </span><div class="notebody"><p id="mysql-0022__en-us_topic_0000001964713008_p125947145711"><span id="mysql-0022__en-us_topic_0000001964713008_ph1413818422327">If a WORM policy has been configured for the resource to be protected, select an SLA without a WORM policy to create protection to avoid WORM policy conflicts.</span></p>
</div></div>
</p></li><li><span>Set parameters in <span class="uicontrol"><b><span><strong>Advanced</strong></span></b></span> by referring to <a href="#mysql-0022__table354613271506">Table 1</a>.</span><p>
<div class="tablenoborder"><a name="mysql-0022__table354613271506"></a><a name="table354613271506"></a><table cellpadding="4" cellspacing="0" summary="" id="mysql-0022__table354613271506" frame="border" border="1" rules="all"><caption><b>Table 1 </b>Advanced backup parameters</caption><colgroup><col style="width:22.11%"><col style="width:77.89%"></colgroup><thead align="left"><tr><th align="left" class="cellrowborder" valign="top" width="22.11%" id="mcps1.3.4.2.4.2.1.2.3.1.1"><p>Parameter</p>
</th>
<th align="left" class="cellrowborder" valign="top" width="77.89%" id="mcps1.3.4.2.4.2.1.2.3.1.2"><p>Description</p>
</th>
</tr>
</thead>
<tbody><tr><td class="cellrowborder" valign="top" width="22.11%" headers="mcps1.3.4.2.4.2.1.2.3.1.1 "><p><span><strong>Script to Run Before Backup</strong></span></p>
</td>
<td class="cellrowborder" rowspan="3" valign="top" width="77.89%" headers="mcps1.3.4.2.4.2.1.2.3.1.2 "><p>You can configure <span><strong>Script to Run Before Backup</strong></span>, <span><strong>Script to Run upon Backup Success</strong></span>, and <span><strong>Script to Run upon Backup Failure</strong></span> based on actual requirements. When a message indicating that the pre-processing task starts to be executed is displayed during a backup job, the configured script is executed in the corresponding scenario.</p>
<p>Enter a script name that ends with <strong>.sh</strong>. Ensure that the script has been stored in the <span class="filepath"><b>DataBackup/ProtectClient/ProtectClient-E/sbin/thirdparty</b></span> directory in the ProtectAgent installation directory and the user (user <strong>root</strong> by default) who has logged in to the database host is permitted to execute the script.</p>
<div class="note"><span class="notetitle"> NOTE: </span><div class="notebody"><p>When <span class="uicontrol"><b><span><strong>Script to Run upon Backup Success</strong></span></b></span> is configured, the status of the backup job is displayed as <span class="uicontrol"><b><span><strong>Succeeded</strong></span></b></span> on the management page even if the script fails to be executed. Check whether the job details contain information indicating that a post-processing script fails to be executed. If yes, modify the script in a timely manner.</p>
</div></div>
</td>
</tr>
<tr><td class="cellrowborder" valign="top" headers="mcps1.3.4.2.4.2.1.2.3.1.1 "><p><span><strong>Script to Run upon Backup Success</strong></span></p>
</td>
</tr>
<tr><td class="cellrowborder" valign="top" headers="mcps1.3.4.2.4.2.1.2.3.1.1 "><p><span><strong>Script to Run upon Backup Failure</strong></span></p>
</td>
</tr>
</tbody>
</table>
</div>
</p></li><li><span>Click <span class="uicontrol"><b><span><strong>OK</strong></span></b></span>. </span><p><p>If the current system time is later than the start time of the first backup set in the SLA, you can choose to execute the backup immediately or wait for the next scheduling based on the backup policy set in the SLA after the backup SLA is associated with the resource.</p>
</p></li><li><strong>Optional: </strong><span>Execute manual backup.</span><p><p>If you want to execute a backup job immediately, perform manual backup through the following operations. Otherwise, skip this step.</p>
<ol type="a"><li>In the row of the target database, choose <span class="uicontrol"><b><span><strong>More</strong></span> &gt; <span><strong>Manual Backup</strong></span></b></span>.</li><li>Set the name of the copy generated by manual backup.<p>If this parameter is left unspecified, the system sets the name to <strong>backup_</strong><em>Timestamp</em> by default.</p>
</li><li>Select a protection policy: full backup, incremental backup, differential backup, or log backup.<div class="note"><img src="public_sys-resources/note_3.0-en-us.png"><span class="notetitle"> </span><div class="notebody"><p>For MySQL/MariaDB, if the cluster type is <strong>Active/Active Replication</strong>, only full, incremental, and differential backups are supported.</p>
<p><span>For 1.6.0 and later versions: If the selected protection policy is different from that configured in the associated SLA, the WORM configuration does not take effect.</span></p>
</div></div>
</li><li>Click <span class="uicontrol"><b><span><strong>OK</strong></span></b></span>.</li></ol>
</p></li></ol>
</div>
</div>
<div>
<div class="familylinks">
<div class="parentlink"><strong>Parent topic:</strong> <a href="mysql-0011.html">Backing Up the MySQL/MariaDB/GreatSQL Database</a></div>
</div>
</div>

<div class="hrcopyright"><hr size="2"></div><div class="hwcopyright">Copyright &copy; Huawei Technologies Co., Ltd.</div></body>
</html>