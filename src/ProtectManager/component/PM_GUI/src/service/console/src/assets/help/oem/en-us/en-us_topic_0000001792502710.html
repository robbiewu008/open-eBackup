<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en-us" xml:lang="en-us">
 <head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="DC.Type" content="topic">
  <meta name="DC.Title" content="Step 7: Creating a Replication SLA">
  <meta name="product" content="">
  <meta name="DC.Relation" scheme="URI" content="en-us_topic_0000001839142021.html">
  <meta name="prodname" content="">
  <meta name="version" content="">
  <meta name="brand" content="30-OceanProtect Appliance 1.5.0-1.6.0 Help Center">
  <meta name="DC.Publisher" content="20240608">
  <meta name="DC.Format" content="XHTML">
  <meta name="DC.Identifier" content="EN-US_TOPIC_0000001792502710">
  <meta name="DC.Language" content="en-us">
  <link rel="stylesheet" type="text/css" href="public_sys-resources/commonltr.css">
  <title>Step 7: Creating a Replication SLA</title>
 </head>
 <body style="clear:both; padding-left:10px; padding-top:5px; padding-right:5px; padding-bottom:5px">
  <a name="EN-US_TOPIC_0000001792502710"></a><a name="EN-US_TOPIC_0000001792502710"></a>
  <h1 class="topictitle1">Step 7: Creating a Replication SLA</h1>
  <div>
   <p>This section describes how to configure the SLA of replication policies so that you can replicate local backup copies.</p>
   <div class="section">
    <h4 class="sectiontitle">Prerequisites</h4>
    <p>An SLA with a backup policy has been created. For details about how to create a backup SLA, refer to <a href="en-us_topic_0000001839221877.html">Step 6: Creating a Backup SLA</a>.</p>
   </div>
   <div class="section">
    <h4 class="sectiontitle">Procedure</h4>
    <ol>
     <li><span>Choose <span class="uicontrol" id="EN-US_TOPIC_0000001792502710__en-us_topic_0000001839142377_uicontrol8111821122820"><b><span id="EN-US_TOPIC_0000001792502710__en-us_topic_0000001839142377_text71111921162814"><strong>Protection</strong></span> &gt; Protection Policies &gt; SLAs</b></span>.</span></li>
     <li><span>Find the desired SLA and choose <span class="uicontrol"><b><span><strong>More</strong></span> &gt; <span><strong>Modify</strong></span></b></span>.</span><p></p><p>The preset SLAs cannot be modified.</p> <p></p></li>
     <li><span>Click the <span class="uicontrol"><b><span><strong>Replication Policy</strong></span></b></span> icon.</span></li>
     <li><span>Configure the replication policy.</span><p></p><p>Click <span class="uicontrol"><b><span><strong>Add</strong></span></b></span> on the right of the page to create a replication policy. A maximum of four replication policies can be created.</p> <p><a href="#EN-US_TOPIC_0000001792502710__en-us_topic_0000001337388038_table13459122015523">Table 1</a> describes the related parameters.</p>
      <div class="tablenoborder">
       <a name="EN-US_TOPIC_0000001792502710__en-us_topic_0000001337388038_table13459122015523"></a><a name="en-us_topic_0000001337388038_table13459122015523"></a>
       <table cellpadding="4" cellspacing="0" summary="" id="EN-US_TOPIC_0000001792502710__en-us_topic_0000001337388038_table13459122015523" frame="border" border="1" rules="all">
        <caption>
         <b>Table 1 </b>Replication policy parameters
        </caption>
        <colgroup>
         <col style="width:20.29%">
         <col style="width:79.71000000000001%">
        </colgroup>
        <thead align="left">
         <tr>
          <th align="left" class="cellrowborder" valign="top" width="20.29%" id="mcps1.3.3.2.4.2.3.2.3.1.1"><p>Parameter</p></th>
          <th align="left" class="cellrowborder" valign="top" width="79.71000000000001%" id="mcps1.3.3.2.4.2.3.2.3.1.2"><p>Description</p></th>
         </tr>
        </thead>
        <tbody>
         <tr>
          <td class="cellrowborder" valign="top" width="20.29%" headers="mcps1.3.3.2.4.2.3.2.3.1.1 "><p><span><strong>Name</strong></span></p></td>
          <td class="cellrowborder" valign="top" width="79.71000000000001%" headers="mcps1.3.3.2.4.2.3.2.3.1.2 "><p>Replication policy name, which can be customized.</p></td>
         </tr>
         <tr>
          <td class="cellrowborder" valign="top" width="20.29%" headers="mcps1.3.3.2.4.2.3.2.3.1.1 "><p><strong id="EN-US_TOPIC_0000001792502710__en-us_topic_0000001839143213_b113124229313">Replication Mode</strong></p></td>
          <td class="cellrowborder" valign="top" width="79.71000000000001%" headers="mcps1.3.3.2.4.2.3.2.3.1.2 "><p>GaussDB (DWS) supports only cross-domain replication.</p> <p><strong id="EN-US_TOPIC_0000001792502710__en-us_topic_0000001839143213_b61034388312">Cross-domain</strong>: Replication is performed between clusters.</p></td>
         </tr>
         <tr>
          <td class="cellrowborder" valign="top" width="20.29%" headers="mcps1.3.3.2.4.2.3.2.3.1.1 "><p><strong id="EN-US_TOPIC_0000001792502710__en-us_topic_0000001839143213_b1227715255412">Replication Target User</strong></p></td>
          <td class="cellrowborder" valign="top" width="79.71000000000001%" headers="mcps1.3.3.2.4.2.3.2.3.1.2 "><p>Select the system administrator or data protection administrator of the target end for replication.</p></td>
         </tr>
         <tr>
          <td class="cellrowborder" valign="top" width="20.29%" headers="mcps1.3.3.2.4.2.3.2.3.1.1 "><p><strong id="EN-US_TOPIC_0000001792502710__en-us_topic_0000001839143213_b131613013413">Password</strong></p></td>
          <td class="cellrowborder" valign="top" width="79.71000000000001%" headers="mcps1.3.3.2.4.2.3.2.3.1.2 "><p>Enter the password of the system administrator or data protection administrator of the target end for replication. After entering the password, click <span class="uicontrol" id="EN-US_TOPIC_0000001792502710__en-us_topic_0000001839143213_uicontrol171601242183913"><b>Authenticate</b></span> to verify the password.</p></td>
         </tr>
         <tr>
          <td class="cellrowborder" valign="top" width="20.29%" headers="mcps1.3.3.2.4.2.3.2.3.1.1 "><p><span id="EN-US_TOPIC_0000001792502710__en-us_topic_0000001839143213_text1965310576105"><strong>Specify Target Location</strong></span></p></td>
          <td class="cellrowborder" valign="top" width="79.71000000000001%" headers="mcps1.3.3.2.4.2.3.2.3.1.2 ">
           <div class="p">
            The replication target location can be a backup storage unit or a backup storage unit group. If a backup storage unit group is selected, the system selects a backup storage unit from the backup storage unit group as the replication target location when a backup copy is replicated for the first time. In subsequent replication, the backup storage unit used for the first replication is preferentially selected.
            <div class="note" id="EN-US_TOPIC_0000001792502710__en-us_topic_0000001839143213_note119618230211">
             <span class="notetitle"> NOTE: </span>
             <div class="notebody">
              <ul id="EN-US_TOPIC_0000001792502710__en-us_topic_0000001839143213_ul19974205194214">
               <li id="EN-US_TOPIC_0000001792502710__en-us_topic_0000001839143213_li117129544426">For version 1.5.0, this parameter is available only when <strong id="EN-US_TOPIC_0000001792502710__en-us_topic_0000001839143213_b34101252204619">Replication Mode</strong> is set to <span class="uicontrol" id="EN-US_TOPIC_0000001792502710__en-us_topic_0000001839143213_uicontrol341015214615"><b>Intra-domain</b></span>.</li>
               <li id="EN-US_TOPIC_0000001792502710__en-us_topic_0000001839143213_li199748517429">A backup storage unit that has been specified as the target location for a backup policy cannot be used as the target location for a replication policy.</li>
              </ul>
             </div>
            </div>
           </div></td>
         </tr>
         <tr>
          <td class="cellrowborder" valign="top" width="20.29%" headers="mcps1.3.3.2.4.2.3.2.3.1.1 "><p><span><strong>Frequency</strong></span></p></td>
          <td class="cellrowborder" valign="top" width="79.71000000000001%" headers="mcps1.3.3.2.4.2.3.2.3.1.2 ">
           <div class="p">
            Interval at which replication is performed.
            <ul>
             <li>Perform replication immediately after a backup is complete.</li>
             <li>The replication is performed every <em>xx</em> minutes, hours, days, or weeks.</li>
            </ul>
           </div></td>
         </tr>
         <tr>
          <td class="cellrowborder" valign="top" width="20.29%" headers="mcps1.3.3.2.4.2.3.2.3.1.1 "><p><strong id="EN-US_TOPIC_0000001792502710__en-us_topic_0000001839143213_b16317238173010">Replication and Retention Rules</strong></p></td>
          <td class="cellrowborder" valign="top" width="79.71000000000001%" headers="mcps1.3.3.2.4.2.3.2.3.1.2 "><p>Select the copy to be replicated and set the retention period of the copy.</p>
           <div class="p">
            Once the retention period expires, the system automatically deletes the expired copies. The retention period must be longer than the replication interval.
            <ul id="EN-US_TOPIC_0000001792502710__en-us_topic_0000001839143213_en-us_topic_0000001091370109_ul6461175912421">
             <li id="EN-US_TOPIC_0000001792502710__en-us_topic_0000001839143213_li14284119318"><span id="EN-US_TOPIC_0000001792502710__en-us_topic_0000001839143213_text542916113319"><strong>Replicate all copies</strong></span>: Specify the time when the copy starts to be replicated and set the copy retention period.</li>
             <li id="EN-US_TOPIC_0000001792502710__en-us_topic_0000001839143213_li169914211296"><span id="EN-US_TOPIC_0000001792502710__en-us_topic_0000001839143213_text78253174580"><strong>Replicate copies on the specified date</strong></span>: Specify the date and set the copy retention period. Only full copies and forever incremental (synthetic full) copies on a specified date can be replicated. You can select multiple options at the same time:
              <ul id="EN-US_TOPIC_0000001792502710__en-us_topic_0000001839143213_ul15411165794010">
               <li id="EN-US_TOPIC_0000001792502710__en-us_topic_0000001839143213_li241110576407">Select the full backup copies generated in month <em id="EN-US_TOPIC_0000001792502710__en-us_topic_0000001839143213_i1947993219381">x</em> of each year for replication. The replicated copies are retained for <em id="EN-US_TOPIC_0000001792502710__en-us_topic_0000001839143213_i16481232173818">x</em> years (the retention period can be 1 to 70 years).</li>
               <li id="EN-US_TOPIC_0000001792502710__en-us_topic_0000001839143213_li156079239417">Select the first or last full backup copy of each month for replication. The replicated copies are retained for <em id="EN-US_TOPIC_0000001792502710__en-us_topic_0000001839143213_i840511252329">x</em> months (the retention period can be 1 to 840 months).</li>
               <li id="EN-US_TOPIC_0000001792502710__en-us_topic_0000001839143213_li7824743184118">Select the full copies generated on a specified day of each week for replication. The replication copies are retained for <em id="EN-US_TOPIC_0000001792502710__en-us_topic_0000001839143213_i19641849298">x</em> weeks (the retention period can be 1 to 3650 weeks).</li>
              </ul>
              <div class="note" id="EN-US_TOPIC_0000001792502710__en-us_topic_0000001839143213_note13295163217817">
               <span class="notetitle"> NOTE: </span>
               <div class="notebody">
                <ul id="EN-US_TOPIC_0000001792502710__en-us_topic_0000001839143213_ul16634174815310">
                 <li id="EN-US_TOPIC_0000001792502710__en-us_topic_0000001839143213_li9869521530">For applications that do not support forever incremental (synthetic full) backup, only full copies on a specified date can be replicated.</li>
                 <li id="EN-US_TOPIC_0000001792502710__en-us_topic_0000001839143213_li1563410481331">If multiple options are selected, copies on any date specified by these options are replicated, and the obtained replication copies are retained for the longest period specified in these options.</li>
                </ul>
               </div>
              </div></li>
            </ul>
           </div></td>
         </tr>
         <tr>
          <td class="cellrowborder" valign="top" width="20.29%" headers="mcps1.3.3.2.4.2.3.2.3.1.1 "><p><span><strong>Initial Execution Time</strong></span></p></td>
          <td class="cellrowborder" valign="top" width="79.71000000000001%" headers="mcps1.3.3.2.4.2.3.2.3.1.2 "><p>Start time of the first replication job.</p>
           <div class="p">
            If <span id="EN-US_TOPIC_0000001792502710__en-us_topic_0000001839143213_text10459152095213"><strong>First Run At</strong></span> is later than the current time, data replication starts based on <span id="EN-US_TOPIC_0000001792502710__en-us_topic_0000001839143213_text945932065215"><strong>First Run At</strong></span>. If <span id="EN-US_TOPIC_0000001792502710__en-us_topic_0000001839143213_text3459142095218"><strong>First Run At</strong></span> is earlier than the current time, data is replicated when the next replication period arrives.
            <div class="note" id="EN-US_TOPIC_0000001792502710__en-us_topic_0000001839143213_note3459142085219">
             <span class="notetitle"> NOTE: </span>
             <div class="notebody">
              <ul id="EN-US_TOPIC_0000001792502710__en-us_topic_0000001839143213_en-us_topic_0000001607531760_ul28273511414">
               <li id="EN-US_TOPIC_0000001792502710__en-us_topic_0000001839143213_en-us_topic_0000001607531760_li58279510418">Ensure that the device time of the agent host, local cluster, and target cluster is consistent.</li>
               <li id="EN-US_TOPIC_0000001792502710__en-us_topic_0000001839143213_en-us_topic_0000001607531760_li1362912714119">If Air Gap is planned, ensure that the first execution time is within the Air Gap replication time window of the target cluster and that the start time of each replication job is within the Air Gap replication time window. If a replication job does not end within the Air Gap replication time window and <span class="uicontrol" id="EN-US_TOPIC_0000001792502710__en-us_topic_0000001839143213_en-us_topic_0000001607531760_uicontrol1574053616579"><b>Forcibly Suspend Replication</b></span> is enabled for the Air Gap policy, the replication job will be forcibly terminated. To complete the replication job, disable <span class="uicontrol" id="EN-US_TOPIC_0000001792502710__en-us_topic_0000001839143213_en-us_topic_0000001607531760_uicontrol177346125213"><b>Forcibly Suspend Replication</b></span> for the Air Gap policy of the target cluster.</li>
              </ul>
             </div>
            </div>
           </div></td>
         </tr>
         <tr>
          <td class="cellrowborder" valign="top" width="20.29%" headers="mcps1.3.3.2.4.2.3.2.3.1.1 "><p><span><strong>Rate Limit Policy</strong></span></p></td>
          <td class="cellrowborder" valign="top" width="79.71000000000001%" headers="mcps1.3.3.2.4.2.3.2.3.1.2 "><p>Maximum amount of data that can be transmitted by a replication job per second.</p> <p>Choose a created rate limiting policy.</p></td>
         </tr>
         <tr>
          <td class="cellrowborder" valign="top" width="20.29%" headers="mcps1.3.3.2.4.2.3.2.3.1.1 "><p><span><strong>Data Deduplication</strong></span></p></td>
          <td class="cellrowborder" valign="top" width="79.71000000000001%" headers="mcps1.3.3.2.4.2.3.2.3.1.2 "><p>After this function is enabled, the system deduplicates data copies during remote replication to improve replication efficiency. You are advised to enable data deduplication.</p>
           <div class="note">
            <span class="notetitle"> NOTE: </span>
            <div class="notebody">
             <p id="EN-US_TOPIC_0000001792502710__en-us_topic_0000001839143213_p1767518419388">Ensure that target deduplication of the backup policy is enabled. Otherwise, data deduplication does not take effect.</p>
            </div>
           </div></td>
         </tr>
         <tr>
          <td class="cellrowborder" valign="top" width="20.29%" headers="mcps1.3.3.2.4.2.3.2.3.1.1 "><p><span><strong>Data Compression</strong></span></p></td>
          <td class="cellrowborder" valign="top" width="79.71000000000001%" headers="mcps1.3.3.2.4.2.3.2.3.1.2 "><p>After this function is enabled, the system compresses data copies during remote replication to improve replication efficiency. You are advised to enable compression.</p></td>
         </tr>
         <tr>
          <td class="cellrowborder" valign="top" width="20.29%" headers="mcps1.3.3.2.4.2.3.2.3.1.1 "><p><span><strong>Job Failure Alarm</strong></span></p></td>
          <td class="cellrowborder" valign="top" width="79.71000000000001%" headers="mcps1.3.3.2.4.2.3.2.3.1.2 "><p>After this function is enabled, an alarm is automatically sent if a job fails and is automatically cleared after successful execution.</p></td>
         </tr>
        </tbody>
       </table>
      </div> <p></p></li>
     <li><span>Click <span class="uicontrol"><b><span><strong>OK</strong></span></b></span>.</span></li>
     <li><span>Associate a resource with a replication SLA policy to periodically replicate copies.</span><p></p>
      <ul>
       <li>If an SLA has been associated with resources, the system protects the resources based on the SLA.</li>
       <li>If no SLA is associated with resources, associate an SLA with resources for protection. For details, see <a href="en-us_topic_0000001839222005.html">Periodic Backup</a>.</li>
      </ul> <p></p></li>
    </ol>
   </div>
  </div>
  <div>
   <div class="familylinks">
    <div class="parentlink">
     <strong>Parent topic:</strong> <a href="en-us_topic_0000001839142021.html">Replicating a GaussDB (DWS) Backup Copies</a>
    </div>
   </div>
  </div>
 </body>
</html>