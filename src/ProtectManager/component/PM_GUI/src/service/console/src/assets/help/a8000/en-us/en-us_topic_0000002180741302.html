<!--
  This file is a part of the open-eBackup project.
  This Source Code Form is subject to the terms of the Mozilla Public License, v. 2.0.
  If a copy of the MPL was not distributed with this file, You can obtain one at
  http://mozilla.org/MPL/2.0/.
  
  Copyright (c) [2024] Huawei Technologies Co.,Ltd.
  
  THIS SOFTWARE IS PROVIDED ON AN "AS IS" BASIS, WITHOUT WARRANTIES OF ANY KIND,
  EITHER EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO NON-INFRINGEMENT,
  MERCHANTABILITY OR FIT FOR A PARTICULAR PURPOSE.
  -->


<!DOCTYPE html
  PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en-us" xml:lang="en-us">
<head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
   
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="DC.Type" content="topic">
<meta name="DC.Title" content="No Backup Sub-job Progress Is Reported and the Amount of Backed-Up Data Remains Unchanged for a Long Time During the SAP HANA Database Backup">
<meta name="product" content="">
<meta name="DC.Relation" scheme="URI" content="en-us_topic_0000002164828418.html">
<meta name="prodname" content="">
<meta name="version" content="">
<meta name="brand" content="">
<meta name="DC.Publisher" content="20250306">
<meta name="prodname" content="csbs">
<meta name="documenttype" content="usermanual">
<meta name="DC.Format" content="XHTML">
<meta name="DC.Identifier" content="EN-US_TOPIC_0000002180741302">
<meta name="DC.Language" content="en-us">
<link rel="stylesheet" type="text/css" href="public_sys-resources/commonltr.css">
<title>No Backup Sub-job Progress Is Reported and the Amount of Backed-Up Data Remains Unchanged for a Long Time During the SAP HANA Database Backup</title>
</head>
<body style="clear:both; padding-left:10px; padding-top:5px; padding-right:5px; padding-bottom:5px"><a name="EN-US_TOPIC_0000002180741302"></a><a name="EN-US_TOPIC_0000002180741302"></a>

<h1 class="topictitle1">No Backup Sub-job Progress Is Reported and the Amount of Backed-Up Data Remains Unchanged for a Long Time During the SAP HANA Database Backup</h1>
<div><div class="section"><h4 class="sectiontitle">Symptom</h4><p>During the backup of an SAP HANA database, no further backup sub-job progress is reported and the amount of backed-up data remains unchanged for a long time. The job is suspended with the following message displayed: Data protection agent host (<em>xxx.xxx.xxx.xx</em>) is executing a backup subjob (<em>xxx-xxx-xxx-xx</em>). Volume of data already backed up: (<em>xx</em>); or Client (<em>xxx.xxx.xxx.xxc</em>) is executing a backup subjob (<em>xxx-xxx-xxx-xx</em>). Volume of data already backed up: (<em>xx</em>).</p>
</div>
<div class="section"><h4 class="sectiontitle">Possible Cause</h4><p>The hardware resources (such as memory, CPU, and storage resources) of the host where the client is installed are insufficient.</p>
</div>
<div class="section"><h4 class="sectiontitle">Procedure</h4><ul><li id="EN-US_TOPIC_0000002180741302__li1116140133615"><a name="EN-US_TOPIC_0000002180741302__li1116140133615"></a><a name="li1116140133615"></a>Solution 1:<p><a name="EN-US_TOPIC_0000002180741302__li1116140133615"></a><a name="li1116140133615"></a>Add hardware resources. You can use the Quick Sizer tool provided by the system after the SAP HANA database is installed to evaluate the hardware requirements for running a host. The Quick Sizer tool generates the recommended configurations for key resources such as memory, CPUs, and storage upon analysis of the entered service scenario data. You need to add required hardware resources based on the analysis results. You can visit <a href="https://www.sap.com/about/benchmark/sizing.quick-sizer.html#quick-sizer" target="_blank" rel="noopener noreferrer">Quick Sizer</a> to get related guidance.</p>
</li><li>Solution 2:<p>Modify the parameters in the <strong>global.ini</strong> file to improve the running efficiency of the system. <a href="#EN-US_TOPIC_0000002180741302__table1979115523914">Table 1</a> describes the parameters.</p>
<div class="note"><img src="public_sys-resources/note_3.0-en-us.png"><span class="notetitle"> </span><div class="notebody"><p>If hardware resources remain unchanged, modifying parameters in the <strong>global.ini</strong> file can only improve the system running efficiency but cannot ensure that new backup jobs can be successfully executed. You are advised to use <a href="#EN-US_TOPIC_0000002180741302__li1116140133615">Solution 1</a> to add required hardware resources and then back up data again.</p>
</div></div>

<div class="tablenoborder"><a name="EN-US_TOPIC_0000002180741302__table1979115523914"></a><a name="table1979115523914"></a><table cellpadding="4" cellspacing="0" summary="" id="EN-US_TOPIC_0000002180741302__table1979115523914" frame="border" border="1" rules="all"><caption><b>Table 1 </b>Parameters</caption><colgroup><col style="width:27.089999999999996%"><col style="width:43.41%"><col style="width:14.540000000000001%"><col style="width:14.96%"></colgroup><thead align="left"><tr><th align="left" class="cellrowborder" valign="top" width="27.089999999999996%" id="mcps1.3.3.2.2.3.2.5.1.1"><p>Parameter</p>
</th>
<th align="left" class="cellrowborder" valign="top" width="43.41%" id="mcps1.3.3.2.2.3.2.5.1.2"><p>Description</p>
</th>
<th align="left" class="cellrowborder" valign="top" width="14.540000000000001%" id="mcps1.3.3.2.2.3.2.5.1.3"><p>Default Value</p>
</th>
<th align="left" class="cellrowborder" valign="top" width="14.96%" id="mcps1.3.3.2.2.3.2.5.1.4"><p>Value Range</p>
</th>
</tr>
</thead>
<tbody><tr><td class="cellrowborder" valign="top" width="27.089999999999996%" headers="mcps1.3.3.2.2.3.2.5.1.1 "><p>parallel_data_backup_backint_channels</p>
</td>
<td class="cellrowborder" valign="top" width="43.41%" headers="mcps1.3.3.2.2.3.2.5.1.2 "><p>Number of concurrent backup channels used for backup/restoration. During backup/restoration, data is written over these channels in parallel. A larger value indicates higher requirements for hardware resources.</p>
</td>
<td class="cellrowborder" valign="top" width="14.540000000000001%" headers="mcps1.3.3.2.2.3.2.5.1.3 "><p>1</p>
</td>
<td class="cellrowborder" valign="top" width="14.96%" headers="mcps1.3.3.2.2.3.2.5.1.4 "><p>1–32</p>
</td>
</tr>
<tr><td class="cellrowborder" valign="top" width="27.089999999999996%" headers="mcps1.3.3.2.2.3.2.5.1.1 "><p>data_backup_buffer_size</p>
</td>
<td class="cellrowborder" valign="top" width="43.41%" headers="mcps1.3.3.2.2.3.2.5.1.2 "><p>Size of the backup buffer (in MB). A larger value indicates that more memory will be occupied, whereas a smaller value indicates that more CPU resources will be occupied.</p>
</td>
<td class="cellrowborder" valign="top" width="14.540000000000001%" headers="mcps1.3.3.2.2.3.2.5.1.3 "><p>512 MB</p>
</td>
<td class="cellrowborder" valign="top" width="14.96%" headers="mcps1.3.3.2.2.3.2.5.1.4 "><p>128–4096</p>
</td>
</tr>
<tr><td class="cellrowborder" valign="top" width="27.089999999999996%" headers="mcps1.3.3.2.2.3.2.5.1.1 "><p>backint_pipe_capacity</p>
</td>
<td class="cellrowborder" valign="top" width="43.41%" headers="mcps1.3.3.2.2.3.2.5.1.2 "><p>Backup pipe capacity (in bytes). If the value is <strong>0</strong>, the default capacity of the operating system is used. A larger value indicates that more memory will be occupied, whereas a smaller value indicates that more CPU resources will be occupied.</p>
</td>
<td class="cellrowborder" valign="top" width="14.540000000000001%" headers="mcps1.3.3.2.2.3.2.5.1.3 "><p>0</p>
</td>
<td class="cellrowborder" valign="top" width="14.96%" headers="mcps1.3.3.2.2.3.2.5.1.4 "><p>-</p>
</td>
</tr>
</tbody>
</table>
</div>
<ol><li>Use PuTTY to log in to the host where the client used for running the current backup job is installed.</li><li>Run the following command to switch to the SAP system user:<pre class="screen">su - <em>&lt;sid&gt;</em>adm</pre>
<p>In the preceding command, <em>sid</em> indicates the SAP system ID. Example:</p>
<pre class="screen">su - s00adm</pre>
</li><li>Run the following command to log in to the system database:<pre class="screen">hdbsql -i <em>Instance ID</em> -n <em>Host name of the active node of the system database</em><strong>:</strong><em>SQL port of the system database</em><strong> -d SYSTEMDB -u </strong><em>Username of the system database</em><strong> -p </strong><em>Password of the system database</em></pre>
<p>Example:</p>
<pre class="screen">hdbsql -i 00 -n localhost:30013 -d SYSTEMDB -u SYSTEM -p xxxxxxx</pre>
</li><li>Change the values of one or more parameters as required.<ul><li>Set <strong>parallel_data_backup_backint_channels</strong>.<pre class="screen">alter system alter configuration ('global.ini', 'SYSTEM') set ('backup', 'parallel_data_backup_backint_channels') = '<em>Value of parallel_data_backup_backint_channels</em>' with reconfigure;</pre>
</li><li>Set <strong>data_backup_buffer_size</strong>.<pre class="screen">alter system alter configuration ('global.ini', 'SYSTEM') set ('backup', 'data_backup_buffer_size') = '<em>Value of data_backup_buffer_size</em>' with reconfigure;</pre>
</li><li>Set <strong>backint_pipe_capacity</strong>.<pre class="screen">alter system alter configuration ('global.ini', 'SYSTEM') set ('backup', 'backint_pipe_capacity') = '<em>Value of backint_pipe_capacity</em>' with reconfigure;</pre>
</li></ul>
</li></ol>
</li></ul>
</div>
</div>
<div>
<div class="familylinks">
<div class="parentlink"><strong>Parent topic:</strong> <a href="en-us_topic_0000002164828418.html">FAQs</a></div>
</div>
</div>

<div class="hrcopyright"><hr size="2"></div><div class="hwcopyright">Copyright &copy; Huawei Technologies Co., Ltd.</div></body>
</html>