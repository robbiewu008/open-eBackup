<!--
  This file is a part of the open-eBackup project.
  This Source Code Form is subject to the terms of the Mozilla Public License, v. 2.0.
  If a copy of the MPL was not distributed with this file, You can obtain one at
  http://mozilla.org/MPL/2.0/.
  
  Copyright (c) [2024] Huawei Technologies Co.,Ltd.
  
  THIS SOFTWARE IS PROVIDED ON AN "AS IS" BASIS, WITHOUT WARRANTIES OF ANY KIND,
  EITHER EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO NON-INFRINGEMENT,
  MERCHANTABILITY OR FIT FOR A PARTICULAR PURPOSE.
  -->

<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en-us" xml:lang="en-us">
 <head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="DC.Type" content="topic">
  <meta name="DC.Title" content="Step 7: Performing Backup">
  <meta name="product" content="">
  <meta name="DC.Relation" scheme="URI" content="fc_gud_0013.html">
  <meta name="prodname" content="">
  <meta name="version" content="">
  <meta name="brand" content="30-OceanProtect Appliance 1.5.0-1.6.0 Help Center">
  <meta name="DC.Publisher" content="20241029">
  <meta name="prodname" content="csbs">
  <meta name="documenttype" content="usermanual">
  <meta name="DC.Format" content="XHTML">
  <meta name="DC.Identifier" content="fc_gud_0019">
  <meta name="DC.Language" content="en-us">
  <link rel="stylesheet" type="text/css" href="public_sys-resources/commonltr.css">
  <title>Step 7: Performing Backup</title>
 </head>
 <body style="clear:both; padding-left:10px; padding-top:5px; padding-right:5px; padding-bottom:5px">
  <a name="fc_gud_0019"></a><a name="fc_gud_0019"></a>
  <h1 class="topictitle1">Step 7: Performing Backup</h1>
  <div>
   <p id="fc_gud_0019__p10332144917542">Before performing backup, you need to associate the resources to be protected with a specified SLA. The system protects the resources and periodically executes backup jobs based on the SLA. You can perform a backup job immediately through manual backup.</p>
   <div class="section">
    <h4 class="sectiontitle">Precautions</h4>
    <ul>
     <li>During manual backup, the parameters (except <span class="uicontrol"><b><span><strong>Automatic Retry</strong></span></b></span>), such as <span class="uicontrol"><b><span><strong>Rate Limiting Policies</strong></span></b></span>, <span class="uicontrol"><b>Job Failure Alarm</b></span>, and <span class="uicontrol"><b><span><strong>Source Deduplication</strong></span></b></span>, that are defined in the SLA will be applied to the manual backup job.</li>
     <li>Copies generated by manual backup are retained for the duration defined in the SLA.<p>If the protection policy selected during manual backup is not defined in the SLA, the generated backup copy will be retained permanently. If <span><strong>Forever Incremental (Synthetic Full) Backup</strong></span> is not defined in the SLA but <span><strong>Forever Incremental (Synthetic Full) Backup</strong></span> is selected during manual backup, copies generated by the manual forever incremental (synthetic full) backup will be retained permanently.</p></li>
     <li>If a replication or archive policy has been defined in the SLA, the system will perform replication or archiving once based on the SLA when you perform manual backup.</li>
    </ul>
   </div>
   <div class="section">
    <h4 class="sectiontitle">Prerequisites</h4>
    <p>If you want to back up data when the VM is started, ensure that Tools has been installed on the VM. Otherwise, backup cannot be performed. For details about how to install the tool, see the <em><span>FusionOne Compute Online Help</span></em>.</p>
   </div>
   <div class="section">
    <h4 class="sectiontitle">Procedure</h4>
    <ol>
     <li><span>Choose <span class="uicontrol" id="fc_gud_0019__en-us_topic_0000001839142377_uicontrol533943284613"><b><span id="fc_gud_0019__en-us_topic_0000001839142377_text1833943234612"><strong>Protection</strong></span> &gt; Virtualization &gt; FusionOne Compute</b></span>.</span></li>
     <li><span>On the navigation pane on the left, select the registered FusionOne Compute environment.</span></li>
     <li><span>On the <strong>Clusters</strong>, <strong>Hosts</strong>, <strong>VMs</strong>, or <strong>VM Groups</strong> tab page, select the clusters, hosts, VMs, or VM groups to be protected and click <strong>Protect</strong>.</span><p></p>
      <ul>
       <li>When you select a cluster on the <strong>Clusters</strong> tab page, the system will protect all VMs in the cluster.</li>
       <li>When you select a host on the <strong>Hosts</strong> tab page, the system will protect all VMs on the host.</li>
       <li>When you select a VM on the <strong>VMs</strong> tab page, the system will protect the VM.</li>
       <li>When you select a VM group on the <strong>VM Groups</strong> tab page, the system will protect all VMs in the VM group.
        <div class="note">
         <img src="public_sys-resources/note_3.0-en-us.png"><span class="notetitle"> </span>
         <div class="notebody">
          <p>A maximum of 100 FusionOne Compute VMs can be protected in a batch.</p>
         </div>
        </div></li>
      </ul> <p></p></li>
     <li><span>When you select a VM for protection on the <strong>VMs</strong> tab page, determine whether to enable automatic disk protection. In other scenarios, skip this step.</span><p></p>
      <div class="p">
       Automatic disk protection is enabled by default. After this function is enabled, all disks of the VM, including newly detected disks, will be protected. After automatic disk protection is disabled, you need to manually select disks to be protected.
       <div class="note">
        <img src="public_sys-resources/note_3.0-en-us.png"><span class="notetitle"> </span>
        <div class="notebody">
         <p id="fc_gud_0019__fc_gud_0019_0_p68671543173914">If system disks are excluded, generated copies do not support file-level restoration.</p>
        </div>
       </div>
      </div> <p></p></li>
     <li><span>Select an SLA.</span><p></p>
      <div class="p" id="fc_gud_0019__en-us_topic_0000001964713008_p16181740836">
       You can also click <span class="uicontrol" id="fc_gud_0019__en-us_topic_0000001964713008_uicontrol169554520714"><b><span id="fc_gud_0019__en-us_topic_0000001964713008_text179554516717"><strong>Create</strong></span></b></span> to create an SLA.
       <div class="note" id="fc_gud_0019__en-us_topic_0000001964713008_note25947145710">
        <img src="public_sys-resources/note_3.0-en-us.png"><span class="notetitle"> </span>
        <div class="notebody">
         <p id="fc_gud_0019__en-us_topic_0000001964713008_p125947145711"><span id="fc_gud_0019__en-us_topic_0000001964713008_ph1413818422327">If a WORM policy has been configured for the resources to be protected, select an SLA without a WORM policy to avoid WORM policy conflicts.</span></p>
        </div>
       </div>
      </div> <p></p></li>
     <li><span>Set the following parameters in <span class="uicontrol"><b><span><strong>Advanced</strong></span></b></span>.</span><p></p>
      <div class="tablenoborder">
       <table cellpadding="4" cellspacing="0" summary="" frame="border" border="1" rules="all">
        <caption>
         <b>Table 1 </b>Advanced parameters
        </caption>
        <colgroup>
         <col style="width:20.48%">
         <col style="width:79.52%">
        </colgroup>
        <thead align="left">
         <tr>
          <th align="left" class="cellrowborder" valign="top" width="20.48%" id="mcps1.3.4.2.6.2.1.2.3.1.1"><p>Parameter</p></th>
          <th align="left" class="cellrowborder" valign="top" width="79.52%" id="mcps1.3.4.2.6.2.1.2.3.1.2"><p>Description</p></th>
         </tr>
        </thead>
        <tbody>
         <tr>
          <td class="cellrowborder" valign="top" width="20.48%" headers="mcps1.3.4.2.6.2.1.2.3.1.1 "><p><strong>Consistency Snapshot</strong></p></td>
          <td class="cellrowborder" valign="top" width="79.52%" headers="mcps1.3.4.2.6.2.1.2.3.1.2 "><p>If this function is enabled, the cached data that is not saved on a VM will be saved before a snapshot is created. If the VM does not support consistency snapshots, the job is automatically executed using common snapshots.</p> <p>You can check whether a VM supports consistency snapshots or not on the FusionOne Compute platform.</p></td>
         </tr>
         <tr>
          <td class="cellrowborder" valign="top" width="20.48%" headers="mcps1.3.4.2.6.2.1.2.3.1.1 "><p><span><strong>Snapshot Deletion Rate (MB/s)</strong></span></p></td>
          <td class="cellrowborder" valign="top" width="79.52%" headers="mcps1.3.4.2.6.2.1.2.3.1.2 "><p>After backup is complete, the system will delete the snapshots generated during the backup. Snapshot deletion occupies storage resources. You can configure this parameter to specify the snapshot deletion speed. The default value is 30 MB/s.</p> <p>Snapshot deletion occupies storage resources. A high snapshot deletion rate greatly impacts the performance of VMs running on storage resources. This parameter is invalid when the data storage is FusionOne Storage.</p></td>
         </tr>
         <tr>
          <td class="cellrowborder" valign="top" width="20.48%" headers="mcps1.3.4.2.6.2.1.2.3.1.1 "><p><span><strong>Agent Host</strong></span></p></td>
          <td class="cellrowborder" valign="top" width="79.52%" headers="mcps1.3.4.2.6.2.1.2.3.1.2 "><p>Select the agent host for executing the backup job. If you leave this parameter unspecified, the system randomly selects an agent host during job execution.</p></td>
         </tr>
         <tr>
          <td class="cellrowborder" valign="top" width="20.48%" headers="mcps1.3.4.2.6.2.1.2.3.1.1 "><p><strong>Auto Indexing of Backup Copies</strong></p></td>
          <td class="cellrowborder" valign="top" width="79.52%" headers="mcps1.3.4.2.6.2.1.2.3.1.2 "><p>If a VM or VM group is selected for protection and the disks to be backed up contain system disks, the system automatically creates an index for the backup copy after this function is enabled. When using the copy for restoration, you can select one or more files in the copy for restoration and search for files, directories, or links in the copy.</p></td>
         </tr>
         <tr>
          <td class="cellrowborder" valign="top" width="20.48%" headers="mcps1.3.4.2.6.2.1.2.3.1.1 "><p><span><strong>SLA Overwrite Policy</strong></span></p></td>
          <td class="cellrowborder" valign="top" width="79.52%" headers="mcps1.3.4.2.6.2.1.2.3.1.2 ">
           <div class="p">
            When you select a cluster or host for protection, you can choose whether to overwrite the existing VM SLAs.
            <div class="note" id="fc_gud_0019__vmware_gud_0029_note1032172155715">
             <span class="notetitle"> NOTE: </span>
             <div class="notebody">
              <p id="fc_gud_0019__vmware_gud_0029_p332227572">If you select <span class="uicontrol" id="fc_gud_0019__vmware_gud_0029_uicontrol011093871013"><b><span id="fc_gud_0019__vmware_gud_0029_text11103387103"><strong>Do not overwrite existing VM SLAs</strong></span></b></span> when modifying the SLA associated with the cluster or host, the VM SLAs are still overwritten when they are the same as the SLA of the cluster or host before the modification.</p>
             </div>
            </div>
           </div></td>
         </tr>
         <tr>
          <td class="cellrowborder" valign="top" width="20.48%" headers="mcps1.3.4.2.6.2.1.2.3.1.1 "><p><span><strong>SLA Application Policy</strong></span></p></td>
          <td class="cellrowborder" valign="top" width="79.52%" headers="mcps1.3.4.2.6.2.1.2.3.1.2 ">
           <div class="p">
            When you select a cluster or host for protection, you can choose the application scope of the SLA policy as follows:
            <ul id="fc_gud_0019__vmware_gud_0029_ul192722515111">
             <li id="fc_gud_0019__vmware_gud_0029_li1592717251115">Applying the cluster or host SLA policy to all VMs that are not associated with any SLA</li>
             <li id="fc_gud_0019__vmware_gud_0029_li10927625419">Applying the cluster or host SLA policy to newly created VMs<p id="fc_gud_0019__vmware_gud_0029_p39279251213"><a name="fc_gud_0019__vmware_gud_0029_li10927625419"></a><a name="vmware_gud_0029_li10927625419"></a>After the virtualization environment is scanned, the newly discovered VMs are associated with the same SLA as the cluster or host.</p></li>
            </ul>
           </div></td>
         </tr>
         <tr>
          <td class="cellrowborder" valign="top" width="20.48%" headers="mcps1.3.4.2.6.2.1.2.3.1.1 "><p><span><strong>VM Filter</strong></span></p></td>
          <td class="cellrowborder" valign="top" width="79.52%" headers="mcps1.3.4.2.6.2.1.2.3.1.2 ">
           <div class="p">
            If you want to specify the VMs to be excluded or included in the protection plan when selecting a cluster or host for protection, enable this function and perform the following operations:
            <ol type="a" id="fc_gud_0019__vmware_gud_0029_ol92741652870">
             <li id="fc_gud_0019__vmware_gud_0029_li2066616282811">Select a filtering mode.</li>
             <li id="fc_gud_0019__vmware_gud_0029_li42741252878">Enter a VM name or keyword in the text box to filter VMs based on the selected filtering mode.
              <ul id="fc_gud_0019__vmware_gud_0029_ul12669913111111">
               <li id="fc_gud_0019__vmware_gud_0029_li180521811113">Use commas (,) to separate multiple names or keywords.</li>
               <li id="fc_gud_0019__vmware_gud_0029_li10669613121112">Exact match and fuzzy match of VM names are supported. Fuzzy match rules include prefix match (for example, abc*), suffix match (for example, *abc), and middle match (for example, *abc*).</li>
              </ul></li>
            </ol>
           </div></td>
         </tr>
         <tr>
          <td class="cellrowborder" valign="top" width="20.48%" headers="mcps1.3.4.2.6.2.1.2.3.1.1 "><p><strong>Secure archive</strong></p></td>
          <td class="cellrowborder" valign="top" width="79.52%" headers="mcps1.3.4.2.6.2.1.2.3.1.2 ">
           <div class="p">
            This parameter is displayed when the selected SLA contains archive policies. If this option is selected, only backup copies that are detected to be uninfected during ransomware detection are archived.
            <div class="note" id="fc_gud_0019__fc_gud_0019_0_note1550211211513">
             <span class="notetitle"> NOTE: </span>
             <div class="notebody">
              <p id="fc_gud_0019__fc_gud_0019_0_p10502162125111">You need to click <strong id="fc_gud_0019__fc_gud_0019_0_b810018188319">Configure</strong> to set the ransomware protection policy for the resource to be protected if the following conditions are met: <strong id="fc_gud_0019__fc_gud_0019_0_b17329127414">Archive Time</strong> is not set to <strong id="fc_gud_0019__fc_gud_0019_0_b938619243">Immediately after successful backup</strong> or <strong id="fc_gud_0019__fc_gud_0019_0_b84761821247">Archive Policy</strong> is not set to <strong id="fc_gud_0019__fc_gud_0019_0_b0492172712416">Only the latest copy</strong> in the SLA archive policy, and the ransomware protection policy is not set. For details, see "Creating a Ransomware Protection and WORM Policy" in the <i><cite id="fc_gud_0019__fc_gud_0019_0_cite191322555252">Data Backup Feature Guide (Ransomware Protection for Copies)</cite></i>.</p>
             </div>
            </div>
           </div></td>
         </tr>
        </tbody>
       </table>
      </div> <p></p></li>
     <li><span>Click <span class="uicontrol" id="fc_gud_0019__en-us_topic_0000001964713008_uicontrol23691650677"><b>OK</b></span>.</span><p></p><p id="fc_gud_0019__en-us_topic_0000001964713008_en-us_topic_0000001656691397_p25041111535">If the current system time is later than the start time of the first backup specified in the SLA, you can select <strong id="fc_gud_0019__en-us_topic_0000001964713008_b9624185216713">Execute manual backup now</strong> in the dialog box that is displayed or choose to perform automatic backup periodically based on the backup policy set in the SLA.</p> <p></p></li>
     <li><strong>Optional: </strong><span>Perform manual backup.</span><p></p>
      <div class="p" id="fc_gud_0019__en-us_topic_0000001964713008_p11899115114511">
       If you want to execute a backup job immediately, perform manual backup through the following operations. Otherwise, skip this step.
       <ol type="a" id="fc_gud_0019__en-us_topic_0000001964713008_ol1888313571212">
        <li id="fc_gud_0019__en-us_topic_0000001964713008_li6449836144510">In the row of the target resource, choose <strong id="fc_gud_0019__en-us_topic_0000001964713008_b146814226353">More</strong> &gt; <span id="fc_gud_0019__en-us_topic_0000001964713008_text18439122416533"><strong>Manual Backup</strong></span>.
         <div class="note" id="fc_gud_0019__en-us_topic_0000001964713008_note1527151103">
          <img src="public_sys-resources/note_3.0-en-us.png"><span class="notetitle"> </span>
          <div class="notebody">
           <p id="fc_gud_0019__en-us_topic_0000001964713008_en-us_topic_0000001607531736_p870125314544">You can select multiple resources to perform manual backup in batches. Select multiple protected resources and choose <strong id="fc_gud_0019__en-us_topic_0000001964713008_b1657653183519">More</strong> &gt; <span id="fc_gud_0019__en-us_topic_0000001964713008_text122852865419"><strong>Manual Backup</strong></span> in the upper left corner of the resource list.</p>
          </div>
         </div></li>
        <li id="fc_gud_0019__en-us_topic_0000001964713008_li5644125184512">Set the name of the copy generated during manual backup.<p id="fc_gud_0019__en-us_topic_0000001964713008_p444210492470"><a name="fc_gud_0019__en-us_topic_0000001964713008_li5644125184512"></a><a name="en-us_topic_0000001964713008_li5644125184512"></a>If this parameter is left unspecified, the system sets the copy name to <strong id="fc_gud_0019__en-us_topic_0000001964713008_b17709174711816">backup_</strong><em id="fc_gud_0019__en-us_topic_0000001964713008_i1371044717814">Timestamp</em> by default.</p></li>
        <li id="fc_gud_0019__en-us_topic_0000001964713008_li9911344144518">Select a protection policy, which can be <span id="fc_gud_0019__en-us_topic_0000001964713008_text1037414518818"><strong>Full backup</strong></span> or <span id="fc_gud_0019__en-us_topic_0000001964713008_text937414517813"><strong>Forever Incremental (Synthetic Full) Backup</strong></span>.
         <div class="note" id="fc_gud_0019__en-us_topic_0000001964713008_note1552298154910">
          <img src="public_sys-resources/note_3.0-en-us.png"><span class="notetitle"> </span>
          <div class="notebody">
           <p id="fc_gud_0019__en-us_topic_0000001964713008_p13522118194919"><span id="fc_gud_0019__en-us_topic_0000001964713008_ph19374310343">For 1.6.0 and later versions, if the selected protection policy is different from that configured in the associated SLA, the WORM configuration does not take effect.</span></p>
          </div>
         </div></li>
        <li id="fc_gud_0019__en-us_topic_0000001964713008_li2637101024612">Click <span class="uicontrol" id="fc_gud_0019__en-us_topic_0000001964713008_uicontrol1662615410817"><b><span id="fc_gud_0019__en-us_topic_0000001964713008_text13625854687"><strong>OK</strong></span></b></span>.</li>
       </ol>
      </div> <p></p></li>
    </ol>
   </div>
  </div>
  <div>
   <div class="familylinks">
    <div class="parentlink">
     <strong>Parent topic:</strong> <a href="fc_gud_0013.html">Backing Up a FusionOne Compute VM</a>
    </div>
   </div>
  </div>
 </body>
</html>