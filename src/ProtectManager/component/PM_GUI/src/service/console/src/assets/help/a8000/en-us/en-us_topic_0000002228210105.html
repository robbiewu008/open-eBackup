<!--
  This file is a part of the open-eBackup project.
  This Source Code Form is subject to the terms of the Mozilla Public License, v. 2.0.
  If a copy of the MPL was not distributed with this file, You can obtain one at
  http://mozilla.org/MPL/2.0/.
  
  Copyright (c) [2024] Huawei Technologies Co.,Ltd.
  
  THIS SOFTWARE IS PROVIDED ON AN "AS IS" BASIS, WITHOUT WARRANTIES OF ANY KIND,
  EITHER EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO NON-INFRINGEMENT,
  MERCHANTABILITY OR FIT FOR A PARTICULAR PURPOSE.
  -->


<!DOCTYPE html
  PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en-us" xml:lang="en-us">
<head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
   
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="DC.Type" content="topic">
<meta name="DC.Title" content="Backing Up a File Directory">
<meta name="product" content="">
<meta name="DC.Relation" scheme="URI" content="en-us_topic_0000002164766774.html">
<meta name="prodname" content="">
<meta name="version" content="">
<meta name="brand" content="">
<meta name="DC.Publisher" content="20250306">
<meta name="prodname" content="csbs">
<meta name="documenttype" content="usermanual">
<meta name="DC.Format" content="XHTML">
<meta name="DC.Identifier" content="EN-US_TOPIC_0000002228210105">
<meta name="DC.Language" content="en-us">
<link rel="stylesheet" type="text/css" href="public_sys-resources/commonltr.css">
<title>Backing Up a File Directory</title>
</head>
<body style="clear:both; padding-left:10px; padding-top:5px; padding-right:5px; padding-bottom:5px"><a name="EN-US_TOPIC_0000002228210105"></a><a name="EN-US_TOPIC_0000002228210105"></a>

<h1 class="topictitle1">Backing Up a File Directory</h1>
<div><p>This section describes how to back up all files in a specified directory in an NDMP NAS file system.</p>
<p>Before performing backup, you need to associate the resources to be protected with a specified SLA. The system protects the resources and periodically executes backup jobs based on the SLA. You can perform a backup job immediately through manual backup.</p>
<div class="section"><h4 class="sectiontitle">Precautions</h4><ul id="EN-US_TOPIC_0000002228210105__en-us_topic_0000002192764630_ul18727123312225"><li id="EN-US_TOPIC_0000002228210105__en-us_topic_0000002192764630_li147271733132211">During manual backup, the parameters (except <span class="uicontrol" id="EN-US_TOPIC_0000002228210105__en-us_topic_0000002192764630_uicontrol1201136142020"><b>Automatic Retry</b></span>) defined in the SLA, such as <span class="uicontrol" id="EN-US_TOPIC_0000002228210105__en-us_topic_0000002192764630_uicontrol69418101243"><b>Rate Limiting Policy</b></span>, are applied to the manual backup job.</li><li id="EN-US_TOPIC_0000002228210105__en-us_topic_0000002192764630_li31561026997">Copies generated by manual backup are retained for the duration defined in the SLA.</li></ul>
</div>
<div class="section"><h4 class="sectiontitle">Procedure</h4><ol><li><span>Choose <span class="uicontrol" id="EN-US_TOPIC_0000002228210105__en-us_topic_0000002199964685_uicontrol72431342173117"><b><span id="EN-US_TOPIC_0000002228210105__en-us_topic_0000002199964685_text152438422312"><strong>Protection</strong></span> &gt; File Systems &gt; NDMP</b></span>.</span></li><li><span>Click <span class="uicontrol"><b>File Directories</b></span>. In the row of the target file directory, choose <span class="menucascade"><b><span class="uicontrol">More</span></b> &gt; <b><span class="uicontrol">Protect</span></b></span>.</span></li><li><span>Select an SLA.</span><p><div class="p" id="EN-US_TOPIC_0000002228210105__en-us_topic_0000002200146973_p16181740836">You can also click <span class="uicontrol" id="EN-US_TOPIC_0000002228210105__en-us_topic_0000002200146973_uicontrol169554520714"><b><span id="EN-US_TOPIC_0000002228210105__en-us_topic_0000002200146973_text179554516717"><strong>Create</strong></span></b></span> to create an SLA.<div class="note" id="EN-US_TOPIC_0000002228210105__en-us_topic_0000002200146973_note25947145710"><img src="public_sys-resources/note_3.0-en-us.png"><span class="notetitle"> </span><div class="notebody"><p id="EN-US_TOPIC_0000002228210105__en-us_topic_0000002200146973_p125947145711"><span id="EN-US_TOPIC_0000002228210105__en-us_topic_0000002200146973_ph1413818422327">If a WORM policy has been configured for the resources to be protected, select an SLA without a WORM policy to avoid WORM policy conflicts.</span></p>
</div></div>
</div>
</p></li><li><span>Select clients.</span><p><p id="EN-US_TOPIC_0000002228210105__en-us_topic_0000002192764630_p1650961617426">By default, the built-in client is selected. If an external client exists, you can also select the external client.</p>
</p></li><li><span>Enter the files or directories to be filtered.</span><p><div class="note" id="EN-US_TOPIC_0000002228210105__en-us_topic_0000002192764630_note11478251418"><img src="public_sys-resources/note_3.0-en-us.png"><span class="notetitle"> </span><div class="notebody"><p id="EN-US_TOPIC_0000002228210105__en-us_topic_0000002192764630_p45626425211">The entered names of files or directories to be filtered during backup must meet the following requirements:</p>
<ul id="EN-US_TOPIC_0000002228210105__en-us_topic_0000002192764630_ul59483216312"><li id="EN-US_TOPIC_0000002228210105__en-us_topic_0000002192764630_li199481221231">Complete paths are not allowed.</li><li id="EN-US_TOPIC_0000002228210105__en-us_topic_0000002192764630_li5948821033">The asterisk (*) is a wildcard, which must be the first or last character of a file name or directory name.</li><li id="EN-US_TOPIC_0000002228210105__en-us_topic_0000002192764630_li11948152337">Each character string can contain a maximum of two asterisks (*).</li><li id="EN-US_TOPIC_0000002228210105__en-us_topic_0000002192764630_li59487212318">If a file name or directory name contains commas, ensure that a backslash (\) precedes each comma.</li><li id="EN-US_TOPIC_0000002228210105__en-us_topic_0000002192764630_li17948125311">A maximum of 32 names are allowed.</li><li id="EN-US_TOPIC_0000002228210105__en-us_topic_0000002192764630_li15948921937">A single file name or directory name can contain a maximum of 255 characters.</li></ul>
</div></div>

<div class="tablenoborder"><table cellpadding="4" cellspacing="0" summary="" id="EN-US_TOPIC_0000002228210105__en-us_topic_0000002192764630_table1631974417576" frame="border" border="1" rules="all"><caption><b>Table 1 </b>Other parameters</caption><colgroup><col style="width:26.009999999999998%"><col style="width:73.99%"></colgroup><thead align="left"><tr id="EN-US_TOPIC_0000002228210105__en-us_topic_0000002192764630_row5320174475719"><th align="left" class="cellrowborder" valign="top" width="26.009999999999998%" id="mcps1.3.4.2.5.2.2.2.3.1.1"><p id="EN-US_TOPIC_0000002228210105__en-us_topic_0000002192764630_p135467279011">Parameter</p>
</th>
<th align="left" class="cellrowborder" valign="top" width="73.99%" id="mcps1.3.4.2.5.2.2.2.3.1.2"><p id="EN-US_TOPIC_0000002228210105__en-us_topic_0000002192764630_p354619272000">Description</p>
</th>
</tr>
</thead>
<tbody><tr id="EN-US_TOPIC_0000002228210105__en-us_topic_0000002192764630_row16351173411328"><td class="cellrowborder" valign="top" width="26.009999999999998%" headers="mcps1.3.4.2.5.2.2.2.3.1.1 "><p id="EN-US_TOPIC_0000002228210105__en-us_topic_0000002192764630_p19893153916321">Secure Archiving</p>
</td>
<td class="cellrowborder" valign="top" width="73.99%" headers="mcps1.3.4.2.5.2.2.2.3.1.2 "><div class="p" id="EN-US_TOPIC_0000002228210105__en-us_topic_0000002192764630_p10893163915329">This parameter is displayed when the selected SLA contains archive policies. If this option is selected, only backup copies that are detected to be uninfected during ransomware detection are archived.<div class="note" id="EN-US_TOPIC_0000002228210105__en-us_topic_0000002192764630_note6893163912325"><span class="notetitle"> NOTE: </span><div class="notebody"><p id="EN-US_TOPIC_0000002228210105__en-us_topic_0000002192764630_p836114623519">You need to click <strong id="EN-US_TOPIC_0000002228210105__en-us_topic_0000002192764630_b166715471686">Configure</strong> to set the ransomware protection policy for the resource to be protected if the following conditions are met: <strong id="EN-US_TOPIC_0000002228210105__en-us_topic_0000002192764630_b196721247784">Archive Time</strong> is not set to <strong id="EN-US_TOPIC_0000002228210105__en-us_topic_0000002192764630_b1367217471082">Immediately after successful backup</strong> or <strong id="EN-US_TOPIC_0000002228210105__en-us_topic_0000002192764630_b5672174719812">Archive Policy</strong> is not set to <strong id="EN-US_TOPIC_0000002228210105__en-us_topic_0000002192764630_b126724471184">Only the latest copy</strong> in the SLA archive policy, and the ransomware protection policy is not set. For details, see "Creating a Ransomware Protection and WORM Policy" in the <i><cite id="EN-US_TOPIC_0000002228210105__en-us_topic_0000002192764630_cite15733201398">OceanProtect DataBackup 1.5.0-1.6.0 Data Backup Feature Guide (Ransomware Protection for Copies)</cite></i>.</p>
</div></div>
</div>
</td>
</tr>
<tr id="EN-US_TOPIC_0000002228210105__en-us_topic_0000002192764630_row0320244125712"><td class="cellrowborder" valign="top" width="26.009999999999998%" headers="mcps1.3.4.2.5.2.2.2.3.1.1 "><p id="EN-US_TOPIC_0000002228210105__en-us_topic_0000002192764630_p97617715464">Auto Indexing of Backup Copies</p>
</td>
<td class="cellrowborder" valign="top" width="73.99%" headers="mcps1.3.4.2.5.2.2.2.3.1.2 "><div class="p" id="EN-US_TOPIC_0000002228210105__en-us_topic_0000002192764630_p169751434463">After this function is enabled, you can search for files, directories, or links in copies.<div class="note" id="EN-US_TOPIC_0000002228210105__en-us_topic_0000002192764630_note05471921141918"><span class="notetitle"> NOTE: </span><div class="notebody"><p id="EN-US_TOPIC_0000002228210105__en-us_topic_0000002192764630_p0743109201911">Indexes occupy backup storage space. If the number of index files in the system exceeds 1 billion, perform operations by referring to "Failed to Create a Copy Index" in the <i><cite id="EN-US_TOPIC_0000002228210105__en-us_topic_0000002192764630_cite23814569190">OceanProtect DataBackup 1.5.0-1.6.0 Troubleshooting</cite></i>.</p>
</div></div>
</div>
</td>
</tr>
</tbody>
</table>
</div>
</p></li><li><span>Click <span class="uicontrol" id="EN-US_TOPIC_0000002228210105__en-us_topic_0000002200146973_uicontrol23691650677"><b>OK</b></span>.</span><p><p id="EN-US_TOPIC_0000002228210105__en-us_topic_0000002200146973_en-us_topic_0000001656691397_p25041111535">If the current system time is later than the start time of the first backup specified in the SLA, you can select <strong id="EN-US_TOPIC_0000002228210105__en-us_topic_0000002200146973_b9624185216713">Execute manual backup now</strong> in the dialog box that is displayed or choose to perform automatic backup periodically based on the backup policy set in the SLA.</p>
</p></li><li><span>Perform manual backup.</span><p><p>If you want to execute a backup job immediately, perform manual backup through the following operations. Otherwise, skip this step.</p>
<ol type="a"><li>In the row of the target file directory, choose <span class="uicontrol"><b> &gt; </b></span>.<div class="note"><img src="public_sys-resources/note_3.0-en-us.png"><span class="notetitle"> </span><div class="notebody"><p id="EN-US_TOPIC_0000002228210105__en-us_topic_0000002192764630_p20468102732716">You can select multiple resources to perform manual backup in batches. Select multiple resources and choose <span class="uicontrol" id="EN-US_TOPIC_0000002228210105__en-us_topic_0000002192764630_en-us_topic_0000001792503838_uicontrol14182155715711"><b>More</b></span> &gt; <strong id="EN-US_TOPIC_0000002228210105__en-us_topic_0000002192764630_b83662598381">Manual Backup</strong> in the upper left corner of the page.</p>
</div></div>
</li><li>Set the name of the copy generated by the manual backup.<div class="p" id="EN-US_TOPIC_0000002228210105__en-us_topic_0000002192764630_p1850633102016">If this parameter is left unspecified, the system sets the name to <strong id="EN-US_TOPIC_0000002228210105__en-us_topic_0000002192764630_b1066114106139">backup_</strong><em id="EN-US_TOPIC_0000002228210105__en-us_topic_0000002192764630_i146610104138">Timestamp</em> by default.<div class="note" id="EN-US_TOPIC_0000002228210105__en-us_topic_0000002192764630_note4661210376"><img src="public_sys-resources/note_3.0-en-us.png"><span class="notetitle"> </span><div class="notebody"><p id="EN-US_TOPIC_0000002228210105__en-us_topic_0000002192764630_p136614213710"><span id="EN-US_TOPIC_0000002228210105__en-us_topic_0000002192764630_en-us_topic_0000002164760190_en-us_topic_0000001964713008_ph19374310343">If the selected protection policy is different from that configured in the associated SLA, the WORM configuration does not take effect.</span></p>
</div></div>
</div>
</li><li>Click <span class="uicontrol" id="EN-US_TOPIC_0000002228210105__en-us_topic_0000002192764630_uicontrol37271318124613"><b>OK</b></span>.</li></ol>
</p></li></ol>
</div>
</div>
<div>
<div class="familylinks">
<div class="parentlink"><strong>Parent topic:</strong> <a href="en-us_topic_0000002164766774.html">Step 5: Performing Backup</a></div>
</div>
</div>

<div class="hrcopyright"><hr size="2"></div><div class="hwcopyright">Copyright &copy; Huawei Technologies Co., Ltd.</div></body>
</html>