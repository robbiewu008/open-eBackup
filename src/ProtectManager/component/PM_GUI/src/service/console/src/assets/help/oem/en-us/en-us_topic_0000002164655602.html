<!--
  This file is a part of the open-eBackup project.
  This Source Code Form is subject to the terms of the Mozilla Public License, v. 2.0.
  If a copy of the MPL was not distributed with this file, You can obtain one at
  http://mozilla.org/MPL/2.0/.
  
  Copyright (c) [2024] Huawei Technologies Co.,Ltd.
  
  THIS SOFTWARE IS PROVIDED ON AN "AS IS" BASIS, WITHOUT WARRANTIES OF ANY KIND,
  EITHER EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO NON-INFRINGEMENT,
  MERCHANTABILITY OR FIT FOR A PARTICULAR PURPOSE.
  -->

<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en-us" xml:lang="en-us">
 <head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="DC.Type" content="topic">
  <meta name="DC.Title" content="Step 7: Performing Backup">
  <meta name="product" content="">
  <meta name="DC.Relation" scheme="URI" content="en-us_topic_0000002200141889.html">
  <meta name="prodname" content="">
  <meta name="version" content="">
  <meta name="brand" content="">
  <meta name="DC.Publisher" content="20250306">
  <meta name="prodname" content="csbs">
  <meta name="documenttype" content="usermanual">
  <meta name="DC.Format" content="XHTML">
  <meta name="DC.Identifier" content="EN-US_TOPIC_0000002164655602">
  <meta name="DC.Language" content="en-us">
  <link rel="stylesheet" type="text/css" href="public_sys-resources/commonltr.css">
  <title>Step 7: Performing Backup</title>
 </head>
 <body style="clear:both; padding-left:10px; padding-top:5px; padding-right:5px; padding-bottom:5px">
  <a name="EN-US_TOPIC_0000002164655602"></a><a name="EN-US_TOPIC_0000002164655602"></a>
  <h1 class="topictitle1">Step 7: Performing Backup</h1>
  <div>
   <p>Before performing backup, you need to associate the resources to be protected with a specified SLA. The system protects the resources and periodically executes backup jobs based on the SLA. You can perform a backup job immediately through manual backup.</p>
   <div class="section">
    <h4 class="sectiontitle">Precautions</h4>
    <ul>
     <li>During a manual backup, the parameters (except <span class="uicontrol"><b><span><strong>Automatic Retry</strong></span></b></span>) defined in the SLA are applied to the manual backup job.</li>
     <li>The retention period of copies generated during the manual backup is defined in the SLA.</li>
    </ul>
   </div>
   <div class="section">
    <h4 class="sectiontitle">Procedure</h4>
    <ol>
     <li><span>Choose <span class="uicontrol" id="EN-US_TOPIC_0000002164655602__en-us_topic_0000002199964685_uicontrol31735811411"><b><span id="EN-US_TOPIC_0000002164655602__en-us_topic_0000002199964685_text4171858161413"><strong>Protection</strong></span> &gt; File Systems &gt; <span id="EN-US_TOPIC_0000002164655602__en-us_topic_0000002199964685_text6353164213157"><strong>Object Storage</strong></span></b></span>.</span></li>
     <li><span>Click the <strong>Object Set</strong> tab, select the object set to be protected, and click <span class="uicontrol"><b><span><strong>Protect</strong></span></b></span>.</span><p></p><p>You can choose multiple object sets for batch protection.</p> <p></p></li>
     <li><span>Select an SLA.</span><p></p>
      <div class="p" id="EN-US_TOPIC_0000002164655602__en-us_topic_0000002200146973_p16181740836">
       You can also click <span class="uicontrol" id="EN-US_TOPIC_0000002164655602__en-us_topic_0000002200146973_uicontrol169554520714"><b><span id="EN-US_TOPIC_0000002164655602__en-us_topic_0000002200146973_text179554516717"><strong>Create</strong></span></b></span> to create an SLA.
       <div class="note" id="EN-US_TOPIC_0000002164655602__en-us_topic_0000002200146973_note25947145710">
        <img src="public_sys-resources/note_3.0-en-us.png"><span class="notetitle"> </span>
        <div class="notebody">
         <p id="EN-US_TOPIC_0000002164655602__en-us_topic_0000002200146973_p125947145711"><span id="EN-US_TOPIC_0000002164655602__en-us_topic_0000002200146973_ph1413818422327">If a WORM policy has been configured for the resources to be protected, select an SLA without a WORM policy to avoid WORM policy conflicts.</span></p>
        </div>
       </div>
      </div> <p></p></li>
     <li><span>Configure advanced parameters for object set protection.</span><p></p>
      <div class="p">
       <a href="#EN-US_TOPIC_0000002164655602__en-us_topic_0000001792548340_table354613271506">Table 1</a> describes the related parameters. 
       <div class="tablenoborder">
        <a name="EN-US_TOPIC_0000002164655602__en-us_topic_0000001792548340_table354613271506"></a><a name="en-us_topic_0000001792548340_table354613271506"></a>
        <table cellpadding="4" cellspacing="0" summary="" id="EN-US_TOPIC_0000002164655602__en-us_topic_0000001792548340_table354613271506" frame="border" border="1" rules="all">
         <caption>
          <b>Table 1 </b>Advanced parameters for object set protection
         </caption>
         <colgroup>
          <col style="width:19.75%">
          <col style="width:80.25%">
         </colgroup>
         <thead align="left">
          <tr>
           <th align="left" class="cellrowborder" valign="top" width="19.75%" id="mcps1.3.3.2.4.2.1.2.2.3.1.1"><p>Parameter</p></th>
           <th align="left" class="cellrowborder" valign="top" width="80.25%" id="mcps1.3.3.2.4.2.1.2.2.3.1.2"><p>Description</p></th>
          </tr>
         </thead>
         <tbody>
          <tr>
           <td class="cellrowborder" valign="top" width="19.75%" headers="mcps1.3.3.2.4.2.1.2.2.3.1.1 "><p><strong>ACL Backup</strong></p></td>
           <td class="cellrowborder" valign="top" width="80.25%" headers="mcps1.3.3.2.4.2.1.2.2.3.1.2 "><p>This function is disabled by default. After this function is enabled, the ACL attributes of buckets and objects are backed up, but the object scanning speed is reduced.</p></td>
          </tr>
          <tr>
           <td class="cellrowborder" valign="top" width="19.75%" headers="mcps1.3.3.2.4.2.1.2.2.3.1.1 "><p><strong>Backup Resume</strong></p></td>
           <td class="cellrowborder" valign="top" width="80.25%" headers="mcps1.3.3.2.4.2.1.2.2.3.1.2 "><p>This function is disabled by default. After this function is enabled, if a backup job is performed after the last backup fails, the backup job starts the backup from where the last backup failed. The default value is <strong>3</strong>.</p>
            <div class="note">
             <span class="notetitle"> NOTE: </span>
             <div class="notebody">
              <p>If a backup job fails at the pre-backup phase, the resumable backup function cannot be triggered for the next backup.</p>
             </div>
            </div></td>
          </tr>
          <tr>
           <td class="cellrowborder" valign="top" width="19.75%" headers="mcps1.3.3.2.4.2.1.2.2.3.1.1 "><p><strong>Incremental Scan Based on Bucket Logs</strong></p></td>
           <td class="cellrowborder" valign="top" width="80.25%" headers="mcps1.3.3.2.4.2.1.2.2.3.1.2 "><p>To enable this function for a bucket to be backed up, ensure that:</p>
            <ul>
             <li>The bucket log function has been enabled and bucket log related configurations have been performed for this bucket.</li>
             <li>The user used for backup has the read permission on the bucket for storing the logs related to this bucket.</li>
            </ul>
            <div class="note">
             <span class="notetitle"> NOTE: </span>
             <div class="notebody">
              <p>This parameter is displayed only when the object storage type is Huawei Cloud Stack object storage.</p>
             </div>
            </div></td>
          </tr>
          <tr>
           <td class="cellrowborder" valign="top" width="19.75%" headers="mcps1.3.3.2.4.2.1.2.2.3.1.1 "><p><span><strong>Small File Aggregation</strong></span></p></td>
           <td class="cellrowborder" valign="top" width="80.25%" headers="mcps1.3.3.2.4.2.1.2.2.3.1.2 "><p>After this function is enabled, the system aggregates multiple small files in the same directory into a large file to improve backup efficiency. If incremental backup is configured for the SLA, small file aggregation cannot be disabled. If forever incremental (synthetic full) backup is configured for the SLA, small file aggregation cannot be enabled. This function is not recommended if the number of subdirectories and files in a single directory exceeds 1 million.</p>
            <ul>
             <li id="EN-US_TOPIC_0000002164655602__en-us_topic_0000002200006637_li1322365713546"><strong id="EN-US_TOPIC_0000002164655602__en-us_topic_0000002200006637_b277650194810">File Size After Aggregation</strong>: indicates the size of the aggregated file generated after multiple small files are aggregated.</li>
             <li id="EN-US_TOPIC_0000002164655602__en-us_topic_0000002200006637_li1122335714541"><strong id="EN-US_TOPIC_0000002164655602__en-us_topic_0000002200006637_b33526374915">Maximum Aggregated File Size</strong>: indicates the maximum size of a small file that can be aggregated.</li>
            </ul> <p>For small file aggregation, the size of the file after aggregation must be greater than or equal to the size of the largest aggregated file.</p></td>
          </tr>
          <tr>
           <td class="cellrowborder" valign="top" width="19.75%" headers="mcps1.3.3.2.4.2.1.2.2.3.1.1 "><p><strong>Auto Indexing of Backup Copies</strong></p></td>
           <td class="cellrowborder" valign="top" width="80.25%" headers="mcps1.3.3.2.4.2.1.2.2.3.1.2 "><p>After this function is enabled, the system automatically creates file indexes for copies. After indexes are created, files, directories, or links in copies can be searched. You can also manually create indexes for copies.</p></td>
          </tr>
          <tr>
           <td class="cellrowborder" valign="top" width="19.75%" headers="mcps1.3.3.2.4.2.1.2.2.3.1.1 "><p><strong>Automatic Indexing of Copies Archived to Tapes</strong></p></td>
           <td class="cellrowborder" valign="top" width="80.25%" headers="mcps1.3.3.2.4.2.1.2.2.3.1.2 "><p>This function is disabled by default. This parameter is displayed when <strong>Archive Storage Type</strong> is set to <span class="parmvalue"><b>Tape Library</b></span>. If you want to view detailed data in archive copies or save the storage space occupied during restoration, enable this function. After this function is enabled, the system automatically creates file indexes for copies. After indexes are created, one or more files can be restored.</p>
            <div class="note">
             <span class="notetitle"> NOTE: </span>
             <div class="notebody">
              <p>If <strong>Automatic Indexing of Copies Archived to Tapes</strong> is disabled, the copies archived to tapes cannot be directly restored to the production storage. Instead, a temporary file system is created on the <span>product</span>, occupying backup storage space. After the restoration job is complete, the temporary file system is automatically cleared and reclaimed.</p>
             </div>
            </div></td>
          </tr>
         </tbody>
        </table>
       </div>
      </div> <p></p></li>
     <li><span>Click <span class="uicontrol" id="EN-US_TOPIC_0000002164655602__en-us_topic_0000002200146973_uicontrol23691650677"><b>OK</b></span>.</span><p></p><p id="EN-US_TOPIC_0000002164655602__en-us_topic_0000002200146973_en-us_topic_0000001656691397_p25041111535">If the current system time is later than the start time of the first backup specified in the SLA, you can select <strong id="EN-US_TOPIC_0000002164655602__en-us_topic_0000002200146973_b9624185216713">Execute manual backup now</strong> in the dialog box that is displayed or choose to perform automatic backup periodically based on the backup policy set in the SLA.</p> <p></p></li>
     <li><span>Perform manual backup.</span><p></p><p>You can manually perform a backup job to back up data immediately.</p>
      <ol type="a">
       <li>Click the <strong>Object Set</strong> tab. In the row that contains the object set to be backed up, choose <span class="uicontrol"><b><span><strong>More</strong></span> &gt; <span><strong>Manual Backup</strong></span></b></span>.
        <div class="note">
         <img src="public_sys-resources/note_3.0-en-us.png"><span class="notetitle"> </span>
         <div class="notebody">
          <p>You can select multiple resources to perform manual backup in batches. Select multiple resources and choose <span class="uicontrol"><b><span><strong>More</strong></span> &gt; <span><strong>Manual Backup</strong></span></b></span> in the upper left corner of the page.</p>
         </div>
        </div></li>
       <li>Set the name of the copy generated during manual backup.<p>If this parameter is left unspecified, the system sets the name to <strong>backup_</strong><em>Timestamp</em> by default.</p></li>
       <li>Select a protection policy, which can be <strong>Full Backup</strong>, <strong>Incremental Backup</strong>, or <strong>Forever Incremental (Synthetic Full) Backup</strong>.
        <div class="note">
         <img src="public_sys-resources/note_3.0-en-us.png"><span class="notetitle"> </span>
         <div class="notebody">
          <ul>
           <li><strong>Forever Incremental (Synthetic Full) Backup</strong> is displayed only when <span><span><strong>Set as Forever Incremental (Synthetic Full) Backup</strong></span> is selected during incremental backup policy creation</span>.</li>
           <li><span>If the selected protection policy is different from that configured in the associated SLA, the WORM configuration does not take effect.</span></li>
          </ul>
         </div>
        </div></li>
       <li>Click <span class="uicontrol"><b><span><strong>OK</strong></span></b></span>.</li>
      </ol> <p></p></li>
    </ol>
   </div>
  </div>
  <div>
   <div class="familylinks">
    <div class="parentlink">
     <strong>Parent topic:</strong> <a href="en-us_topic_0000002200141889.html">Backing Up Object Storage</a>
    </div>
   </div>
  </div>
 </body>
</html>