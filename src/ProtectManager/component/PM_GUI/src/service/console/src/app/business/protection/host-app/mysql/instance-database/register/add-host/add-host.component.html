<lv-form [formGroup]="formGroup" class="formGroup">
    <lv-form-item>
        <lv-form-label lvRequired>
            {{'common_host_label' | i18n}}
        </lv-form-label>
        <lv-form-control [lvErrorTip]="baseUtilService.requiredErrorTip">
            <lv-select formControlName="host" [lvOptions]='hostOptions' lvValueKey='value' lvMode='multiple'
                [lvDisabled]="!!rowData" lvShowFilter lvFilterKey='label' lvFilterMode='contains'>
            </lv-select>
        </lv-form-control>
    </lv-form-item>
    <ng-container *ngIf="!isEapp">
        <lv-form-item>
            <lv-form-label></lv-form-label>
            <lv-collapse [lvType]="'simple'">
                <lv-collapse-panel [lvTitle]="titleTpl" [lvExpanded]="!!rowData?.extendInfo?.instanceIp">
                    <lv-form-control [lvErrorTip]="baseUtilService.ipErrorTip">
                        <input lv-input type="text" formControlName="instanceIp"
                            [ngClass]="{'ip-input-en': i18n.isEn, 'ip-input-zh': !i18n.isEn}"
                            placeholder="{{ 'protection_mysql_service_ip_placeholder_label' | i18n }}" />
                    </lv-form-control>
                </lv-collapse-panel>
            </lv-collapse>
        </lv-form-item>
    </ng-container>
    <ng-container *ngIf="isEapp">
        <lv-form-item >
            <lv-form-label lvRequired>
                {{ 'protection_eappmysql_service_ip_label' | i18n}}
            </lv-form-label>
            <lv-form-control [lvErrorTip]="baseUtilService.ipErrorTip">
                <input lv-input type="text" formControlName="instanceIp"
                    placeholder="{{ 'protection_eappmysql_service_ip_placeholder_label' | i18n }}" />
            </lv-form-control>
        </lv-form-item>
    </ng-container>

    <lv-form-item>
        <lv-form-label lvRequired>
            {{'common_port_label' | i18n}}
        </lv-form-label>
        <lv-form-control [lvErrorTip]="portErrorTip">
            <input lv-input type="text" formControlName="port" placeholder='1~65535' />
        </lv-form-control>
    </lv-form-item>
    <lv-form-item>
        <lv-form-label lvRequired>
            {{'common_username_label' | i18n}}
        </lv-form-label>
        <lv-form-control [lvErrorTip]="usernameErrorTip">
            <input lv-input type="text" formControlName="userName" autocomplete="new-password"
                placeholder="{{ 'protection_database_username_placeholder_label' | i18n }}" />
        </lv-form-control>
    </lv-form-item>
    <lv-form-item>
        <lv-form-label lvRequired>
            {{'common_password_label' | i18n}}
        </lv-form-label>
        <lv-form-control [lvErrorTip]="passwordErrorTip">
            <aui-inupt-with-eye formControlName="password" [lvPasteAllowed]="false"></aui-inupt-with-eye>
        </lv-form-control>
    </lv-form-item>
  <!-- 字符集 单实例和集群实例都有这个参数 -->
  <lv-form-item>
    <lv-form-label>
      {{'common_character_set_label' | i18n}}
    </lv-form-label>
    <lv-form-control [lvErrorTip]="charsetErrorTip">
      <input lv-input type="text" formControlName="charset"/>
    </lv-form-control>
  </lv-form-item>

  <!-- MySQL配置文件路径 -->
  <lv-form-item>
    <lv-form-label>
      {{'protection_mysql_instance_register_config_path_label' | i18n}}
    </lv-form-label>
    <lv-form-control [lvErrorTip]="confPathErrorTip">
      <input lv-input type="text" formControlName="configPath"/>
      <span class="tips">
            {{ 'protection_mysql_instance_register_config_path_tips_label' | i18n }}
      </span>
    </lv-form-control>
  </lv-form-item>
</lv-form>
<ng-template #titleTpl>
    <lv-group lvGutter="8px">
        <span class="aui-link ip-tips">
            {{'protection_mysql_service_ip_label' | i18n}}
        </span>
    </lv-group>
</ng-template>
