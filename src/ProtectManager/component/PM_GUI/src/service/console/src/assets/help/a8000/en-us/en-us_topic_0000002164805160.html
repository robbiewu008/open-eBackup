<!--
  This file is a part of the open-eBackup project.
  This Source Code Form is subject to the terms of the Mozilla Public License, v. 2.0.
  If a copy of the MPL was not distributed with this file, You can obtain one at
  http://mozilla.org/MPL/2.0/.
  
  Copyright (c) [2024] Huawei Technologies Co.,Ltd.
  
  THIS SOFTWARE IS PROVIDED ON AN "AS IS" BASIS, WITHOUT WARRANTIES OF ANY KIND,
  EITHER EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO NON-INFRINGEMENT,
  MERCHANTABILITY OR FIT FOR A PARTICULAR PURPOSE.
  -->


<!DOCTYPE html
  PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en-us" xml:lang="en-us">
<head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
   
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="DC.Type" content="topic">
<meta name="DC.Title" content="Restoring One or More Tables in an OceanBase Database">
<meta name="product" content="">
<meta name="DC.Relation" scheme="URI" content="en-us_topic_0000002200131765.html">
<meta name="prodname" content="">
<meta name="version" content="">
<meta name="brand" content="">
<meta name="DC.Publisher" content="20250306">
<meta name="prodname" content="csbs">
<meta name="documenttype" content="usermanual">
<meta name="DC.Format" content="XHTML">
<meta name="DC.Identifier" content="EN-US_TOPIC_0000002164805160">
<meta name="DC.Language" content="en-us">
<link rel="stylesheet" type="text/css" href="public_sys-resources/commonltr.css">
<title>Restoring One or More Tables in an OceanBase Database</title>
</head>
<body style="clear:both; padding-left:10px; padding-top:5px; padding-right:5px; padding-bottom:5px"><a name="EN-US_TOPIC_0000002164805160"></a><a name="EN-US_TOPIC_0000002164805160"></a>

<h1 class="topictitle1">Restoring One or More Tables in an OceanBase Database</h1>
<div><p>This section describes how to restore one or multiple tables in an OceanBase database to a new location.</p>
<div class="section"><h4 class="sectiontitle">Prerequisites</h4><ul><li>Table-level restoration can be performed only by using full and incremental backup copies of a cluster.</li><li>Before restoration, ensure that the remaining space of the data directory at the target location for restoration is greater than the size of the copy used for restoration before reduction. Otherwise, restoration will fail.</li><li>During the first restoration, ensure that the value of <strong id="EN-US_TOPIC_0000002164805160__en-us_topic_0000002200046157_b46493303116">restore_concurrency</strong> of the OceanBase database is not <strong id="EN-US_TOPIC_0000002164805160__en-us_topic_0000002200046157_b208761732212">0</strong>. The recommended value is <strong id="EN-US_TOPIC_0000002164805160__en-us_topic_0000002200046157_b1168190102113">10</strong>.</li><li>Ensure that at least one idle resource pool exists in the OceanBase database and its CPUs and memory are greater than or equal to those of the original tenant. Otherwise, create a resource pool. For details about how to create a resource pool, see the <a href="https://en.oceanbase.com/docs/common-oceanbase-database-10000000001167105" target="_blank" rel="noopener noreferrer">OceanBase official document</a>.</li></ul>
</div>
<div class="section"><h4 class="sectiontitle">Procedure</h4><ol><li><span>Choose <span class="uicontrol" id="EN-US_TOPIC_0000002164805160__en-us_topic_0000002200046157_en-us_topic_0000002199964685_uicontrol4958517162719"><b><span id="EN-US_TOPIC_0000002164805160__en-us_topic_0000002200046157_en-us_topic_0000002199964685_text695841713270"><strong>Explore</strong></span> &gt; <span id="EN-US_TOPIC_0000002164805160__en-us_topic_0000002200046157_en-us_topic_0000002199964685_text1595819176270"><strong>Copy Data</strong></span> &gt; <span id="EN-US_TOPIC_0000002164805160__en-us_topic_0000002200046157_en-us_topic_0000002199964685_text14787949194912"><strong>Databases</strong></span> &gt; OceanBase</b></span>.</span></li><li><span>Search for OceanBase copies by resource or copy.</span><p><ul><li>On the <span class="uicontrol"><b><span><strong>Resources</strong></span></b></span> tab page, find the cluster that has been registered with the <span>OceanProtect</span> by name and click the name.</li><li>On the <span class="uicontrol"><b><span><strong>Copies</strong></span></b></span> tab page, find the target copy based on the copy information, and choose <span class="menucascade"><b><span class="uicontrol">More &gt; Table-Level Restoration</span></b></span> in the row where the copy is located.</li></ul>
<p>The following part uses the database resource as an example to describe the related operations.</p>
</p></li><li><span>Click a cluster name.</span></li><li><span>Specify a copy for restoration.</span><p><div class="note"><img src="public_sys-resources/note_3.0-en-us.png"><span class="notetitle"> </span><div class="notebody"><p id="EN-US_TOPIC_0000002164805160__en-us_topic_0000002200046157_en-us_topic_0000002164757038_p10749547154615">For the OceanProtect E6000 Appliance, when a replication copy is used for restoration, other copies of the resource cannot be replicated at the remote end.</p>
</div></div>
<ol type="a"><li>Select the year, month, and day in sequence to find the copy.<p>If <span><img src="en-us_image_0000002200046225.png"></span> is displayed below a month or date, copies exist in the month or on the day.</p>
</li><li>On the <strong>Copy Data</strong> page, click <span><img src="en-us_image_0000002164645456.png"></span> and choose <span class="menucascade"><b><span class="uicontrol">More &gt; Table-Level Restoration</span></b></span> in the row of the target full or incremental backup copy.</li></ol>
</p></li><li><span>On the left of the <strong>Table-Level Restoration</strong> page, select a tenant from the <span class="menucascade"><b><span class="uicontrol">Tenant</span></b></span> drop-down list, and then select one or more tables for restoration. (You can search for tables by complete and accurate name.)</span></li><li><span>On the right of the <strong>Table-Level Restoration</strong> page, select a location from the <span class="menucascade"><b><span class="uicontrol">Target Restoration Location</span></b></span> drop-down list, specify <span class="menucascade"><b><span class="uicontrol">New Tenant</span></b></span>, and select a resource pool from the <span class="menucascade"><b><span class="uicontrol">Resource pool</span></b></span> drop-down list.</span><p><p><a href="#EN-US_TOPIC_0000002164805160__table558435323215">Table 1</a> describes the related parameters.</p>

<div class="tablenoborder"><a name="EN-US_TOPIC_0000002164805160__table558435323215"></a><a name="table558435323215"></a><table cellpadding="4" cellspacing="0" summary="" id="EN-US_TOPIC_0000002164805160__table558435323215" frame="border" border="1" rules="all"><caption><b>Table 1 </b>Table-level restoration parameters</caption><colgroup><col style="width:22.48%"><col style="width:77.52%"></colgroup><thead align="left"><tr><th align="left" class="cellrowborder" valign="top" width="22.48%" id="mcps1.3.3.2.6.2.2.2.3.1.1"><p>Parameter</p>
</th>
<th align="left" class="cellrowborder" valign="top" width="77.52%" id="mcps1.3.3.2.6.2.2.2.3.1.2"><p>Description</p>
</th>
</tr>
</thead>
<tbody><tr><td class="cellrowborder" valign="top" width="22.48%" headers="mcps1.3.3.2.6.2.2.2.3.1.1 "><p>Tenant</p>
</td>
<td class="cellrowborder" valign="top" width="77.52%" headers="mcps1.3.3.2.6.2.2.2.3.1.2 "><p>Select a tenant of the original cluster.</p>
</td>
</tr>
<tr><td class="cellrowborder" valign="top" width="22.48%" headers="mcps1.3.3.2.6.2.2.2.3.1.1 "><p>Target Restoration Location</p>
</td>
<td class="cellrowborder" valign="top" width="77.52%" headers="mcps1.3.3.2.6.2.2.2.3.1.2 "><p>Specify the target OceanBase cluster for restoration.</p>
</td>
</tr>
<tr><td class="cellrowborder" valign="top" width="22.48%" headers="mcps1.3.3.2.6.2.2.2.3.1.1 "><p>New Tenant</p>
</td>
<td class="cellrowborder" valign="top" width="77.52%" headers="mcps1.3.3.2.6.2.2.2.3.1.2 "><p>Enter a tenant name that does not exist in the target cluster for restoration.</p>
<div class="note"><span class="notetitle"> NOTE: </span><div class="notebody"><p>The tenant name can contain only uppercase letters, lowercase letters, digits, and underscores (_), and must start with a letter or underscore (_). The tenant name cannot be a keyword of the OceanBase database. For details about the keywords supported by the OceanBase database, visit the OceanBase official website.</p>
</div></div>
</td>
</tr>
<tr><td class="cellrowborder" valign="top" width="22.48%" headers="mcps1.3.3.2.6.2.2.2.3.1.1 "><p>Resource pool</p>
</td>
<td class="cellrowborder" valign="top" width="77.52%" headers="mcps1.3.3.2.6.2.2.2.3.1.2 "><p>Select a resource pool of the target cluster.</p>
</td>
</tr>
</tbody>
</table>
</div>
</p></li><li><span>Click <span class="uicontrol"><b>OK</b></span>.</span></li></ol>
</div>
</div>
<div>
<div class="familylinks">
<div class="parentlink"><strong>Parent topic:</strong> <a href="en-us_topic_0000002200131765.html">Restoration</a></div>
</div>
</div>

<div class="hrcopyright"><hr size="2"></div><div class="hwcopyright">Copyright &copy; Huawei Technologies Co., Ltd.</div></body>
</html>