<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en-us" xml:lang="en-us">
 <head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="DC.Type" content="topic">
  <meta name="DC.Title" content="Performing Periodic Backup">
  <meta name="product" content="">
  <meta name="DC.Relation" scheme="URI" content="en-us_topic_0000001839260405.html">
  <meta name="prodname" content="">
  <meta name="version" content="">
  <meta name="brand" content="30-OceanProtect Appliance 1.5.0-1.6.0 Help Center">
  <meta name="DC.Publisher" content="20240608">
  <meta name="DC.Format" content="XHTML">
  <meta name="DC.Identifier" content="EN-US_TOPIC_0000001792381316">
  <meta name="DC.Language" content="en-us">
  <link rel="stylesheet" type="text/css" href="public_sys-resources/commonltr.css">
  <title>Performing Periodic Backup</title>
 </head>
 <body style="clear:both; padding-left:10px; padding-top:5px; padding-right:5px; padding-bottom:5px">
  <a name="EN-US_TOPIC_0000001792381316"></a><a name="EN-US_TOPIC_0000001792381316"></a>
  <h1 class="topictitle1">Performing Periodic Backup</h1>
  <div>
   <p>The namespace or dataset to be protected must be associated with a specified SLA. The system periodically performs backup based on the SLA. The name of a copy generated during periodic backup is <em>Resource name</em> <strong>_</strong> <em>Timestamp</em> by default.</p>
   <div class="section" id="EN-US_TOPIC_0000001792381316__section592472483112">
    <h4 class="sectiontitle">Precautions</h4>
    <p id="EN-US_TOPIC_0000001792381316__p74027249145">Ensure that the reserved space for the production storage is greater than the size of the resources to be backed up.</p>
   </div>
   <div class="section">
    <h4 class="sectiontitle">Prerequisites</h4>
    <ul>
     <li>CSIDriver must be installed on a node where backup pods run, and the backup PVCs also use CSIDriver. PVC backup is not supported without CSIDriver installed. The CSIDriver is installed in the Kubernetes cluster deployed on CCE. In the Kubernetes cluster deployed on FusionCompute, you can visit the following addresses to install CSIDriver. For details, see section "Managing Huawei Storage eSDK CSI" in the FusionCompute product documentation of the corresponding version.
      <ul>
       <li>For enterprise users: <a href="https://support.huawei.com/enterprise/en/virtualization/fusioncompute-pid-8576912" target="_blank" rel="noopener noreferrer">Click here</a>.</li>
       <li>For carrier users: <a href="https://support.huawei.com/carrier/productNewOffering?col=product&amp;resTab=PD&amp;path=PBI1-21430725/PBI1-251363742/PBI1-21431663/PBI1-254217483/PBI1-8576912&amp;lang=en&amp;scene=DS-HDX" target="_blank" rel="noopener noreferrer">Click here</a>.</li>
      </ul></li>
     <li>When you import a backup pod image to the production environment, select the image that has the same architecture as the production node.</li>
     <li>During the backup of each PVC, a backup pod is started. The maximum startup time of the backup pod is 24 hours.</li>
    </ul>
   </div>
   <div class="section">
    <h4 class="sectiontitle">Periodically Backing Up a Namespace</h4>
    <ol>
     <li><span>Choose <span class="uicontrol" id="EN-US_TOPIC_0000001792381316__en-us_topic_0000001792381196_en-us_topic_0000001839142377_uicontrol846217343614"><b><span id="EN-US_TOPIC_0000001792381316__en-us_topic_0000001792381196_en-us_topic_0000001839142377_text1046212303610"><strong>Protection</strong></span> &gt; Containers &gt; <span id="EN-US_TOPIC_0000001792381316__en-us_topic_0000001792381196_en-us_topic_0000001839142377_text149606591485"><strong>Kubernetes CSI</strong></span></b></span>.</span></li>
     <li><span>Click the <span><strong>Namespace</strong></span> tab and select the namespace to be protected.</span></li>
     <li><span>Click <span class="uicontrol"><b><span><strong>Protect</strong></span></b></span>.</span></li>
     <li><span>Select a preset or user-defined SLA.</span><p></p><p>You can also click <span class="uicontrol"><b><span><strong>Create</strong></span></b></span> to create an SLA.</p> <p></p></li>
     <li id="EN-US_TOPIC_0000001792381316__li122951146155214"><span>After selecting an SLA, you can enable or disable the <span class="uicontrol" id="EN-US_TOPIC_0000001792381316__uicontrol56798203554"><b><span id="EN-US_TOPIC_0000001792381316__text065615184191"><strong>Application-Consistent Backup</strong></span></b></span> function based on the application scenario.</span><p></p>
      <div class="p" id="EN-US_TOPIC_0000001792381316__p18841229193913">
       During the backup, the application-consistent backup function makes sure that data generated at the same point in time in a Kubernetes cluster is captured, memory data is backed up, and applications are quiesced. Therefore, application data consistency is ensured.
       <div class="note" id="EN-US_TOPIC_0000001792381316__note15981240115620">
        <img src="public_sys-resources/note_3.0-en-us.png"><span class="notetitle"> </span>
        <div class="notebody">
         <p id="EN-US_TOPIC_0000001792381316__p75981840145610">To perform application-consistent backup, you need to configure the pre-hook or post-hook command on pods in the production environment. For details about configuration, see <a href="en-us_topic_0000001792381352.html">Pod Configuration in the Production Environment for Application-Consistent Backup (General)</a>.</p>
        </div>
       </div>
      </div> <p></p></li>
     <li><span>Click <span class="uicontrol" id="EN-US_TOPIC_0000001792381316__en-us_topic_0000001607841256_uicontrol196538515235"><b>OK</b></span>. </span><p></p><p id="EN-US_TOPIC_0000001792381316__en-us_topic_0000001607841256_p25041111535">If the current system time is later than the first backup start time of the SLA, you can select to perform backup immediately after the backup SLA is associated or wait for the next scheduling based on the backup policy set in the SLA.</p> <p></p></li>
    </ol>
   </div>
   <div class="section">
    <h4 class="sectiontitle">Periodically Backing Up a Dataset</h4>
    <ol>
     <li><span>Choose <span class="uicontrol" id="EN-US_TOPIC_0000001792381316__en-us_topic_0000001792381196_en-us_topic_0000001839142377_uicontrol846217343614_1"><b><span id="EN-US_TOPIC_0000001792381316__en-us_topic_0000001792381196_en-us_topic_0000001839142377_text1046212303610_1"><strong>Protection</strong></span> &gt; Containers &gt; <span id="EN-US_TOPIC_0000001792381316__en-us_topic_0000001792381196_en-us_topic_0000001839142377_text149606591485_1"><strong>Kubernetes CSI</strong></span></b></span>.</span></li>
     <li><span>Click the <span class="uicontrol"><b><span><strong>Dataset</strong></span></b></span> tab and select the dataset to be protected.</span></li>
     <li><span>Click <span class="uicontrol"><b><span><strong>Protect</strong></span></b></span>.</span></li>
     <li><span>Select a user-defined SLA.</span><p></p><p>You can also click <span class="uicontrol"><b><span><strong>Create</strong></span></b></span> to create an SLA.</p> <p></p></li>
     <li><span>After selecting an SLA, you can enable or disable the <span class="uicontrol" id="EN-US_TOPIC_0000001792381316__en-us_topic_0000001792381316_uicontrol56798203554"><b><span id="EN-US_TOPIC_0000001792381316__en-us_topic_0000001792381316_text065615184191"><strong>Application-Consistent Backup</strong></span></b></span> function based on the application scenario.</span><p></p>
      <div class="p" id="EN-US_TOPIC_0000001792381316__en-us_topic_0000001792381316_p18841229193913">
       During the backup, the application-consistent backup function makes sure that data generated at the same point in time in a Kubernetes cluster is captured, memory data is backed up, and applications are quiesced. Therefore, application data consistency is ensured.
       <div class="note" id="EN-US_TOPIC_0000001792381316__en-us_topic_0000001792381316_note15981240115620">
        <img src="public_sys-resources/note_3.0-en-us.png"><span class="notetitle"> </span>
        <div class="notebody">
         <p id="EN-US_TOPIC_0000001792381316__en-us_topic_0000001792381316_p75981840145610">To perform application-consistent backup, you need to configure the pre-hook or post-hook command on pods in the production environment. For details about configuration, see <a href="en-us_topic_0000001792381352.html">Pod Configuration in the Production Environment for Application-Consistent Backup (General)</a>.</p>
        </div>
       </div>
      </div> <p></p></li>
     <li><span>Click <span class="uicontrol" id="EN-US_TOPIC_0000001792381316__en-us_topic_0000001607841256_uicontrol196538515235_1"><b>OK</b></span>. </span><p></p><p id="EN-US_TOPIC_0000001792381316__en-us_topic_0000001607841256_p25041111535_1">If the current system time is later than the first backup start time of the SLA, you can select to perform backup immediately after the backup SLA is associated or wait for the next scheduling based on the backup policy set in the SLA.</p> <p></p></li>
    </ol>
   </div>
  </div>
  <div>
   <div class="familylinks">
    <div class="parentlink">
     <strong>Parent topic:</strong> <a href="en-us_topic_0000001839260405.html">Step 8: Performing Backup</a>
    </div>
   </div>
  </div>
 </body>
</html>