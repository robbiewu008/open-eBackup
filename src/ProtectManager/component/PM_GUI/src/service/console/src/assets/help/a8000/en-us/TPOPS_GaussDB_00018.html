<!--
  This file is a part of the open-eBackup project.
  This Source Code Form is subject to the terms of the Mozilla Public License, v. 2.0.
  If a copy of the MPL was not distributed with this file, You can obtain one at
  http://mozilla.org/MPL/2.0/.
  
  Copyright (c) [2024] Huawei Technologies Co.,Ltd.
  
  THIS SOFTWARE IS PROVIDED ON AN "AS IS" BASIS, WITHOUT WARRANTIES OF ANY KIND,
  EITHER EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO NON-INFRINGEMENT,
  MERCHANTABILITY OR FIT FOR A PARTICULAR PURPOSE.
  -->


<!DOCTYPE html
  PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en-us" xml:lang="en-us">
<head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
   
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="DC.Type" content="topic">
<meta name="DC.Title" content="Step 6: Creating a Backup SLA">
<meta name="product" content="">
<meta name="DC.Relation" scheme="URI" content="TPOPS_GaussDB_00010.html">
<meta name="prodname" content="">
<meta name="version" content="">
<meta name="brand" content="30-OceanProtect Appliance 1.5.0-1.6.0 Help Center">
<meta name="DC.Publisher" content="20241029">
<meta name="prodname" content="csbs">
<meta name="documenttype" content="usermanual">
<meta name="DC.Format" content="XHTML">
<meta name="DC.Identifier" content="TPOPS_GaussDB_00018">
<meta name="DC.Language" content="en-us">
<link rel="stylesheet" type="text/css" href="public_sys-resources/commonltr.css">
<title>Step 6: Creating a Backup SLA</title>
</head>
<body style="clear:both; padding-left:10px; padding-top:5px; padding-right:5px; padding-bottom:5px"><a name="TPOPS_GaussDB_00018"></a><a name="TPOPS_GaussDB_00018"></a>

<h1 class="topictitle1">Step 6: Creating a Backup SLA</h1>
<div><p>Customize an SLA to protect resources based on your requirements.</p>
<div class="section"><h4 class="sectiontitle">Context</h4><p>For details about custom SLAs, see <a href="TPOPS_GaussDB_000540.html">About SLA</a>.</p>
</div>
<div class="section"><h4 class="sectiontitle">Procedure</h4><ol><li><span>Choose <span class="uicontrol" id="TPOPS_GaussDB_00018__en-us_topic_0000001839143189_en-us_topic_0000001839142377_uicontrol8111821122820"><b><span id="TPOPS_GaussDB_00018__en-us_topic_0000001839143189_en-us_topic_0000001839142377_text71111921162814"><strong>Protection</strong></span> &gt; Protection Policies &gt; SLAs</b></span>.</span></li><li><span>Click <span class="uicontrol" id="TPOPS_GaussDB_00018__en-us_topic_0000001656561497_uicontrol12915192943311"><b><span id="TPOPS_GaussDB_00018__en-us_topic_0000001656561497_text39091229123315"><strong>Create</strong></span></b></span>.</span></li><li><span>Enter an SLA name.</span></li><li><span>Select an application type for the SLA to be created.</span><p><ol type="a" id="TPOPS_GaussDB_00018__en-us_topic_0000001839143189_ol71011061385"><li id="TPOPS_GaussDB_00018__en-us_topic_0000001839143189_li874192611325">Click <span class="uicontrol" id="TPOPS_GaussDB_00018__en-us_topic_0000001839143189_uicontrol1117412318280"><b><span id="TPOPS_GaussDB_00018__en-us_topic_0000001839143189_text131741534281"><strong>Applications</strong></span></b></span> and select the application for the SLA to be created.<ul id="TPOPS_GaussDB_00018__en-us_topic_0000001839143189_ul157501053341"><li id="TPOPS_GaussDB_00018__en-us_topic_0000001839143189_li3750135143412"><span id="TPOPS_GaussDB_00018__en-us_topic_0000001839143189_text10801323154310"><strong>General SLA</strong></span><p id="TPOPS_GaussDB_00018__en-us_topic_0000001839143189_p144377559348">A general SLA can be applied to resources except filesets, SQL Server, PostgreSQL, Kingbase, Redis, ClickHouse, MongoDB, NAS shares, NAS file systems, Huawei Cloud Stack GaussDB, TDSQL, Kubernetes CSI, TiDB, volumes, common shares, Active Directory, GaussDB T single-node systems, object storage, GaussDB (1.6.0 and later versions), and SAP HANA (as an application in 1.6.0 and later versions).</p>
</li><li id="TPOPS_GaussDB_00018__en-us_topic_0000001839143189_li1512516103413"><span id="TPOPS_GaussDB_00018__en-us_topic_0000001839143189_text1431211194314"><strong>Specific to application</strong></span><p id="TPOPS_GaussDB_00018__en-us_topic_0000001839143189_p1889316245358">Select an application type for the SLA to be created. This section uses <span id="TPOPS_GaussDB_00018__en-us_topic_0000001839143189_text52802054182812"><strong>Specific to application</strong></span> as an example.</p>
</li></ul>
<div class="note" id="TPOPS_GaussDB_00018__en-us_topic_0000001839143189_note1521871141414"><img src="public_sys-resources/note_3.0-en-us.png"><span class="notetitle"> </span><div class="notebody"><p id="TPOPS_GaussDB_00018__en-us_topic_0000001839143189_p3218512141">Only OceanProtect X series backup appliances support NAS file systems.</p>
</div></div>
</li><li id="TPOPS_GaussDB_00018__en-us_topic_0000001839143189_li7586156123316">Click <span class="uicontrol" id="TPOPS_GaussDB_00018__en-us_topic_0000001839143189_uicontrol145664914545"><b>OK</b></span>.</li></ol>
</p></li><li><span>Configure a backup policy.</span><p><ol type="a"><li>Click the <span class="uicontrol" id="TPOPS_GaussDB_00018__en-us_topic_0000001656561497_uicontrol1652983183617"><b><span id="TPOPS_GaussDB_00018__en-us_topic_0000001656561497_text25241931133616"><strong>Backup Policy</strong></span></b></span> icon.</li><li>Configure basic parameters for a backup policy.<p><a href="#TPOPS_GaussDB_00018__table2663151516335">Table 1</a> describes the related parameters.</p>
<div class="p">Set the backup interval, copy retention period, and backup time window based on service requirements. The recommended settings are as follows:<ul><li>The backup interval must be longer than the backup duration.</li><li>The retention period of a full backup copy must be longer than that of a differential backup copy.</li><li>The copy retention period must be longer than the backup interval.</li></ul>
<div class="note"><img src="public_sys-resources/note_3.0-en-us.png"><span class="notetitle"> </span><div class="notebody"><ul><li>At least one backup policy must be created. To add another backup policy, click <span><img src="en-us_image_0000002080452445.png"></span> on the right of the page.</li><li>Only one backup policy can be added for log backup. A maximum of four backup policies can be added for other backup types.</li></ul>
</div></div>
</div>

<div class="tablenoborder"><a name="TPOPS_GaussDB_00018__table2663151516335"></a><a name="table2663151516335"></a><table cellpadding="4" cellspacing="0" summary="" id="TPOPS_GaussDB_00018__table2663151516335" frame="border" border="1" rules="all"><caption><b>Table 1 </b>Basic parameters of a backup policy</caption><colgroup><col style="width:11.899999999999999%"><col style="width:15.25%"><col style="width:72.85000000000001%"></colgroup><thead align="left"><tr><th align="left" class="cellrowborder" colspan="2" valign="top" id="mcps1.3.3.2.5.2.1.2.3.2.4.1.1"><p>Parameter</p>
</th>
<th align="left" class="cellrowborder" valign="top" id="mcps1.3.3.2.5.2.1.2.3.2.4.1.2"><p>Description</p>
</th>
</tr>
</thead>
<tbody><tr><td class="cellrowborder" rowspan="2" valign="top" width="11.899999999999999%" headers="mcps1.3.3.2.5.2.1.2.3.2.4.1.1 "><p><span><strong>Full backup</strong></span></p>
</td>
<td class="cellrowborder" valign="top" width="15.25%" headers="mcps1.3.3.2.5.2.1.2.3.2.4.1.1 "><p><span><strong>Name</strong></span></p>
</td>
<td class="cellrowborder" valign="top" width="72.85000000000001%" headers="mcps1.3.3.2.5.2.1.2.3.2.4.1.2 "><p>Set the name of the backup policy.</p>
</td>
</tr>
<tr><td class="cellrowborder" valign="top" headers="mcps1.3.3.2.5.2.1.2.3.2.4.1.1 "><p>-</p>
</td>
<td class="cellrowborder" valign="top" headers="mcps1.3.3.2.5.2.1.2.3.2.4.1.1 "><div class="p">Configure the backup interval, copy retention period, and backup time window for full backup.<ul id="TPOPS_GaussDB_00018__en-us_topic_0000001839143189_ul06281446133611"><li id="TPOPS_GaussDB_00018__en-us_topic_0000001839143189_li5628184619364">Configure the backup interval and copy retention period for full backup.<ul id="TPOPS_GaussDB_00018__en-us_topic_0000001839143189_ul3912541183319"><li id="TPOPS_GaussDB_00018__en-us_topic_0000001839143189_li1491311419338"><span id="TPOPS_GaussDB_00018__en-us_topic_0000001839143189_text881714512382"><strong>By Year</strong></span><p id="TPOPS_GaussDB_00018__en-us_topic_0000001839143189_p7913141173316">Configure the job to be executed once every year on <em id="TPOPS_GaussDB_00018__en-us_topic_0000001839143189_i8695125961819">xx</em> (month) <em id="TPOPS_GaussDB_00018__en-us_topic_0000001839143189_i8695205941811">xx</em> (day). Configure copies to be retained for <em id="TPOPS_GaussDB_00018__en-us_topic_0000001839143189_i269613594180">xx</em> days, weeks, months, years, or permanently.</p>
<p id="TPOPS_GaussDB_00018__en-us_topic_0000001839143189_p52204181864">If the date does not exist in the year, no copy is generated.</p>
</li><li id="TPOPS_GaussDB_00018__en-us_topic_0000001839143189_li18913134153311"><span id="TPOPS_GaussDB_00018__en-us_topic_0000001839143189_text9120524389"><strong>By Month</strong></span><p id="TPOPS_GaussDB_00018__en-us_topic_0000001839143189_p19131141133318">Configure the job to be executed on <em id="TPOPS_GaussDB_00018__en-us_topic_0000001839143189_i3137640154710">xx</em> (day) (multiple days can be selected) or the last day of each month. Configure copies to be retained for <em id="TPOPS_GaussDB_00018__en-us_topic_0000001839143189_i20137114020478">xx</em> days, weeks, months, years, or permanently.</p>
<p id="TPOPS_GaussDB_00018__en-us_topic_0000001839143189_p131866516465">If the backup job is set to be performed on the <em id="TPOPS_GaussDB_00018__en-us_topic_0000001839143189_i638819152110">xx</em>th day of each month, no copy is generated when the date does not exist in the current month.</p>
</li><li id="TPOPS_GaussDB_00018__en-us_topic_0000001839143189_li79137410332"><span id="TPOPS_GaussDB_00018__en-us_topic_0000001839143189_text107501579380"><strong>By Week</strong></span><p id="TPOPS_GaussDB_00018__en-us_topic_0000001839143189_p091313410338">Configure the job to be executed every Monday, Tuesday, Wednesday, Thursday, Friday, Saturday, or Sunday (you can select multiple options). Configure copies to be retained for <em id="TPOPS_GaussDB_00018__en-us_topic_0000001839143189_i10839155815217">xx</em> days, weeks, months, years, or permanently.</p>
</li><li id="TPOPS_GaussDB_00018__en-us_topic_0000001839143189_li18498191724615"><span id="TPOPS_GaussDB_00018__en-us_topic_0000001839143189_text199032391683"><strong>By Day</strong></span><p id="TPOPS_GaussDB_00018__en-us_topic_0000001839143189_p46219385469">Configure the job to be executed every <em id="TPOPS_GaussDB_00018__en-us_topic_0000001839143189_i563934782212">xx</em> days starting from <em id="TPOPS_GaussDB_00018__en-us_topic_0000001839143189_i11639154719227">xx</em> (year) <em id="TPOPS_GaussDB_00018__en-us_topic_0000001839143189_i14640194713225">xx</em> (month) <em id="TPOPS_GaussDB_00018__en-us_topic_0000001839143189_i176406479225">xx</em> (day). Configure copies to be retained for <em id="TPOPS_GaussDB_00018__en-us_topic_0000001839143189_i1164014713226">xx</em> days, weeks, months, years, or permanently.</p>
</li><li id="TPOPS_GaussDB_00018__en-us_topic_0000001839143189_li426962116468"><span id="TPOPS_GaussDB_00018__en-us_topic_0000001839143189_text14231841203315"><strong>By Hour</strong></span><p id="TPOPS_GaussDB_00018__en-us_topic_0000001839143189_p6350614134914">Configure the job to be executed every <em id="TPOPS_GaussDB_00018__en-us_topic_0000001839143189_i3449105714464">xx</em> hours starting from <em id="TPOPS_GaussDB_00018__en-us_topic_0000001839143189_i1644985754613">xx</em> (year) <em id="TPOPS_GaussDB_00018__en-us_topic_0000001839143189_i1044916576462">xx</em> (month) <em id="TPOPS_GaussDB_00018__en-us_topic_0000001839143189_i15449257134618">xx</em> (day). Configure copies to be retained for <em id="TPOPS_GaussDB_00018__en-us_topic_0000001839143189_i64501457104615">xx</em> days, weeks, months, years, or permanently.</p>
</li></ul>
</li><li id="TPOPS_GaussDB_00018__en-us_topic_0000001839143189_li1881682412376">Set the time period for performing full backup. The full backup job will not be scheduled beyond the time range.<div class="note" id="TPOPS_GaussDB_00018__en-us_topic_0000001839143189_note3335182113214"><span class="notetitle"> NOTE: </span><div class="notebody"><ul id="TPOPS_GaussDB_00018__en-us_topic_0000001839143189_ul64461851101420"><li id="TPOPS_GaussDB_00018__en-us_topic_0000001839143189_li037445621410">If the end time is earlier than or the same as the start time, the end time is actually the end time of the next day.</li><li id="TPOPS_GaussDB_00018__en-us_topic_0000001839143189_li4446145117142">If the backup job is not completed within the specified time window, the system does not stop the backup job, but reports an event.</li><li id="TPOPS_GaussDB_00018__en-us_topic_0000001839143189_li4684315367">Once the retention period expires, the system automatically deletes the expired copies.</li></ul>
</div></div>
</li></ul>
</div>
</td>
</tr>
<tr><td class="cellrowborder" rowspan="2" valign="top" width="11.899999999999999%" headers="mcps1.3.3.2.5.2.1.2.3.2.4.1.1 "><p><span id="TPOPS_GaussDB_00018__oracle_gud_0026_text13286155114306"><strong>Differential Backup</strong></span></p>
</td>
<td class="cellrowborder" valign="top" width="15.25%" headers="mcps1.3.3.2.5.2.1.2.3.2.4.1.1 "><p><span><strong>Name</strong></span></p>
</td>
<td class="cellrowborder" valign="top" width="72.85000000000001%" headers="mcps1.3.3.2.5.2.1.2.3.2.4.1.2 "><p>Set the name of the backup policy.</p>
</td>
</tr>
<tr><td class="cellrowborder" valign="top" headers="mcps1.3.3.2.5.2.1.2.3.2.4.1.1 "><p>-</p>
</td>
<td class="cellrowborder" valign="top" headers="mcps1.3.3.2.5.2.1.2.3.2.4.1.1 "><div class="p">Configure the backup interval, copy retention period, and backup time window for differential backup. <span id="TPOPS_GaussDB_00018__en-us_topic_0000001839143189_ph183019438221">Incremental backup and differential backup cannot coexist.</span><ul id="TPOPS_GaussDB_00018__en-us_topic_0000001839143189_en-us_topic_0000001142022930_ul167919791414"><li id="TPOPS_GaussDB_00018__en-us_topic_0000001839143189_en-us_topic_0000001142022930_li1079119781413">Configure the backup interval and copy retention period for differential backup.<ul id="TPOPS_GaussDB_00018__en-us_topic_0000001839143189_en-us_topic_0000001142022930_ul1679113751412"><li id="TPOPS_GaussDB_00018__en-us_topic_0000001839143189_en-us_topic_0000001142022930_li177910751413"><span id="TPOPS_GaussDB_00018__en-us_topic_0000001839143189_en-us_topic_0000001142022930_text9791187121410"><strong>By Year</strong></span><p id="TPOPS_GaussDB_00018__en-us_topic_0000001839143189_en-us_topic_0000001142022930_p7791117131413">Configure the job to be executed once every year on <em id="TPOPS_GaussDB_00018__en-us_topic_0000001839143189_i1399822714711">xx</em> (month) <em id="TPOPS_GaussDB_00018__en-us_topic_0000001839143189_i09986275477">xx</em> (day). Configure copies to be retained for <em id="TPOPS_GaussDB_00018__en-us_topic_0000001839143189_i1799819274478">xx</em> days, weeks, months, years, or permanently.</p>
<p id="TPOPS_GaussDB_00018__en-us_topic_0000001839143189_p1644311552076">If the date does not exist in the year, no copy is generated.</p>
</li><li id="TPOPS_GaussDB_00018__en-us_topic_0000001839143189_en-us_topic_0000001142022930_li1279112715144"><span id="TPOPS_GaussDB_00018__en-us_topic_0000001839143189_en-us_topic_0000001142022930_text979110717147"><strong>By Month</strong></span><p id="TPOPS_GaussDB_00018__en-us_topic_0000001839143189_en-us_topic_0000001142022930_p179113721413">Configure the job to be executed on <em id="TPOPS_GaussDB_00018__en-us_topic_0000001839143189_i1027414516471">xx</em> (day) (multiple days can be selected) or the last day of each month. Configure copies to be retained for <em id="TPOPS_GaussDB_00018__en-us_topic_0000001839143189_i027419512477">xx</em> days, weeks, months, years, or permanently.</p>
<p id="TPOPS_GaussDB_00018__en-us_topic_0000001839143189_en-us_topic_0000001142022930_p125877114419">If the backup job is set to be performed on the <em id="TPOPS_GaussDB_00018__en-us_topic_0000001839143189_i118641130124812">xx</em>th day of each month, no copy is generated when the date does not exist in the current month.</p>
</li><li id="TPOPS_GaussDB_00018__en-us_topic_0000001839143189_en-us_topic_0000001142022930_li879112716144"><span id="TPOPS_GaussDB_00018__en-us_topic_0000001839143189_en-us_topic_0000001142022930_text27913720144"><strong>By Week</strong></span><p id="TPOPS_GaussDB_00018__en-us_topic_0000001839143189_en-us_topic_0000001142022930_p1079111741416">Configure the job to be executed every Monday, Tuesday, Wednesday, Thursday, Friday, Saturday, or Sunday (you can select multiple options). Configure copies to be retained for <em id="TPOPS_GaussDB_00018__en-us_topic_0000001839143189_i775915475496">xx</em> days, weeks, months, years, or permanently.</p>
</li><li id="TPOPS_GaussDB_00018__en-us_topic_0000001839143189_li1357019205199"><span id="TPOPS_GaussDB_00018__en-us_topic_0000001839143189_text165091219911"><strong>By Day</strong></span><p id="TPOPS_GaussDB_00018__en-us_topic_0000001839143189_p14570162091916">Configure the job to be executed every <em id="TPOPS_GaussDB_00018__en-us_topic_0000001839143189_i6275153110445">xx</em> days starting from <em id="TPOPS_GaussDB_00018__en-us_topic_0000001839143189_i17275183112441">xx</em> (year) <em id="TPOPS_GaussDB_00018__en-us_topic_0000001839143189_i627523154417">xx</em> (month) <em id="TPOPS_GaussDB_00018__en-us_topic_0000001839143189_i527643174419">xx</em> (day). Configure copies to be retained for <em id="TPOPS_GaussDB_00018__en-us_topic_0000001839143189_i17276731164413">xx</em> days, weeks, months, years, or permanently.</p>
</li><li id="TPOPS_GaussDB_00018__en-us_topic_0000001839143189_li49631811181219"><span id="TPOPS_GaussDB_00018__en-us_topic_0000001839143189_text199622111346"><strong>By Hour</strong></span><p id="TPOPS_GaussDB_00018__en-us_topic_0000001839143189_p7963911121219">Configure the job to be executed every <em id="TPOPS_GaussDB_00018__en-us_topic_0000001839143189_i418391312471">xx</em> hours starting from <em id="TPOPS_GaussDB_00018__en-us_topic_0000001839143189_i161830138477">xx</em> (year) <em id="TPOPS_GaussDB_00018__en-us_topic_0000001839143189_i10183171310477">xx</em> (month) <em id="TPOPS_GaussDB_00018__en-us_topic_0000001839143189_i15183813174719">xx</em> (day). Configure copies to be retained for <em id="TPOPS_GaussDB_00018__en-us_topic_0000001839143189_i111832013104716">xx</em> days, weeks, months, years, or permanently.</p>
</li><li id="TPOPS_GaussDB_00018__en-us_topic_0000001839143189_li796311191217"><span id="TPOPS_GaussDB_00018__en-us_topic_0000001839143189_text3628152811345"><strong>By Minute</strong></span><p id="TPOPS_GaussDB_00018__en-us_topic_0000001839143189_p19963121121214">Configure the job to be executed every <em id="TPOPS_GaussDB_00018__en-us_topic_0000001839143189_i51462277506">xx</em> minutes starting from <em id="TPOPS_GaussDB_00018__en-us_topic_0000001839143189_i14146192705015">xx</em> (year) <em id="TPOPS_GaussDB_00018__en-us_topic_0000001839143189_i914682745012">xx</em> (month) <em id="TPOPS_GaussDB_00018__en-us_topic_0000001839143189_i181462276507">xx</em> (day). Configure copies to be retained for <em id="TPOPS_GaussDB_00018__en-us_topic_0000001839143189_i18146427105014">xx</em> days, weeks, months, years, or permanently.</p>
</li></ul>
</li><li id="TPOPS_GaussDB_00018__en-us_topic_0000001839143189_en-us_topic_0000001142022930_li1679107171411">Set the time period for performing differential backup. The differential backup job will not be scheduled beyond the time range.<div class="note" id="TPOPS_GaussDB_00018__en-us_topic_0000001839143189_note153637599371"><span class="notetitle"> NOTE: </span><div class="notebody"><ul id="TPOPS_GaussDB_00018__en-us_topic_0000001839143189_en-us_topic_0000001839143189_ul64461851101420"><li id="TPOPS_GaussDB_00018__en-us_topic_0000001839143189_en-us_topic_0000001839143189_li037445621410">If the end time is earlier than or the same as the start time, the end time is actually the end time of the next day.</li><li id="TPOPS_GaussDB_00018__en-us_topic_0000001839143189_en-us_topic_0000001839143189_li4446145117142">If the backup job is not completed within the specified time window, the system does not stop the backup job, but reports an event.</li><li id="TPOPS_GaussDB_00018__en-us_topic_0000001839143189_en-us_topic_0000001839143189_li4684315367">Once the retention period expires, the system automatically deletes the expired copies.</li></ul>
</div></div>
</li></ul>
</div>
</td>
</tr>
<tr><td class="cellrowborder" rowspan="2" valign="top" width="11.899999999999999%" headers="mcps1.3.3.2.5.2.1.2.3.2.4.1.1 "><p><span><strong>Log Backup</strong></span></p>
</td>
<td class="cellrowborder" valign="top" width="15.25%" headers="mcps1.3.3.2.5.2.1.2.3.2.4.1.1 "><p><span><strong>Name</strong></span></p>
</td>
<td class="cellrowborder" valign="top" width="72.85000000000001%" headers="mcps1.3.3.2.5.2.1.2.3.2.4.1.2 "><p>Set the name of the backup policy. </p>
</td>
</tr>
<tr><td class="cellrowborder" valign="top" headers="mcps1.3.3.2.5.2.1.2.3.2.4.1.1 "><p>-</p>
</td>
<td class="cellrowborder" valign="top" headers="mcps1.3.3.2.5.2.1.2.3.2.4.1.1 "><p>Back up archived logs. Configure the execution time, backup frequency, and copy retention period of <span><strong>Log Backup</strong></span>.</p>
<ul><li id="TPOPS_GaussDB_00018__en-us_topic_0000001839143189_li2514102132014"><span id="TPOPS_GaussDB_00018__en-us_topic_0000001839143189_text10232154917911"><strong>By Day</strong></span><p id="TPOPS_GaussDB_00018__en-us_topic_0000001839143189_p185142219203">Configure the job to be executed every <em id="TPOPS_GaussDB_00018__en-us_topic_0000001839143189_i9923111505">xx</em> days starting from <em id="TPOPS_GaussDB_00018__en-us_topic_0000001839143189_i3929117508">xx</em> (year) <em id="TPOPS_GaussDB_00018__en-us_topic_0000001839143189_i39281145014">xx</em> (month) <em id="TPOPS_GaussDB_00018__en-us_topic_0000001839143189_i17925115504">xx</em> (day). Configure copies to be retained for <em id="TPOPS_GaussDB_00018__en-us_topic_0000001839143189_i19210125013">xx</em> days, weeks, months, years, or permanently.</p>
</li><li id="TPOPS_GaussDB_00018__en-us_topic_0000001839143189_li11514525202"><span id="TPOPS_GaussDB_00018__en-us_topic_0000001839143189_text9177753173410"><strong>By Hour</strong></span><p id="TPOPS_GaussDB_00018__en-us_topic_0000001839143189_p18514722206">Configure the job to be executed every <em id="TPOPS_GaussDB_00018__en-us_topic_0000001839143189_i201851113124716">xx</em> hours starting from <em id="TPOPS_GaussDB_00018__en-us_topic_0000001839143189_i318581364714">xx</em> (year) <em id="TPOPS_GaussDB_00018__en-us_topic_0000001839143189_i1218513134472">xx</em> (month) <em id="TPOPS_GaussDB_00018__en-us_topic_0000001839143189_i161851213154716">xx</em> (day). Configure copies to be retained for <em id="TPOPS_GaussDB_00018__en-us_topic_0000001839143189_i12185201384715">xx</em> days, weeks, months, years, or permanently.</p>
</li><li id="TPOPS_GaussDB_00018__en-us_topic_0000001839143189_li15514102132011"><span id="TPOPS_GaussDB_00018__en-us_topic_0000001839143189_text1930617408347"><strong>By Minute</strong></span><p id="TPOPS_GaussDB_00018__en-us_topic_0000001839143189_p20514424208">Configure the job to be executed every <em id="TPOPS_GaussDB_00018__en-us_topic_0000001839143189_i2016392712501">xx</em> minutes starting from <em id="TPOPS_GaussDB_00018__en-us_topic_0000001839143189_i10163327115010">xx</em> (year) <em id="TPOPS_GaussDB_00018__en-us_topic_0000001839143189_i6163112775015">xx</em> (month) <em id="TPOPS_GaussDB_00018__en-us_topic_0000001839143189_i1163727175013">xx</em> (day). Configure copies to be retained for <em id="TPOPS_GaussDB_00018__en-us_topic_0000001839143189_i616312277507">xx</em> days, weeks, months, years, or permanently.</p>
</li></ul>
<div class="note"><span class="notetitle"> NOTE: </span><div class="notebody"><ul><li>Before backing up logs, ensure that a full backup copy exists.</li><li>You can restore data to a specified point in time only when a log backup copy exists.</li><li>Log backup policies cannot be configured separately.</li></ul>
</div></div>
</td>
</tr>
</tbody>
</table>
</div>
<div class="note"><img src="public_sys-resources/note_3.0-en-us.png"><span class="notetitle"> </span><div class="notebody"><p>A maximum of four full backup policies, four differential backup policies, and one log backup policy can be configured for an SLA. The name of each backup policy can be customized.</p>
</div></div>
</li><li>Configure advanced parameters for a backup policy.<div class="p"><a href="#TPOPS_GaussDB_00018__table4195113413815">Table 2</a> describes the related parameters.
<div class="tablenoborder"><a name="TPOPS_GaussDB_00018__table4195113413815"></a><a name="table4195113413815"></a><table cellpadding="4" cellspacing="0" summary="" id="TPOPS_GaussDB_00018__table4195113413815" frame="border" border="1" rules="all"><caption><b>Table 2 </b>Advanced parameters of a backup policy</caption><colgroup><col style="width:44.46%"><col style="width:55.54%"></colgroup><thead align="left"><tr><th align="left" class="cellrowborder" valign="top" width="44.46%" id="mcps1.3.3.2.5.2.1.3.1.2.2.3.1.1"><p>Parameter</p>
</th>
<th align="left" class="cellrowborder" valign="top" width="55.54%" id="mcps1.3.3.2.5.2.1.3.1.2.2.3.1.2"><p>Description</p>
</th>
</tr>
</thead>
<tbody><tr><td class="cellrowborder" valign="top" width="44.46%" headers="mcps1.3.3.2.5.2.1.3.1.2.2.3.1.1 "><p><strong id="TPOPS_GaussDB_00018__en-us_topic_0000001839143189_b203081655125718">Specify Target Location</strong></p>
</td>
<td class="cellrowborder" valign="top" width="55.54%" headers="mcps1.3.3.2.5.2.1.3.1.2.2.3.1.2 "><div class="p">Specify the target storage location of backup copies.<ul id="TPOPS_GaussDB_00018__en-us_topic_0000001839143189_ul3832679403"><li id="TPOPS_GaussDB_00018__en-us_topic_0000001839143189_li299019528162"><span class="parmvalue" id="TPOPS_GaussDB_00018__en-us_topic_0000001839143189_parmvalue20580546155113"><b>Backup Storage Units</b></span>: A backup storage unit corresponds to a backup cluster node. After a backup storage unit is selected, copies are stored to the storage unit. If the capacity of the storage unit is insufficient, the backup job will fail.<p id="TPOPS_GaussDB_00018__en-us_topic_0000001839143189_p36749546164">For details about how to create a backup storage unit, see "Managing Backup Storage Units" in the <i><cite id="TPOPS_GaussDB_00018__en-us_topic_0000001839143189_cite35358248206">OceanProtect DataBackup 1.5.0-1.6.0 Cluster HA Feature Guide</cite></i>.</p>
</li><li id="TPOPS_GaussDB_00018__en-us_topic_0000001839143189_li168151656101610"><span class="parmvalue" id="TPOPS_GaussDB_00018__en-us_topic_0000001839143189_parmvalue142224995111"><b>Backup Storage Unit Groups</b></span>: A backup storage unit group is a collection of backup storage units. After a backup storage unit group is selected, the system automatically selects a target backup storage unit based on the storage policy of the storage unit group.<p id="TPOPS_GaussDB_00018__en-us_topic_0000001839143189_p15126135815168">For details about how to create a backup storage unit group, see "(Optional) Creating Backup Storage Unit Groups" in the <i><cite id="TPOPS_GaussDB_00018__en-us_topic_0000001839143189_cite961778916">OceanProtect DataBackup 1.5.0-1.6.0 Cluster HA Feature Guide</cite></i>.</p>
</li></ul>
<div class="note" id="TPOPS_GaussDB_00018__en-us_topic_0000001839143189_note06533915171"><span class="notetitle"> NOTE: </span><div class="notebody"><ul id="TPOPS_GaussDB_00018__en-us_topic_0000001839143189_ul2261104811172"><li id="TPOPS_GaussDB_00018__en-us_topic_0000001839143189_li182618487176">For 1.5.0, this parameter is displayed only when you have deployed the cluster HA feature. You can leave the target location unspecified. If you do not specify the target location, the system automatically selects the target storage unit through intelligent balancing.</li><li id="TPOPS_GaussDB_00018__en-us_topic_0000001839143189_li1025484315189">For 1.6.0 and later versions, you must specify the target location.</li></ul>
</div></div>
</div>
</td>
</tr>
<tr><td class="cellrowborder" valign="top" width="44.46%" headers="mcps1.3.3.2.5.2.1.3.1.2.2.3.1.1 "><p><span><strong>Rate Limiting Policies</strong></span></p>
</td>
<td class="cellrowborder" valign="top" width="55.54%" headers="mcps1.3.3.2.5.2.1.3.1.2.2.3.1.2 "><p>Maximum amount of data that can be transmitted by a backup job per second. </p>
<p>Select <a href="TPOPS_GaussDB_00017.html">the created rate limiting policy</a>.</p>
</td>
</tr>
<tr><td class="cellrowborder" valign="top" width="44.46%" headers="mcps1.3.3.2.5.2.1.3.1.2.2.3.1.1 "><p><span><strong>Traffic Control</strong></span></p>
<div class="note" id="TPOPS_GaussDB_00018__note178133318448"><span class="notetitle"> NOTE: </span><div class="notebody"><p id="TPOPS_GaussDB_00018__p481313374417">This function is available only in 1.6.0 or later and requires that GaussDB 2.23.07.260 or later be used.</p>
</div></div>
</td>
<td class="cellrowborder" valign="top" width="55.54%" headers="mcps1.3.3.2.5.2.1.3.1.2.2.3.1.2 "><p>Maximum amount of data that can be transmitted by a backup job per second.</p>
</td>
</tr>
<tr><td class="cellrowborder" valign="top" width="44.46%" headers="mcps1.3.3.2.5.2.1.3.1.2.2.3.1.1 "><p><span><strong>Standby Node Backup</strong></span></p>
<div class="note"><span class="notetitle"> NOTE: </span><div class="notebody"><p id="TPOPS_GaussDB_00018__tpops_gaussdb_00018_p481313374417">This function is available only in 1.6.0 or later and requires that GaussDB 2.23.07.260 or later be used.</p>
</div></div>
</td>
<td class="cellrowborder" valign="top" width="55.54%" headers="mcps1.3.3.2.5.2.1.3.1.2.2.3.1.2 "><p>After this function is enabled, backup on the standby node is enabled. You are advised to enable this function when high data security and service continuity are required.</p>
<div class="note"><span class="notetitle"> NOTE: </span><div class="notebody"><p>This function is not supported for single-node instances and instances earlier than 3.100.0.</p>
</div></div>
</td>
</tr>
<tr><td class="cellrowborder" valign="top" width="44.46%" headers="mcps1.3.3.2.5.2.1.3.1.2.2.3.1.1 "><p><span><strong>Disable Data Compression</strong></span></p>
<div class="note"><span class="notetitle"> NOTE: </span><div class="notebody"><p id="TPOPS_GaussDB_00018__tpops_gaussdb_00018_p481313374417_1">This function is available only in 1.6.0 or later and requires that GaussDB 2.23.07.260 or later be used.</p>
</div></div>
</td>
<td class="cellrowborder" valign="top" width="55.54%" headers="mcps1.3.3.2.5.2.1.3.1.2.2.3.1.2 "><p>If this function is disabled, the storage space occupied by backup data is reduced.</p>
</td>
</tr>
<tr><td class="cellrowborder" valign="top" width="44.46%" headers="mcps1.3.3.2.5.2.1.3.1.2.2.3.1.1 "><div class="p"><span><strong>Restart Archiving</strong></span><div class="note"><span class="notetitle"> NOTE: </span><div class="notebody"><p>This parameter is available only in 1.5.0.SPC26 and later versions.</p>
</div></div>
</div>
</td>
<td class="cellrowborder" valign="top" width="55.54%" headers="mcps1.3.3.2.5.2.1.3.1.2.2.3.1.2 "><div class="p">After this function is enabled, log files are backed up from the time when the last full backup is complete.<div class="note"><span class="notetitle"> NOTE: </span><div class="notebody"><ul><li>To prevent restart archiving from affecting SLA-triggered automatic backup jobs, perform the following operations before enabling the function: Click <span><strong>Disable Protection</strong></span> to disable instance protection and manually trigger a log backup. Disable restart archiving and click <span><strong>Activate Protection</strong></span> to enable instance protection.</li><li>To avoid affecting other instances, ensure that the SLA for which restart archiving is enabled is not associated with other instances.</li></ul>
</div></div>
</div>
</td>
</tr>
<tr><td class="cellrowborder" valign="top" width="44.46%" headers="mcps1.3.3.2.5.2.1.3.1.2.2.3.1.1 "><div class="p"><span id="TPOPS_GaussDB_00018__en-us_topic_0000001839143189_text1535624514432"><strong>Source Deduplication</strong></span><div class="note" id="TPOPS_GaussDB_00018__en-us_topic_0000001839143189_note1141182723518"><span class="notetitle"> NOTE: </span><div class="notebody"><p id="TPOPS_GaussDB_00018__en-us_topic_0000001839143189_p164111271351">Only OceanProtect X series backup appliances and OceanProtect E1000 (with the OceanProtect used as backup storage) support this parameter.</p>
</div></div>
</div>
</td>
<td class="cellrowborder" valign="top" width="55.54%" headers="mcps1.3.3.2.5.2.1.3.1.2.2.3.1.2 "><div class="p">After this function is enabled, the amount of data to be transmitted can be reduced, but more client resources will be occupied.<div class="note" id="TPOPS_GaussDB_00018__en-us_topic_0000001839143189_note8885112682911"><span class="notetitle"> NOTE: </span><div class="notebody"><ul id="TPOPS_GaussDB_00018__en-us_topic_0000001839143189_ul5885426132914"><li id="TPOPS_GaussDB_00018__en-us_topic_0000001839143189_li10885172616299">An agent host can only be linked with one storage unit. To enable source deduplication, select <span class="parmvalue" id="TPOPS_GaussDB_00018__en-us_topic_0000001839143189_parmvalue13417617181719"><b>Backup Storage Unit</b></span> for <span class="parmname" id="TPOPS_GaussDB_00018__en-us_topic_0000001839143189_parmname164341313131719"><b>Specify Target Location</b></span>. Otherwise, a storage unit that is not linked with the agent host may be selected through intelligent balancing. As a result, source deduplication fails to be enabled. If different protected objects are associated with different SLAs, where different backup storage units are specified, select different agent hosts for the protected objects. Otherwise, source deduplication of some backup jobs will fail to be enabled.</li><li id="TPOPS_GaussDB_00018__en-us_topic_0000001839143189_li9885182662911">If an agent host has been linked with a storage unit but is not performing a backup job with source deduplication, you can run the <strong id="TPOPS_GaussDB_00018__en-us_topic_0000001839143189_b1734071915190">dataturbo delete storage_object storage_name=</strong><em id="TPOPS_GaussDB_00018__en-us_topic_0000001839143189_i18291255102216">?</em> command on the agent host to delete the source deduplication link with the storage unit. The value of <strong id="TPOPS_GaussDB_00018__en-us_topic_0000001839143189_b9927131312572">storage_name</strong> in the command can be queried by running the <strong id="TPOPS_GaussDB_00018__en-us_topic_0000001839143189_b11782052162315">dataturbo show storage_object</strong> command. This way, when the agent host performs a backup job with source deduplication, the link between the agent host and a new storage unit can be established.</li><li id="TPOPS_GaussDB_00018__en-us_topic_0000001839143189_li11885142615297">Visit <a href="https://info.support.huawei.com/storage/comp/#/oceanprotect" target="_blank" rel="noopener noreferrer">OceanProtect Compatibility Query</a> to check whether source deduplication is supported by the host OS. If not supported, source deduplication will not take effect after being configured.</li><li id="TPOPS_GaussDB_00018__en-us_topic_0000001839143189_li7883549153219">If a built-in agent (that is, ProtectAgent is co-deployed with the <span id="TPOPS_GaussDB_00018__en-us_topic_0000001839143189_text13835155817114">OceanProtect</span>) is used for backup, source deduplication does not take effect after being configured.</li></ul>
</div></div>
</div>
</td>
</tr>
<tr><td class="cellrowborder" valign="top" width="44.46%" headers="mcps1.3.3.2.5.2.1.3.1.2.2.3.1.1 "><div class="p"><strong id="TPOPS_GaussDB_00018__en-us_topic_0000001839143189_b693713423122">Job Timeout Alarm</strong><div class="note" id="TPOPS_GaussDB_00018__en-us_topic_0000001839143189_note379352823112"><span class="notetitle"> NOTE: </span><div class="notebody"><p id="TPOPS_GaussDB_00018__en-us_topic_0000001839143189_en-us_topic_0000001839143213_p8320153562113">This parameter is available only in 1.6.0 and later versions.</p>
</div></div>
</div>
</td>
<td class="cellrowborder" valign="top" width="55.54%" headers="mcps1.3.3.2.5.2.1.3.1.2.2.3.1.2 "><p>After this function is enabled, an alarm is sent if the job execution time exceeds the time window. The alarm needs to be manually cleared.</p>
</td>
</tr>
<tr><td class="cellrowborder" valign="top" width="44.46%" headers="mcps1.3.3.2.5.2.1.3.1.2.2.3.1.1 "><p><span><strong>Job Failure Alarm</strong></span></p>
</td>
<td class="cellrowborder" valign="top" width="55.54%" headers="mcps1.3.3.2.5.2.1.3.1.2.2.3.1.2 "><p>After this function is enabled, an alarm is automatically sent if a job fails and is automatically cleared after successful execution.</p>
</td>
</tr>
<tr><td class="cellrowborder" valign="top" width="44.46%" headers="mcps1.3.3.2.5.2.1.3.1.2.2.3.1.1 "><p><span><strong>Automatic Retry</strong></span></p>
</td>
<td class="cellrowborder" valign="top" width="55.54%" headers="mcps1.3.3.2.5.2.1.3.1.2.2.3.1.2 "><p>After this function is enabled, the system automatically retries if a backup job fails.</p>
<div class="p">The number of retries ranges from 1 to 5, and the waiting time ranges from 1 to 30 minutes. For example, if the number of retries is set to 3 and the waiting time to 5 minutes, the system makes a total of three retries and performs each retry every 5 minutes.<div class="note" id="TPOPS_GaussDB_00018__en-us_topic_0000001656561497_note139701345152818"><span class="notetitle"> NOTE: </span><div class="notebody"><p id="TPOPS_GaussDB_00018__en-us_topic_0000001656561497_p11970194518283">During automatic retry, the system creates a backup job. The backup job is executed only when it is within the preset time window.</p>
</div></div>
</div>
</td>
</tr>
</tbody>
</table>
</div>
</div>
</li><li>For 1.6.0 and later versions, to generate a WORM copy, enable WORM and set a WORM validity period. Otherwise, skip this step.<div class="p" id="TPOPS_GaussDB_00018__en-us_topic_0000001839143189_p19339194114493">For <strong id="TPOPS_GaussDB_00018__en-us_topic_0000001839143189_b15358729184918">WORM Validity Period</strong>, you can select <strong id="TPOPS_GaussDB_00018__en-us_topic_0000001839143189_b469832194914">Same as the copy retention period</strong> or <strong id="TPOPS_GaussDB_00018__en-us_topic_0000001839143189_b4820353104917">Custom validity period</strong>.<div class="note" id="TPOPS_GaussDB_00018__en-us_topic_0000001839143189_note8945151620502"><img src="public_sys-resources/note_3.0-en-us.png"><span class="notetitle"> </span><div class="notebody"><ul id="TPOPS_GaussDB_00018__en-us_topic_0000001839143189_ul2550728175518"><li id="TPOPS_GaussDB_00018__en-us_topic_0000001839143189_li103014415565">WORM copies cannot be deleted or their validity periods cannot be shortened.</li><li id="TPOPS_GaussDB_00018__en-us_topic_0000001839143189_li9171132315916">The custom WORM validity period cannot be longer than the copy retention period.</li><li id="TPOPS_GaussDB_00018__en-us_topic_0000001839143189_li976612319580">A WORM copy cannot be changed to a non-WORM copy within its validity period.</li></ul>
</div></div>
</div>
</li><li>Click <span class="uicontrol"><b>OK</b></span>.</li></ol>
</p></li><li><span>(Optional) Configure an archive policy.</span><p><p>The built-in storage space of the <span>OceanProtect</span> is limited. You are advised to archive copy data to external storage for long-term retention.</p>
<p>You can configure an archive policy by clicking the <span class="uicontrol"><b><span><strong>Archive Policy</strong></span></b></span> icon or by modifying the SLA.</p>
<p>For details about how to configure an archive policy, see <a href="TPOPS_GaussDB_00034.html">Archiving</a>.</p>
</p></li><li><span>(Optional) Configure a replication policy.</span><p><p>The <span>OceanProtect</span> allows you to replicate local data to a remote data center. If a disaster occurs, data copies in the remote data center can be used to restore production data and services can be taken over, achieving remote data protection.</p>
<p>You can configure a replication policy by clicking <span class="uicontrol"><b><span><strong>Replication Policy</strong></span></b></span> or by modifying the SLA.</p>
<p>For details about how to configure a replication policy, see <a href="TPOPS_GaussDB_00022.html">Replication</a>.</p>
<div class="note"><img src="public_sys-resources/note_3.0-en-us.png"><span class="notetitle"> </span><div class="notebody"><p id="TPOPS_GaussDB_00018__en-us_topic_0000001839143189_p187474161610">For 1.6.0 and later versions:</p>
<ul id="TPOPS_GaussDB_00018__en-us_topic_0000001839143189_ul1078182475012"><li id="TPOPS_GaussDB_00018__en-us_topic_0000001839143189_li83901215999">The WORM validity period of the backup policy in the SLA must be shorter than the copy retention period in the replication policy.</li><li id="TPOPS_GaussDB_00018__en-us_topic_0000001839143189_li878324105017">If WORM is not configured at the local end but configured at the target end, the WORM validity period is the same as the replication copy retention period.</li><li id="TPOPS_GaussDB_00018__en-us_topic_0000001839143189_li07815248507">If WORM is configured at the local end but not at the target end, the WORM validity period of replication copies is the same as that of WORM copies at the local end. The retention period of replication copies is greater than or equal to the WORM validity period of backup copies at the local end.</li><li id="TPOPS_GaussDB_00018__en-us_topic_0000001839143189_li1278624195020">If WORM is configured at both the local and target ends and WORM is configured by resource in the WORM configuration of <strong id="TPOPS_GaussDB_00018__en-us_topic_0000001839143189_b78231650163717">Data Security</strong> at the target end, all replication copies will have WORM enabled, and the WORM validity period is the same as the replication copy retention period.</li><li id="TPOPS_GaussDB_00018__en-us_topic_0000001839143189_li127819245503">At the local end, if you configure local backup copies to be retained permanently and set <strong id="TPOPS_GaussDB_00018__en-us_topic_0000001839143189_b20511104361110">WORM Validity Period</strong> to <strong id="TPOPS_GaussDB_00018__en-us_topic_0000001839143189_b851224341112">Same as the copy retention period</strong>, the WORM validity period is permanent. After a backup copy is generated, if you modify the SLA policy (by adding a replication policy and setting <strong id="TPOPS_GaussDB_00018__en-us_topic_0000001839143189_b115122018172413">Replication and Retention Rules</strong> to <strong id="TPOPS_GaussDB_00018__en-us_topic_0000001839143189_b9172163882417">Replicate all copies</strong>), the WORM validity period at the target end is the same as the retention period of replication copies.</li></ul>
</div></div>
</p></li><li><span>Click <span class="uicontrol"><b>OK</b></span>.</span></li></ol>
</div>
</div>
<div>
<div class="familylinks">
<div class="parentlink"><strong>Parent topic:</strong> <a href="TPOPS_GaussDB_00010.html">Backing Up GaussDB Instances</a></div>
</div>
</div>

<div class="hrcopyright"><hr size="2"></div><div class="hwcopyright">Copyright &copy; Huawei Technologies Co., Ltd.</div></body>
</html>