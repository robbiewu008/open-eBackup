<!--
  This file is a part of the open-eBackup project.
  This Source Code Form is subject to the terms of the Mozilla Public License, v. 2.0.
  If a copy of the MPL was not distributed with this file, You can obtain one at
  http://mozilla.org/MPL/2.0/.
  
  Copyright (c) [2024] Huawei Technologies Co.,Ltd.
  
  THIS SOFTWARE IS PROVIDED ON AN "AS IS" BASIS, WITHOUT WARRANTIES OF ANY KIND,
  EITHER EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO NON-INFRINGEMENT,
  MERCHANTABILITY OR FIT FOR A PARTICULAR PURPOSE.
  -->


<!--
  This file is a part of the open-eBackup project.
  This Source Code Form is subject to the terms of the Mozilla Public License, v. 2.0.
  If a copy of the MPL was not distributed with this file, You can obtain one at
  http://mozilla.org/MPL/2.0/.
  
  Copyright (c) [2024] Huawei Technologies Co.,Ltd.
  
  THIS SOFTWARE IS PROVIDED ON AN "AS IS" BASIS, WITHOUT WARRANTIES OF ANY KIND,
  EITHER EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO NON-INFRINGEMENT,
  MERCHANTABILITY OR FIT FOR A PARTICULAR PURPOSE.
  -->

<!--
  This file is a part of the open-eBackup project.
  This Source Code Form is subject to the terms of the Mozilla Public License, v. 2.0.
  If a copy of the MPL was not distributed with this file, You can obtain one at
  http://mozilla.org/MPL/2.0/.
  
  Copyright (c) [2024] Huawei Technologies Co.,Ltd.
  
  THIS SOFTWARE IS PROVIDED ON AN "AS IS" BASIS, WITHOUT WARRANTIES OF ANY KIND,
  EITHER EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO NON-INFRINGEMENT,
  MERCHANTABILITY OR FIT FOR A PARTICULAR PURPOSE.
  -->

<!--
  This file is a part of the open-eBackup project.
  This Source Code Form is subject to the terms of the Mozilla Public License, v. 2.0.
  If a copy of the MPL was not distributed with this file, You can obtain one at
  http://mozilla.org/MPL/2.0/.
  
  Copyright (c) [2024] Huawei Technologies Co.,Ltd.
  
  THIS SOFTWARE IS PROVIDED ON AN "AS IS" BASIS, WITHOUT WARRANTIES OF ANY KIND,
  EITHER EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO NON-INFRINGEMENT,
  MERCHANTABILITY OR FIT FOR A PARTICULAR PURPOSE.
  -->

<!DOCTYPE html
  PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en-us" xml:lang="en-us">
<head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
   
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="DC.Type" content="topic">
<meta name="DC.Title" content="Creating an SLA">
<meta name="product" content="">
<meta name="DC.Relation" scheme="URI" content="en-us_topic_0000001283134340.html">
<meta name="prodname" content="">
<meta name="version" content="">
<meta name="brand" content="Anti-Ransomware ProtectManager">
<meta name="DC.Publisher" content="20220726">
<meta name="DC.Format" content="XHTML">
<meta name="DC.Identifier" content="EN-US_TOPIC_0000001283134344">
<meta name="DC.Language" content="en-us">
<link rel="stylesheet" type="text/css" href="public_sys-resources/commonltr.css">
<title>Creating an SLA</title>
</head>
<body style="clear:both; padding-left:10px; padding-top:5px; padding-right:5px; padding-bottom:5px"><a name="EN-US_TOPIC_0000001283134344"></a><a name="EN-US_TOPIC_0000001283134344"></a>

<h1 class="topictitle1">Creating an SLA</h1>
<div id="body0000001188956464"><p id="EN-US_TOPIC_0000001283134344__p1232219182511">This section describes how to create an SLA and create a ransomware detection snapshot for a file system.</p>
<div class="section" id="EN-US_TOPIC_0000001283134344__section8564386224"><h4 class="sectiontitle">Precautions</h4><ul id="EN-US_TOPIC_0000001283134344__ul8881201542213"><li id="EN-US_TOPIC_0000001283134344__li1810135564415">Ransomware detection snapshots cannot be created for file systems whose names start with <strong id="EN-US_TOPIC_0000001283134344__b11419276415">pvc_</strong> created through HyperDetect.</li><li id="EN-US_TOPIC_0000001283134344__li122562029132317">Clone file systems do not support ransomware detection snapshots.</li><li id="EN-US_TOPIC_0000001283134344__li13690759202313">After HyperMetro brain-split occurs, the end that fails arbitration does not support ransomware detection snapshots.</li><li id="EN-US_TOPIC_0000001283134344__li931275954519">You are advised to create the same SLA at the primary and secondary ends of HyperMetro. The SLA configured at the secondary end does not take effect immediately. It takes effect after a primary/secondary switchover.</li></ul>
</div>
<div class="section" id="EN-US_TOPIC_0000001283134344__section98912026153513"><h4 class="sectiontitle">Procedure</h4><ol id="EN-US_TOPIC_0000001283134344__ol0598140123514"><li id="EN-US_TOPIC_0000001283134344__li149381918143112"><span>Choose <span class="menucascade" id="EN-US_TOPIC_0000001283134344__menucascade2811144417812"><b><span class="uicontrol" id="EN-US_TOPIC_0000001283134344__uicontrol10811144411812"><span id="EN-US_TOPIC_0000001283134344__text18182131310312"><strong>Protect</strong></span></span></b> &gt; <b><span class="uicontrol" id="EN-US_TOPIC_0000001283134344__uicontrol9997148581"><span id="EN-US_TOPIC_0000001283134344__text96132449461"><strong>Protection Policies</strong></span></span></b> &gt; <b><span class="uicontrol" id="EN-US_TOPIC_0000001283134344__uicontrol1741254081"><span id="EN-US_TOPIC_0000001283134344__text827262943120"><strong>SLAs</strong></span></span></b></span>.</span></li><li id="EN-US_TOPIC_0000001283134344__li85725345317"><span>Click <span class="uicontrol" id="EN-US_TOPIC_0000001283134344__en-us_topic_0000001264095230_uicontrol12915192943311"><b><span id="EN-US_TOPIC_0000001283134344__en-us_topic_0000001264095230_text39091229123315"><strong>Create</strong></span></b></span>.</span></li><li id="EN-US_TOPIC_0000001283134344__li632243103212"><span>Enter an SLA name.</span></li><li id="EN-US_TOPIC_0000001283134344__li167542484582"><span>Click the <span class="uicontrol" id="EN-US_TOPIC_0000001283134344__uicontrol18235203385915"><b><span id="EN-US_TOPIC_0000001283134344__text18581185141514">Ransomware Detection Snapshot Backup Policy</span></b></span> icon.</span></li><li id="EN-US_TOPIC_0000001283134344__li148724933815"><span>Set basic parameters on the <span class="uicontrol" id="EN-US_TOPIC_0000001283134344__uicontrol1899025917116"><b>Ransomware Detection Snapshot Backup Policy</b></span> page.</span><p><p id="EN-US_TOPIC_0000001283134344__p10861142420492"><strong id="EN-US_TOPIC_0000001283134344__b158725919464">Periodic</strong> and <strong id="EN-US_TOPIC_0000001283134344__b018081116476">Specified Time</strong> backup modes are supported.</p>
<p id="EN-US_TOPIC_0000001283134344__p18912123515014"><a href="#EN-US_TOPIC_0000001283134344__table1591417351806">Table 1</a> describes the related parameters.</p>
<div class="p" id="EN-US_TOPIC_0000001283134344__p1191213351402">Set the ransomware detection snapshot backup interval, backup window, and snapshot retention period based on service requirements. Suggestions are as follows:<ul id="EN-US_TOPIC_0000001283134344__ul169120351012"><li id="EN-US_TOPIC_0000001283134344__li2091819292110">If the file system to be protected belongs to the secondary end of a remote replication pair, ensure that the backup window of the storage system is different from the replication window of the remote replication pair. Otherwise, the backup job may fail.</li><li id="EN-US_TOPIC_0000001283134344__li11556248153216">The intelligent ransomware detection rate is about 50,000 files per minute. Evaluate the backup interval based on the number of files in the file system. It is recommended that the backup interval be longer than the time required for intelligent ransomware detection to reduce detection job stacking.</li><li id="EN-US_TOPIC_0000001283134344__li139122353016">The execution time of the initial backup should be the same as the start time of the backup time window.</li><li id="EN-US_TOPIC_0000001283134344__li129129359010">The copy retention period must be longer than an interval between two backups.</li></ul>
</div>

<div class="tablenoborder"><a name="EN-US_TOPIC_0000001283134344__table1591417351806"></a><a name="table1591417351806"></a><table cellpadding="4" cellspacing="0" summary="" id="EN-US_TOPIC_0000001283134344__table1591417351806" frame="border" border="1" rules="all"><caption><b>Table 1 </b>Basic parameters of a ransomware detection snapshot backup policy</caption><colgroup><col style="width:10.83%"><col style="width:13.889999999999999%"><col style="width:75.28%"></colgroup><thead align="left"><tr id="EN-US_TOPIC_0000001283134344__row391217351202"><th align="left" class="cellrowborder" colspan="2" valign="top" id="mcps1.3.3.2.5.2.4.2.4.1.1"><p id="EN-US_TOPIC_0000001283134344__p591273518016">Scenario</p>
</th>
<th align="left" class="cellrowborder" valign="top" id="mcps1.3.3.2.5.2.4.2.4.1.2"><p id="EN-US_TOPIC_0000001283134344__p2912103510019">Description</p>
</th>
</tr>
</thead>
<tbody><tr id="EN-US_TOPIC_0000001283134344__row19132351607"><td class="cellrowborder" colspan="2" valign="top" headers="mcps1.3.3.2.5.2.4.2.4.1.1 "><p id="EN-US_TOPIC_0000001283134344__p81561627194619">-</p>
</td>
<td class="cellrowborder" valign="top" headers="mcps1.3.3.2.5.2.4.2.4.1.2 "><div class="p" id="EN-US_TOPIC_0000001283134344__p157911675147">Configure the initial execution time, backup frequency, copy retention period, and backup time window for ransomware detection snapshot backup.<ul id="EN-US_TOPIC_0000001283134344__en-us_topic_0000001506280289_ul167919791414"><li id="EN-US_TOPIC_0000001283134344__en-us_topic_0000001506280289_li1079119781413">Configure the backup frequency and copy retention period for ransomware detection snapshot backup.<ul id="EN-US_TOPIC_0000001283134344__en-us_topic_0000001506280289_ul1679113751412"><li id="EN-US_TOPIC_0000001283134344__en-us_topic_0000001506280289_li177910751413"><span id="EN-US_TOPIC_0000001283134344__en-us_topic_0000001506280289_text9791187121410"><strong>By Year</strong></span><p id="EN-US_TOPIC_0000001283134344__en-us_topic_0000001506280289_p7791117131413">Configure the job to be executed once every year on <em id="EN-US_TOPIC_0000001283134344__en-us_topic_0000001506280289_i23397917115">xx</em> (month) <em id="EN-US_TOPIC_0000001283134344__en-us_topic_0000001506280289_i1340897110">xx</em> (day). Configure copies to be retained for <em id="EN-US_TOPIC_0000001283134344__en-us_topic_0000001506280289_i23401891011">xx</em> days, weeks, months, years, or permanently.</p>
<p id="EN-US_TOPIC_0000001283134344__en-us_topic_0000001506280289_p62586191379">If the date does not exist in the year, no copy is generated.</p>
</li><li id="EN-US_TOPIC_0000001283134344__en-us_topic_0000001506280289_li1279112715144"><span id="EN-US_TOPIC_0000001283134344__en-us_topic_0000001506280289_text979110717147"><strong>By Month</strong></span><p id="EN-US_TOPIC_0000001283134344__en-us_topic_0000001506280289_p179113721413">Configure the job to be executed on <em id="EN-US_TOPIC_0000001283134344__en-us_topic_0000001506280289_i1698105693711">xx</em> (day) (multiple days can be selected) or the last day of each month. Configure copies to be retained for <em id="EN-US_TOPIC_0000001283134344__en-us_topic_0000001506280289_i1169955618370">xx</em> days, weeks, months, years, or permanently.</p>
<p id="EN-US_TOPIC_0000001283134344__en-us_topic_0000001506280289_p125877114419">If the backup job is set to be executed once on the <em id="EN-US_TOPIC_0000001283134344__en-us_topic_0000001506280289_i169791793386">xx</em>th day of each month, no copy is generated when the date does not exist in the current month.</p>
</li><li id="EN-US_TOPIC_0000001283134344__en-us_topic_0000001506280289_li879112716144"><span id="EN-US_TOPIC_0000001283134344__en-us_topic_0000001506280289_text27913720144"><strong>By Week</strong></span><p id="EN-US_TOPIC_0000001283134344__en-us_topic_0000001506280289_p1079111741416">Configure the job to be executed every Monday, Tuesday, Wednesday, Thursday, Friday, Saturday, or Sunday (you can select multiple options). Configure copies to be retained for <em id="EN-US_TOPIC_0000001283134344__en-us_topic_0000001506280289_i14734323134">xx</em> days, weeks, months, years, or permanently.</p>
</li><li id="EN-US_TOPIC_0000001283134344__en-us_topic_0000001506280289_li251355615915"><span id="EN-US_TOPIC_0000001283134344__en-us_topic_0000001506280289_text1391110711343"><strong>By day</strong></span><p id="EN-US_TOPIC_0000001283134344__en-us_topic_0000001506280289_p175137561491">Set the backup job to be performed every <em id="EN-US_TOPIC_0000001283134344__en-us_topic_0000001506280289_i899411416262">xx</em> days starting from <em id="EN-US_TOPIC_0000001283134344__en-us_topic_0000001506280289_i89941141142616">xx</em> (year) <em id="EN-US_TOPIC_0000001283134344__en-us_topic_0000001506280289_i2995194110268">xx</em> (month) <em id="EN-US_TOPIC_0000001283134344__en-us_topic_0000001506280289_i2099544119263">xx</em> (day). Copies are retained for <em id="EN-US_TOPIC_0000001283134344__en-us_topic_0000001506280289_i17995241182616">xx</em> days, <em id="EN-US_TOPIC_0000001283134344__en-us_topic_0000001506280289_i1899612416263">xx</em> weeks, <em id="EN-US_TOPIC_0000001283134344__en-us_topic_0000001506280289_i15996134172617">xx</em> months, <em id="EN-US_TOPIC_0000001283134344__en-us_topic_0000001506280289_i999694114267">xx</em> years, or permanently.</p>
</li><li id="EN-US_TOPIC_0000001283134344__en-us_topic_0000001506280289_li17513125616918"><span id="EN-US_TOPIC_0000001283134344__en-us_topic_0000001506280289_text11653155316339"><strong>By Hour</strong></span><p id="EN-US_TOPIC_0000001283134344__en-us_topic_0000001506280289_p451312561795">Configure the job to be executed every <em id="EN-US_TOPIC_0000001283134344__en-us_topic_0000001506280289_i1486312101246">xx</em> hours starting from <em id="EN-US_TOPIC_0000001283134344__en-us_topic_0000001506280289_i7863610748">xx</em> (year) <em id="EN-US_TOPIC_0000001283134344__en-us_topic_0000001506280289_i17863131012416">xx</em> (month) <em id="EN-US_TOPIC_0000001283134344__en-us_topic_0000001506280289_i386391017411">xx</em> (day). Configure copies to be retained for <em id="EN-US_TOPIC_0000001283134344__en-us_topic_0000001506280289_i0863710243">xx</em> days, weeks, months, years, or permanently.</p>
</li><li id="EN-US_TOPIC_0000001283134344__en-us_topic_0000001506280289_li108498361016"><span id="EN-US_TOPIC_0000001283134344__en-us_topic_0000001506280289_text4119140183416"><strong>By Minute</strong></span><p id="EN-US_TOPIC_0000001283134344__en-us_topic_0000001506280289_p178491339103">Configure the job to be executed every <em id="EN-US_TOPIC_0000001283134344__en-us_topic_0000001506280289_i1142214482314">xx</em> minutes starting from <em id="EN-US_TOPIC_0000001283134344__en-us_topic_0000001506280289_i34225486310">xx</em> (year) <em id="EN-US_TOPIC_0000001283134344__en-us_topic_0000001506280289_i12422144812312">xx</em> (month) <em id="EN-US_TOPIC_0000001283134344__en-us_topic_0000001506280289_i4422448433">xx</em> (day). Configure copies to be retained for <em id="EN-US_TOPIC_0000001283134344__en-us_topic_0000001506280289_i14422184810318">xx</em> days, weeks, months, years, or permanently.</p>
</li></ul>
</li><li id="EN-US_TOPIC_0000001283134344__en-us_topic_0000001506280289_li1679107171411">Configure the time period during which ransomware detection snapshot backup can be performed. Ransomware detection snapshot backup jobs will not be scheduled beyond this time period.<div class="note" id="EN-US_TOPIC_0000001283134344__en-us_topic_0000001506280289_note77917711419"><span class="notetitle"> NOTE: </span><div class="notebody"><ul id="EN-US_TOPIC_0000001283134344__en-us_topic_0000001506280289_ul64461851101420"><li id="EN-US_TOPIC_0000001283134344__en-us_topic_0000001506280289_li037445621410">If the end time is earlier than or the same as the start time, the end time is actually the end time of the next day.</li><li id="EN-US_TOPIC_0000001283134344__en-us_topic_0000001506280289_li4446145117142">If the backup job is not completed within the specified time window, the system does not stop the backup job, but reports an event.</li><li id="EN-US_TOPIC_0000001283134344__en-us_topic_0000001506280289_li4684315367">Once the retention period expires, the system automatically deletes the expired copies.</li></ul>
</div></div>
</li></ul>
</div>
</td>
</tr>
</tbody>
</table>
</div>
</p></li><li id="EN-US_TOPIC_0000001283134344__li17967833631"><span>Set advanced parameters of the ransomware detection snapshot backup policy.</span><p><div class="p" id="EN-US_TOPIC_0000001283134344__p1915143519019"><a href="#EN-US_TOPIC_0000001283134344__table79151351804">Table 2</a> describes the related parameters.
<div class="tablenoborder"><a name="EN-US_TOPIC_0000001283134344__table79151351804"></a><a name="table79151351804"></a><table cellpadding="4" cellspacing="0" summary="" id="EN-US_TOPIC_0000001283134344__table79151351804" frame="border" border="1" rules="all"><caption><b>Table 2 </b>Advanced parameters of a ransomware detection snapshot backup policy</caption><colgroup><col style="width:30.06%"><col style="width:69.94%"></colgroup><thead align="left"><tr id="EN-US_TOPIC_0000001283134344__row791411353020"><th align="left" class="cellrowborder" valign="top" width="30.06%" id="mcps1.3.3.2.6.2.1.2.2.3.1.1"><p id="EN-US_TOPIC_0000001283134344__p1291453517013">Parameter</p>
</th>
<th align="left" class="cellrowborder" valign="top" width="69.94%" id="mcps1.3.3.2.6.2.1.2.2.3.1.2"><p id="EN-US_TOPIC_0000001283134344__p491413351904">Description</p>
</th>
</tr>
</thead>
<tbody><tr id="EN-US_TOPIC_0000001283134344__row291417351304"><td class="cellrowborder" valign="top" width="30.06%" headers="mcps1.3.3.2.6.2.1.2.2.3.1.1 "><p id="EN-US_TOPIC_0000001283134344__p189144351802"><span id="EN-US_TOPIC_0000001283134344__text107931420192718"><strong>Uninfected Snapshot Lock</strong></span></p>
</td>
<td class="cellrowborder" valign="top" width="69.94%" headers="mcps1.3.3.2.6.2.1.2.2.3.1.2 "><p id="EN-US_TOPIC_0000001283134344__p11872124113514">Uninfected snapshots are locked. This option is disabled by default. After this function is enabled, uninfected snapshots will change to secure snapshots, and the copy retention period will be prolonged. Modification or deletion is not allowed before the copies expire.</p>
</td>
</tr>
<tr id="EN-US_TOPIC_0000001283134344__row691510358017"><td class="cellrowborder" valign="top" width="30.06%" headers="mcps1.3.3.2.6.2.1.2.2.3.1.1 "><p id="EN-US_TOPIC_0000001283134344__p8915535609"><span id="EN-US_TOPIC_0000001283134344__text9915735708"><strong>Automatic Retry</strong></span></p>
</td>
<td class="cellrowborder" valign="top" width="69.94%" headers="mcps1.3.3.2.6.2.1.2.2.3.1.2 "><p id="EN-US_TOPIC_0000001283134344__p59151935109">This option is enabled by default. If a ransomware detection snapshot backup job fails, the system automatically retries the job.</p>
<div class="p" id="EN-US_TOPIC_0000001283134344__p159158351007">The number of retries ranges from 1 to 5, and the waiting time ranges from 1 to 30 minutes. For example, if the number of retries is set to 3 and the waiting time to 5 minutes, the system makes a total of three retries and performs each retry every 5 minutes.<div class="note" id="EN-US_TOPIC_0000001283134344__note1191518351206"><span class="notetitle"> NOTE: </span><div class="notebody"><p id="EN-US_TOPIC_0000001283134344__p49151035302">During automatic retry, the system creates a ransomware detection snapshot backup job. The backup job is executed only when it is within the preset time window.</p>
</div></div>
</div>
</td>
</tr>
</tbody>
</table>
</div>
</div>
</p></li><li id="EN-US_TOPIC_0000001283134344__li1618195321716"><span>Click <span class="uicontrol" id="EN-US_TOPIC_0000001283134344__uicontrol65831059121713"><b><span id="EN-US_TOPIC_0000001283134344__text1833112168332"><strong>OK</strong></span></b></span> to return to the SLA creation page.</span></li><li id="EN-US_TOPIC_0000001283134344__li1092814385513"><span>Click <span class="uicontrol" id="EN-US_TOPIC_0000001283134344__uicontrol29131271161"><b><span id="EN-US_TOPIC_0000001283134344__text12104162233310"><strong>OK</strong></span></b></span>. The SLA is created.</span></li></ol>
</div>
</div>
<div>
<div class="familylinks">
<div class="parentlink"><strong>Parent topic:</strong> <a href="en-us_topic_0000001283134340.html">Creating a Ransomware Detection Snapshot</a></div>
</div>
</div>

<div class="hrcopyright"><hr size="2"></div><div class="hwcopyright">Copyright &copy; Huawei Technologies Co., Ltd.</div></body>
</html>