<!--
  This file is a part of the open-eBackup project.
  This Source Code Form is subject to the terms of the Mozilla Public License, v. 2.0.
  If a copy of the MPL was not distributed with this file, You can obtain one at
  http://mozilla.org/MPL/2.0/.
  
  Copyright (c) [2024] Huawei Technologies Co.,Ltd.
  
  THIS SOFTWARE IS PROVIDED ON AN "AS IS" BASIS, WITHOUT WARRANTIES OF ANY KIND,
  EITHER EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO NON-INFRINGEMENT,
  MERCHANTABILITY OR FIT FOR A PARTICULAR PURPOSE.
  -->


<!DOCTYPE html
  PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en-us" xml:lang="en-us">
<head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
   
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="DC.Type" content="topic">
<meta name="DC.Title" content="Step 12: Performing Backup">
<meta name="product" content="">
<meta name="DC.Relation" scheme="URI" content="en-us_topic_0000002164816778.html">
<meta name="prodname" content="">
<meta name="version" content="">
<meta name="brand" content="">
<meta name="DC.Publisher" content="20250306">
<meta name="prodname" content="csbs">
<meta name="documenttype" content="usermanual">
<meta name="DC.Format" content="XHTML">
<meta name="DC.Identifier" content="EN-US_TOPIC_0000002164816726">
<meta name="DC.Language" content="en-us">
<link rel="stylesheet" type="text/css" href="public_sys-resources/commonltr.css">
<title>Step 12: Performing Backup</title>
</head>
<body style="clear:both; padding-left:10px; padding-top:5px; padding-right:5px; padding-bottom:5px"><a name="EN-US_TOPIC_0000002164816726"></a><a name="EN-US_TOPIC_0000002164816726"></a>

<h1 class="topictitle1">Step 12: Performing Backup</h1>
<div><p>Before performing backup, you need to associate the resources to be protected with a specified SLA. The system protects the resources and periodically executes backup jobs based on the SLA. You can perform a backup job immediately through manual backup.</p>
<div class="section"><h4 class="sectiontitle">Precautions</h4><ul><li>A cloud server can be backed up only when it is in the running, stopped, or suspended state.</li><li>A maximum of 24 disks can be mounted to a host where the client is installed. Therefore, if 24 disks have been mounted to a host where the client is installed during backup, the system will execute the backup job when there are idle slots.</li></ul>
</div>
<div class="section"><h4 class="sectiontitle">Context</h4><ul><li>During manual backup, parameters (except <span class="uicontrol"><b><span><strong>Automatic Retry</strong></span></b></span>) defined in the SLA are applied to the manual backup job.</li><li>Copies generated by manual backup are retained for the period defined in the SLA.<ul><li>For 1.5.0: If the protection policy selected during manual backup is not defined in the SLA, the generated backup copies will be retained permanently. If full backup is not defined in the SLA but selected during manual backup, the copies generated by the manual full backup are retained permanently.</li><li>For 1.6.0 and later versions: If the protection policy selected during manual backup is not defined in the SLA, the retention period of the generated backup copies is the same as that in the protection policy defined in the SLA.</li></ul>
</li><li>If a replication or archive policy has been defined in the SLA, the system will perform replication or archiving once based on the SLA when you perform manual backup.</li></ul>
</div>
<div class="section"><h4 class="sectiontitle">Procedure</h4><ol><li><span>Choose <span class="uicontrol" id="EN-US_TOPIC_0000002164816726__en-us_topic_0000002164656970_en-us_topic_0000002199964685_uicontrol43503413412"><b><span id="EN-US_TOPIC_0000002164816726__en-us_topic_0000002164656970_en-us_topic_0000002199964685_text1135133411415"><strong>Protection</strong></span> &gt; Cloud Platforms &gt; OpenStack</b></span>.</span></li><li><span>Periodically back up a project.</span><p><ol type="a"><li>Click the <strong>Project</strong> tab and select the project to be protected.</li><li>Click <span class="uicontrol"><b><span><strong>Protect</strong></span></b></span>.<p>The system backs up all cloud servers in the project.</p>
</li><li>Select a preset or user-defined SLA.<p>You can also click <span class="uicontrol"><b><span><strong>Create</strong></span></b></span> to create an SLA.</p>
<div class="note"><img src="public_sys-resources/note_3.0-en-us.png"><span class="notetitle"> </span><div class="notebody"><p id="EN-US_TOPIC_0000002164816726__en-us_topic_0000002200146973_p125947145711"><span id="EN-US_TOPIC_0000002164816726__en-us_topic_0000002200146973_ph1413818422327">If a WORM policy has been configured for the resources to be protected, select an SLA without a WORM policy to avoid WORM policy conflicts.</span></p>
</div></div>
</li><li id="EN-US_TOPIC_0000002164816726__li1316316472413">Select the host where the client is installed.<p id="EN-US_TOPIC_0000002164816726__p13689185885118"><a name="EN-US_TOPIC_0000002164816726__li1316316472413"></a><a name="li1316316472413"></a>If no host is selected, the system selects one or more hosts from the hosts configured during resource registration to perform backup.</p>
</li><li>Set the parameters as follows:<ol class="substepthirdol"><li>Determine whether to overwrite existing SLAs of the cloud servers. <strong>Retain existing SLAs of the cloud server</strong> is selected by default.<div class="note"><img src="public_sys-resources/note_3.0-en-us.png"><span class="notetitle"> </span><div class="notebody"><ul><li>Overwriting SLAs associated with cloud servers<ul><li>For 1.5.0, when protection is created or modified, the system automatically overwrites the SLAs associated with the cloud servers with the SLA of the project.</li><li>For 1.6.0 and later versions: After the project is scanned, the system automatically overwrites the SLAs of the cloud servers with the SLA of the project.</li></ul>
</li><li>Retaining SLAs associated with cloud servers</li></ul>
</div></div>
</li><li>You can select one or more of the following options for <strong>SLA Application Policy</strong>:<ul><li>Apply the project SLA to all cloud servers that are not associated with any SLA.<ul><li>For 1.5.0, when protection is created or modified, the system automatically applies the project SLA to all cloud servers that are not associated with any SLA.</li><li>For 1.6.0: After the project is scanned, the system automatically associates the cloud servers that are not associated with any SLA with the same SLA as that of the project.</li></ul>
</li><li>Apply the project SLA to newly created cloud servers.<p>After the project is scanned, the system automatically associates the newly detected cloud servers with the same SLA as that of the project.</p>
</li></ul>
</li><li>Specify the filtering mode for the cloud servers to be filtered in the protection plan. You can select <span class="uicontrol"><b><span><strong>Including and excluding</strong></span></b></span>, <span class="uicontrol"><b><span><strong>Including only</strong></span></b></span>, or <span class="uicontrol"><b><span><strong>Excluding only</strong></span></b></span> to filter protected cloud servers, correspondingly.<p>You can use cloud server names or keywords in those names to exclude or include some cloud servers. Use commas (,) to separate multiple cloud servers.</p>
<p>Exact match and fuzzy match of cloud server names are supported. Fuzzy match rules include prefix match (for example, abc*), suffix match (for example, *abc), and infix match (for example, *abc*).</p>
</li></ol>
</li><li id="EN-US_TOPIC_0000002164816726__li28871358114517">Click <span class="uicontrol" id="EN-US_TOPIC_0000002164816726__uicontrol1627463683613"><b>OK</b></span>. <p id="EN-US_TOPIC_0000002164816726__p151591133134114">If the current system time is later than the start time of the first backup specified in the SLA, you can select <strong id="EN-US_TOPIC_0000002164816726__en-us_topic_0000002200146973_b9624185216713">Execute manual backup now</strong> in the dialog box that is displayed or choose to perform automatic backup periodically based on the backup policy set in the SLA.</p>
</li></ol>
</p></li><li><span>Periodically back up a cloud server or cloud server group.</span><p><ol type="a"><li>Click the <strong>Cloud Server</strong> or <strong>Cloud Server Groups</strong> tab and select the cloud server or cloud server group to be protected.</li><li>Click <span class="uicontrol"><b><span><strong>Protect</strong></span></b></span>.</li><li>Determine whether to enable <strong>Automatic Disk Protection</strong>.<div class="note"><img src="public_sys-resources/note_3.0-en-us.png"><span class="notetitle"> </span><div class="notebody"><p>This step is required only for periodic backup of cloud servers.</p>
</div></div>
<p><strong>Automatic Disk Protection</strong> is enabled by default to back up all disks of a cloud server. You can disable <strong>Automatic Disk Protection</strong> and click <strong><span><strong>Please select</strong></span></strong> to manually select desired cloud disks for backup.</p>
<div class="p">Automatic disk protection is enabled by default. After this function is enabled, all disks of the cloud server, including newly detected disks, are protected. After automatic disk protection is disabled, you need to manually select disks for protection.<div class="note"><img src="public_sys-resources/note_3.0-en-us.png"><span class="notetitle"> </span><div class="notebody"><p id="EN-US_TOPIC_0000002164816726__en-us_topic_0000002200007033_p68671543173914">If system disks are excluded, generated copies do not support file-level restoration.</p>
</div></div>
</div>
</li><li>Select a preset or user-defined SLA.<p id="EN-US_TOPIC_0000002164816726__en-us_topic_0000002164816714_p33248794210">You can also click <span class="uicontrol" id="EN-US_TOPIC_0000002164816726__en-us_topic_0000002164816714_uicontrol744210206420"><b><span id="EN-US_TOPIC_0000002164816726__en-us_topic_0000002164816714_text1873812341015"><strong>Create</strong></span></b></span> to create an SLA.</p>
</li><li>Select the host where the client is installed.<p id="EN-US_TOPIC_0000002164816726__en-us_topic_0000002164816726_p13689185885118">If no host is selected, the system selects one or more hosts from the hosts configured during resource registration to perform backup.</p>
</li><li>Set consistent backup. (This parameter is available only in 1.6.0 and later versions.)<p>Once this function is enabled, data on all OpenStack cloud disks to be backed up will be captured at the same point in time during the backup. In addition, the created temporary volumes are linked clone volumes, which do not consume extra storage space.</p>
</li><li>Set <strong>Auto Indexing of Backup Copies</strong>. (This parameter is supported only in 1.6.0 and later versions.)<div class="p">If a VM or VM group is selected for protection and the disks to be backed up contain system disks, the system automatically creates an index for the backup copy after this function is enabled. When using the copy for restoration, you can select one or more files in the copy for restoration and search for files, directories, or links in the copy.<div class="note" id="EN-US_TOPIC_0000002164816726__en-us_topic_0000002164654310_en-us_topic_0000001607702606_note05471921141918"><img src="public_sys-resources/note_3.0-en-us.png"><span class="notetitle"> </span><div class="notebody"><p id="EN-US_TOPIC_0000002164816726__en-us_topic_0000002164654310_en-us_topic_0000001792520410_p0743109201911">Indexes occupy backup storage space. If the number of index files in the system exceeds 1 billion, perform operations by referring to "Failed to Create a Copy Index" in the <i><cite id="EN-US_TOPIC_0000002164816726__en-us_topic_0000002164654310_en-us_topic_0000001792520410_cite23814569190">OceanProtect DataBackup 1.5.0-1.6.0 Troubleshooting</cite></i>.</p>
</div></div>
</div>
</li><li>Click <span class="uicontrol" id="EN-US_TOPIC_0000002164816726__en-us_topic_0000002164816726_uicontrol1627463683613"><b>OK</b></span>. <p id="EN-US_TOPIC_0000002164816726__en-us_topic_0000002164816726_p151591133134114">If the current system time is later than the start time of the first backup specified in the SLA, you can select <strong id="EN-US_TOPIC_0000002164816726__en-us_topic_0000002164816726_en-us_topic_0000002200146973_b9624185216713">Execute manual backup now</strong> in the dialog box that is displayed or choose to perform automatic backup periodically based on the backup policy set in the SLA.</p>
</li></ol>
</p></li><li><strong>Optional: </strong><span>Perform manual backup.</span><p><p>If you want to execute a backup job immediately, perform manual backup through the following operations. Otherwise, skip this step.</p>
<ol type="a"><li>Click the <span class="uicontrol"><b>Project</b></span> or <span class="uicontrol"><b>Cloud Server</b></span> tab based on the type of the data to be backed up.<div class="note"><img src="public_sys-resources/note_3.0-en-us.png"><span class="notetitle"> </span><div class="notebody"><p>On the <span class="uicontrol"><b>Project</b></span> tab page, when a project is selected to perform backup, only cloud servers associated with the same SLA as the project are backed up.</p>
</div></div>
</li><li>Choose <span class="uicontrol"><b><span><strong>More</strong></span> &gt; <span><strong>Manual Backup</strong></span></b></span> on the right of the row where the desired project or cloud server resides.<div class="note"><img src="public_sys-resources/note_3.0-en-us.png"><span class="notetitle"> </span><div class="notebody"><p id="EN-US_TOPIC_0000002164816726__en-us_topic_0000002200146973_en-us_topic_0000001607531736_p870125314544">You can select multiple resources to perform manual backup in batches. Select multiple protected resources and choose <strong id="EN-US_TOPIC_0000002164816726__en-us_topic_0000002200146973_b1657653183519">More</strong> &gt; <span id="EN-US_TOPIC_0000002164816726__en-us_topic_0000002200146973_text122852865419"><strong>Manual Backup</strong></span> in the upper left corner of the resource list.</p>
</div></div>
</li><li>Set the name of the copy generated during manual backup.<p>If this parameter is left unspecified, the system sets the name to <strong>backup_</strong><em>Timestamp</em> by default.</p>
</li><li>Select a protection policy, which can be full backup or forever incremental (synthetic full) backup.<div class="note"><img src="public_sys-resources/note_3.0-en-us.png"><span class="notetitle"> </span><div class="notebody"><p id="EN-US_TOPIC_0000002164816726__en-us_topic_0000002200146973_p13522118194919"><span id="EN-US_TOPIC_0000002164816726__en-us_topic_0000002200146973_ph19374310343">If the selected protection policy is different from that configured in the associated SLA for 1.6.0 and later versions, the WORM configuration does not take effect.</span></p>
</div></div>
</li><li>Click <span class="uicontrol"><b><span><strong>OK</strong></span></b></span>.</li></ol>
</p></li></ol>
</div>
</div>
<div>
<div class="familylinks">
<div class="parentlink"><strong>Parent topic:</strong> <a href="en-us_topic_0000002164816778.html">Backing Up an OpenStack Cloud Server</a></div>
</div>
</div>

<div class="hrcopyright"><hr size="2"></div><div class="hwcopyright">Copyright &copy; Huawei Technologies Co., Ltd.</div></body>
</html>