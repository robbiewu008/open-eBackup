TOP_DIR=${AGENT_ROOT}
BIN_DIR=${AGENT_ROOT}/bin
PLUGINS_DIR=${AGENT_ROOT}/bin/plugins
SYSTEM=$(shell uname -s)
 
SRC_AGENT_DIR = ${TOP_DIR}/src/src/agent
SRC_ROOT_EXEC_DIR = ${TOP_DIR}/src/src/rootexec
SRC_CRYPTO_DIR = ${TOP_DIR}/src/src/tools/crypto
SRC_SCRIPTSIGN_DIR = ${TOP_DIR}/src/src/tools/scriptsign
SRC_DATAMIGRATION_DIR = ${TOP_DIR}/src/src/tools/datamigration
SRC_MONITOR_DIR = ${TOP_DIR}/src/src/tools/monitor
SRC_XMLCFG_DIR = ${TOP_DIR}/src/src/tools/xmlcfg
SRC_AGENTCLI_DIR = ${TOP_DIR}/src/src/tools/agentcli
SRC_GETINPUT_DIR = ${TOP_DIR}/src/src/tools/getinput
SRC_APPS_DIR = ${TOP_DIR}/src/src/apps
SRC_APPS_APP_DIR = ${TOP_DIR}/src/src/apps/app
SRC_APPS_ORACLE_DIR = ${TOP_DIR}/src/src/apps/oracle
SRC_APPS_ORACLENATIVE_DIR = ${TOP_DIR}/src/src/apps/oraclenative
SRC_ARRAY_DIR = ${TOP_DIR}/src/src/array
SRC_COMMON_DIR = ${TOP_DIR}/src/src/common
SRC_SECURE_COM_DIR = ${TOP_DIR}/src/src/securecom
SRC_DEVICE_DIR = ${TOP_DIR}/src/src/device
SRC_HOST_DIR = ${TOP_DIR}/src/src/host
SRC_MESSAGE_REST_DIR = ${TOP_DIR}/src/src/message/rest
SRC_MESSAGE_TCP_DIR = ${TOP_DIR}/src/src/message/tcp
SRC_TASKMANAGER_DIR = ${TOP_DIR}/src/src/taskmanager
SRC_EXTERNALJOB_DIR = ${TOP_DIR}/src/src/taskmanager/externaljob
SRC_FILTER_DIR = ${TOP_DIR}/src/src/taskmanager/filter
SRC_PLUGINFX_DIR = ${TOP_DIR}/src/src/pluginfx
SRC_PLUGINS_DIR = ${TOP_DIR}/src/src/plugins
SRC_PLUGINS_HOST_DIR = ${TOP_DIR}/src/src/plugins/host
SRC_PLUGINS_ORACLE_DIR = ${TOP_DIR}/src/src/plugins/oracle
SRC_PLUGINS_APP_DIR = ${TOP_DIR}/src/src/plugins/app
SRC_PLUGINS_ORACLENATIVE_DIR = ${TOP_DIR}/src/src/plugins/oraclenative
SRC_PLUGINS_APPPROTECT_DIR = ${TOP_DIR}/src/src/plugins/appprotect
SRC_ALARM_DIR = ${TOP_DIR}/src/src/alarm
SRC_SECUREC_DIR = ${TOP_DIR}/platform/securec/src
SRC_JSON_DIR = ${TOP_DIR}/open_src/jsoncpp/src/lib_json
SRC_TINYXML_DIR = ${TOP_DIR}/open_src/tinyxml
SRC_CURLCLIENT_DIR = ${TOP_DIR}/src/src/message/curlclient
SRC_SERVICE_FACTORY_DIR= ${TOP_DIR}/src/src/servicecenter/servicefactory
SRC_THRIFT_SERVICE_DIR = ${TOP_DIR}/src/src/servicecenter/thriftservice
SRC_CERTIFICATE_SERVICE_DIR = ${TOP_DIR}/src/src/servicecenter/certificateservice
SRC_APPPROTECT_DIR = ${TOP_DIR}/src/src/apps/appprotect
SRC_APPPROTECT_PLUGIN_DIR = ${TOP_DIR}/src/src/apps/appprotect/plugininterface
SRC_MESSAGE_SERVICE_DIR = ${TOP_DIR}/src/src/servicecenter/messageservice
SRC_JOB_SERVICE_DIR = ${TOP_DIR}/src/src/servicecenter/services/jobservice
SRC_TIMER_SERVICE_DIR = ${TOP_DIR}/src/src/servicecenter/timerservice
SRC_SERVICES_DEVICE_DIR = ${TOP_DIR}/src/src/servicecenter/services/device
SRC_ARCHIVESTREAM_SRC_DIR = ${TOP_DIR}/src/src/message/archivestream

# thrift servicecenter
INC_THRIFT_SERVICE_DIR = ${TOP_DIR}/src/inc/servicecenter/thriftservice/include
INC_SERVICE_CENTER_DIR = ${TOP_DIR}/src/inc/servicecenter
INC_CERTIFICATE_SERVICE_DIR = ${TOP_DIR}/src/inc/servicecenter/certificateservice/include
INC_APPPROTECT_DIR = ${TOP_DIR}/src/inc/apps/appprotect 
INC_APPPROTECT_PLUGIN_DIR = ${TOP_DIR}/src/inc/apps/appprotect/plugininterface
INC_MESSAGE_SERVICE_DIR = ${TOP_DIR}/src/inc/servicecenter/messageservice/include

BASE_INC = ${TOP_DIR}/src/inc
SYSTEM_INC = /usr/include
INC_SECUREC_DIR = ${TOP_DIR}/platform/securec/include
INC_KMC_MAIN_DIR = ${TOP_DIR}/platform/kmc
INC_KMC_INC_DIR = ${TOP_DIR}/platform/kmc/include
INC_KMC_INC_SDP_DIR = ${TOP_DIR}/platform/kmc/src/sdp

OPEN_SRC_DIR = ${TOP_DIR}/open_src
PLATORM_SRC_DIR = ${TOP_DIR}/platform
BASE_OPEN_INC = ${OPEN_SRC_DIR}
OPEN_OPENSSL_DIR = ${OPEN_SRC_DIR}/openssl
OPEN_SNMP_DIR = ${OPEN_SRC_DIR}/snmp++
OPEN_FCGI_DIR = ${OPEN_SRC_DIR}/fcgi
OPEN_SQLITE_DIR = ${OPEN_SRC_DIR}/sqlite
OPEN_FCGI_DIR = ${OPEN_SRC_DIR}/fcgi
OPEN_JSON_DIR = ${OPEN_SRC_DIR}/jsoncpp
OPEN_CURL_DIR = ${OPEN_SRC_DIR}/curl/include
OPEN_TINYXML_DIR = ${OPEN_SRC_DIR}/tinyxml
OPEN_UUID_DIR = ${OPEN_SRC_DIR}/libuuid
OPEN_THRIFT_DIR = ${OPEN_SRC_DIR}/thrift/.libs/lib
INC_OPEN_THRIFT_DIR	= ${OPEN_SRC_DIR}/thrift/.libs/include
OPEN_THRIFT_STATIC = ${OPEN_THRIFT_DIR}/libthrift.a
OPEN_THRIFT_DYNAMIC = ${OPEN_THRIFT_DIR}/libthrift.so

SRC_OPEN_SQLITE_DIR = ${OPEN_SQLITE_DIR}
INC_OPEN_SQLITE_DIR = ${OPEN_SQLITE_DIR}
INC_OPEN_OPENSSL_DIR = ${OPEN_OPENSSL_DIR}/include
INC_OPEN_SNMP_DIR = ${OPEN_SNMP_DIR}/include
INC_OPEN_SNMP_MAIN_DIR = ${OPEN_SNMP_DIR}
INC_OPEN_JSON_DIR = ${OPEN_SRC_DIR}/jsoncpp/include
SRC_OPEN_TINYXML_DIR = ${OPEN_TINYXML_DIR}
INC_OPEN_TINYXML_DIR = ${OPEN_TINYXML_DIR}
INC_OPEN_CURL_DIR = ${OPEN_CURL_DIR}
INC_OPEN_UUID_DIR = ${OPEN_UUID_DIR}/include/uuid
INC_OPEN_UUID_MAIN_DIR = ${OPEN_UUID_DIR}/include
OPEN_OPENSSL_LIB_DIR = ${OPEN_OPENSSL_DIR}/.openssl/lib
OPEN_SNMP_LIB_DIR = ${OPEN_SNMP_DIR}/src/.libs
OPEN_FCGI_LIB_DIR = ${OPEN_FCGI_DIR}/libfcgi/.libs
KMC_LIB_DIR = ${PLATORM_SRC_DIR}/kmc/lib
OPEN_CURL_LIB_DIR = ${OPEN_SRC_DIR}/curl/lib/.libs
UUID = ${OPEN_UUID_DIR}/lib
INC_LIBEVENT_DIR = ${OPEN_SRC_DIR}/libevent/.libs/include/
OPEN_LIBEVENT_DIR = ${OPEN_SRC_DIR}/libevent/.libs/lib
INC_BOOST_DIR = ${OPEN_SRC_DIR}/boost/.libs/include
OPEN_ZLIB_DIR = ${OPEN_SRC_DIR}/zlib/.libs/include/
OPEN_TCMALLOC_DIR = ${OPEN_SRC_DIR}/gperftools/tcmalloc
INC_TCMALLOC_DIR = ${OPEN_TCMALLOC_DIR}/include
TCMALLOC_LIB_DIR = ${OPEN_TCMALLOC_DIR}/lib

OBJ_DIR = ${TOP_DIR}/obj
OBJ_AGENT_DIR = ${OBJ_DIR}/agent
OBJ_ROOT_EXEC_DIR = ${OBJ_DIR}/rootexec
OBJ_MONITOR_DIR = ${OBJ_DIR}/monitor
OBJ_CRYPTO_DIR = ${OBJ_DIR}/crypto
OBJ_SCRIPTSIGN_DIR = ${OBJ_DIR}/scriptsign
OBJ_DATAMIGRATION_DIR = ${OBJ_DIR}/datamigration
OBJ_XMLCFG_DIR = ${OBJ_DIR}/xmlcfg
OBJ_AGENTCLI_DIR = ${OBJ_DIR}/agentcli
OBJ_GETINPUT_DIR = ${OBJ_DIR}/getinput
OBJ_APPS_DIR = ${OBJ_DIR}/apps
OBJ_APPS_APP_DIR = ${OBJ_DIR}/apps/app
OBJ_APPS_ORACLE_DIR = ${OBJ_DIR}/apps/oracle
OBJ_APPS_ORACLENATIVE_DIR = ${OBJ_DIR}/apps/oraclenative
OBJ_ARRAY_DIR = ${OBJ_DIR}/array
OBJ_COMMON_DIR = ${OBJ_DIR}/common
OBJ_SECURE_COM_DIR = ${OBJ_DIR}/securecom
OBJ_DEVICE_DIR = ${OBJ_DIR}/device
OBJ_HOST_DIR = ${OBJ_DIR}/host
OBJ_MESSAGE_REST_DIR = ${OBJ_DIR}/message/rest
OBJ_MESSAGE_TCP_DIR = ${OBJ_DIR}/message/tcp
OBJ_PLUGINFX_DIR = ${OBJ_DIR}/pluginfx
OBJ_PLUGINS_DIR = ${OBJ_DIR}/plugins
OBJ_PLUGINS_HOST_DIR = ${OBJ_DIR}/plugins/host
OBJ_PLUGINS_ORACLE_DIR = ${OBJ_DIR}/plugins/oracle
OBJ_PLUGINS_APP_DIR = ${OBJ_DIR}/plugins/app
OBJ_PLUGINS_ORACLENATIVE_DIR = ${OBJ_DIR}/plugins/oraclenative
OBJ_PLUGINS_APPPROTECT_DIR  = ${OBJ_DIR}/plugins/appprotect
OBJ_MESSAGE_DIR = ${OBJ_DIR}/message
OBJ_REST_DIR = ${OBJ_DIR}/message/rest
OBJ_TCP_DIR = ${OBJ_DIR}/message/tcp
OBJ_TASKMANAGER_DIR = ${OBJ_DIR}/taskmanager
OBJ_EXTERNALJOB_DIR = ${OBJ_DIR}/taskmanager/externaljob
OBJ_FILTER_DIR = ${OBJ_DIR}/taskmanager/filter
OBJ_ALARM_DIR = ${OBJ_DIR}/alarm
OBJ_SQLITE_DIR = ${OBJ_DIR}/sqlite
OBJ_JSON_DIR = ${OBJ_DIR}/json
OBJ_TINYXML_DIR = ${OBJ_DIR}/tinyxml
OBJ_SECUREC_DIR = ${OBJ_DIR}/securec
OBJ_CURLCLIENT_DIR = ${OBJ_DIR}/curlclient
OBJ_SERVICE_FACTORY_DIR = ${OBJ_DIR}/servicecenter/servicefactory
OBJ_THRIFT_SERVICE_DIR = ${OBJ_DIR}/servicecenter/thriftservice
OBJ_CERTIFICATE_SERVICE_DIR = ${OBJ_DIR}/servicecenter/certifcateservice
OBJ_APPPROTECT_DIR = ${OBJ_DIR}/apps/appprotect
OBJ_APPPROTECT_PLUGIN_DIR = ${OBJ_DIR}/apps/appprotect/plugininterface
OBJ_MESSAGE_SERVICE_DIR = ${OBJ_DIR}/servicecenter/messageservice
OBJ_JOB_SERVICE_DIR = ${OBJ_DIR}/servicecenter/services/jobservice
OBJ_TIMER_SERVICE_DIR = ${OBJ_DIR}/servicecenter/timerservice
OBJ_SERVICES_DEVICE_DIR = ${OBJ_DIR}/servicecenter/services/device
OBJ_MESSAGE_ARCHIVESTREAM_DIR = ${OBJ_DIR}/message/archivestream

AGENT_SRCS = $(wildcard ${SRC_AGENT_DIR}/*.cpp)
AGENT_OBJS = $(patsubst ${SRC_AGENT_DIR}/%.cpp, ${OBJ_AGENT_DIR}/%.o, $(AGENT_SRCS))
ROOT_EXEC_SRCS = $(wildcard ${SRC_ROOT_EXEC_DIR}/*.cpp)
ROOT_EXEC_OBJS = $(patsubst ${SRC_ROOT_EXEC_DIR}/%.cpp, ${OBJ_ROOT_EXEC_DIR}/%.o, $(ROOT_EXEC_SRCS))
CRYPTO_SRCS = $(wildcard ${SRC_CRYPTO_DIR}/*.cpp)
CRYPTO_OBJS = $(patsubst ${SRC_CRYPTO_DIR}/%.cpp, ${OBJ_CRYPTO_DIR}/%.o, $(CRYPTO_SRCS))
SCRIPTSIGN_SRCS = $(wildcard ${SRC_SCRIPTSIGN_DIR}/*.cpp)
SCRIPTSIGN_OBJS = $(patsubst ${SRC_SCRIPTSIGN_DIR}/%.cpp, ${OBJ_SCRIPTSIGN_DIR}/%.o, $(SCRIPTSIGN_SRCS))
DATAMIGRATION_SRCS = $(wildcard ${SRC_DATAMIGRATION_DIR}/*.cpp)
DATAMIGRATION_OBJS = $(patsubst ${SRC_DATAMIGRATION_DIR}/%.cpp, ${OBJ_DATAMIGRATION_DIR}/%.o, $(DATAMIGRATION_SRCS))
MONITOR_SRCS = $(wildcard ${SRC_MONITOR_DIR}/*.cpp)
MONITOR_OBJS = $(patsubst ${SRC_MONITOR_DIR}/%.cpp, ${OBJ_MONITOR_DIR}/%.o, $(MONITOR_SRCS))
XMLCFG_SRCS = $(wildcard ${SRC_XMLCFG_DIR}/*.cpp)
XMLCFG_OBJS = $(patsubst ${SRC_XMLCFG_DIR}/%.cpp, ${OBJ_XMLCFG_DIR}/%.o, $(XMLCFG_SRCS))
AGENTCLI_SRCS = $(wildcard ${SRC_AGENTCLI_DIR}/*.cpp)
AGENTCLI_OBJS = $(patsubst ${SRC_AGENTCLI_DIR}/%.cpp, ${OBJ_AGENTCLI_DIR}/%.o, $(AGENTCLI_SRCS))
GETINPUT_SRCS = $(wildcard ${SRC_GETINPUT_DIR}/*.cpp)
GETINPUT_OBJS = $(patsubst ${SRC_GETINPUT_DIR}/%.cpp, ${OBJ_GETINPUT_DIR}/%.o, $(GETINPUT_SRCS))
APPS_APP_SRCS = $(wildcard ${SRC_APPS_APP_DIR}/*.cpp)
APPS_APP_OBJS = $(patsubst ${SRC_APPS_APP_DIR}/%.cpp, ${OBJ_APPS_APP_DIR}/%.o, $(APPS_APP_SRCS))
APPS_ORACLE_SRCS = $(wildcard ${SRC_APPS_ORACLE_DIR}/*.cpp)
APPS_ORACLE_OBJS = $(patsubst ${SRC_APPS_ORACLE_DIR}/%.cpp, ${OBJ_APPS_ORACLE_DIR}/%.o, $(APPS_ORACLE_SRCS))
APPS_ORACLENATIVE_SRCS = $(wildcard ${SRC_APPS_ORACLENATIVE_DIR}/*.cpp)
APPS_ORACLENATIVE_OBJS = $(patsubst ${SRC_APPS_ORACLENATIVE_DIR}/%.cpp, ${OBJ_APPS_ORACLENATIVE_DIR}/%.o, $(APPS_ORACLENATIVE_SRCS))
ARRAY_RCS = $(wildcard ${SRC_ARRAY_DIR}/*.cpp)
ARRAY_OBJS = $(patsubst ${SRC_ARRAY_DIR}/%.cpp, ${OBJ_ARRAY_DIR}/%.o, $(ARRAY_RCS))
COMMON_RCS = $(wildcard ${SRC_COMMON_DIR}/*.cpp)
COMMON_OBJS = $(patsubst ${SRC_COMMON_DIR}/%.cpp, ${OBJ_COMMON_DIR}/%.o, $(COMMON_RCS))
SECURE_COM_RCS = $(wildcard ${SRC_SECURE_COM_DIR}/*.cpp)
SECURE_COM_OBJS = $(patsubst ${SRC_SECURE_COM_DIR}/%.cpp, ${OBJ_SECURE_COM_DIR}/%.o, $(SECURE_COM_RCS))
DEVICE_RCS = $(wildcard ${SRC_DEVICE_DIR}/*.cpp)
DEVICE_OBJS = $(patsubst ${SRC_DEVICE_DIR}/%.cpp, ${OBJ_DEVICE_DIR}/%.o, $(DEVICE_RCS))
HOST_RCS = $(wildcard ${SRC_HOST_DIR}/*.cpp)
HOST_OBJS = $(patsubst ${SRC_HOST_DIR}/%.cpp, ${OBJ_HOST_DIR}/%.o, $(HOST_RCS))
TASKMANAGER_RCS = $(wildcard ${SRC_TASKMANAGER_DIR}/*.cpp ${SRC_TASKMANAGER_DIR}/externaljob/*.cpp)
TASKMANAGER_OBJS = $(patsubst ${SRC_TASKMANAGER_DIR}/%.cpp, ${OBJ_TASKMANAGER_DIR}/%.o, $(TASKMANAGER_RCS))
EXTERNALJOB_RCS = $(wildcard ${SRC_EXTERNALJOB_DIR}/*.cpp)
EXTERNALJOB_OBJS = $(patsubst ${SRC_EXTERNALJOB_DIR}/%.cpp, ${OBJ_EXTERNALJOB_DIR}/%.o, $(EXTERNALJOB_RCS))
FILTER_RCS = $(wildcard ${SRC_FILTER_DIR}/*.cpp)
FILTER_OBJS = $(patsubst ${SRC_FILTER_DIR}/%.cpp, ${OBJ_FILTER_DIR}/%.o, $(FILTER_RCS))
PLUGINFX_SRCS_ALL = $(wildcard ${SRC_PLUGINFX_DIR}/*.cpp)
PLUGINFX_SRCS = $(filter-out ${SRC_PLUGINFX_DIR}/ExternalPluginSDK.cpp, ${PLUGINFX_SRCS_ALL})
PLUGINFX_SECUR_JNI = $(filter-out ${SRC_PLUGINFX_DIR}/com_huawei_oceanprotect_sdk_agent_plugin_lib_security_ability_definition_SecurityUtil.cpp, ${PLUGINFX_SRCS})
PLUGINFX_ARCHIVE_JNI = $(filter-out ${SRC_PLUGINFX_DIR}/com_huawei_oceanprotect_sdk_agent_plugin_lib_archive_ability_definition_ArchiveStreamAbility.cpp, ${PLUGINFX_SECUR_JNI})
PLUGINFX_OBJS = $(patsubst ${SRC_PLUGINFX_DIR}/%.cpp, ${OBJ_PLUGINFX_DIR}/%.o, $(PLUGINFX_ARCHIVE_JNI))
PLUGINS_SRCS = $(wildcard ${SRC_PLUGINS_DIR}/*.cpp)
PLUGINS_OBJS = $(patsubst ${SRC_PLUGINS_DIR}/%.cpp, ${OBJ_PLUGINS_DIR}/%.o, $(PLUGINS_SRCS))
PLUGINS_HOST_SRCS = $(wildcard ${SRC_PLUGINS_HOST_DIR}/*.cpp)
PLUGINS_HOST_OBJS = $(patsubst ${SRC_PLUGINS_HOST_DIR}/%.cpp, ${OBJ_PLUGINS_HOST_DIR}/%.o, $(PLUGINS_HOST_SRCS))
PLUGINS_APP_SRCS = $(wildcard ${SRC_PLUGINS_APP_DIR}/*.cpp)
PLUGINS_APP_OBJS = $(patsubst ${SRC_PLUGINS_APP_DIR}/%.cpp, ${OBJ_PLUGINS_APP_DIR}/%.o, $(PLUGINS_APP_SRCS))
PLUGINS_ORACLE_SRCS = $(wildcard ${SRC_PLUGINS_ORACLE_DIR}/*.cpp)
PLUGINS_ORACLE_OBJS = $(patsubst ${SRC_PLUGINS_ORACLE_DIR}/%.cpp, ${OBJ_PLUGINS_ORACLE_DIR}/%.o, $(PLUGINS_ORACLE_SRCS))
PLUGINS_ORACLENATIVE_SRCS = $(wildcard ${SRC_PLUGINS_ORACLENATIVE_DIR}/*.cpp)
PLUGINS_ORACLENATIVE_OBJS = $(patsubst ${SRC_PLUGINS_ORACLENATIVE_DIR}/%.cpp, ${OBJ_PLUGINS_ORACLENATIVE_DIR}/%.o, $(PLUGINS_ORACLENATIVE_SRCS))
PLUGINS_APPPROTECT_SRCS = $(wildcard ${SRC_PLUGINS_APPPROTECT_DIR}/*.cpp)
PLUGINS_APPPROTECT_OBJS = $(patsubst ${SRC_PLUGINS_APPPROTECT_DIR}/%.cpp, ${OBJ_PLUGINS_APPPROTECT_DIR}/%.o, $(PLUGINS_APPPROTECT_SRCS))
SERVICE_FACTORY_SRCS = $(wildcard ${SRC_SERVICE_FACTORY_DIR}/*.cpp)
SERVICE_FACTORY_OBJS = $(patsubst ${SRC_SERVICE_FACTORY_DIR}/%.cpp, ${OBJ_SERVICE_FACTORY_DIR}/%.o, $(SERVICE_FACTORY_SRCS))
THRIFT_SERVICE_SRCS = $(wildcard ${SRC_THRIFT_SERVICE_DIR}/*.cpp)
THRIFT_SERVICE_OBJS = $(patsubst ${SRC_THRIFT_SERVICE_DIR}/%.cpp, ${OBJ_THRIFT_SERVICE_DIR}/%.o, $(THRIFT_SERVICE_SRCS))
CERTIFICATE_SERVICE_SRCS = $(wildcard ${SRC_CERTIFICATE_SERVICE_DIR}/*.cpp)
CERTIFICATE_SERVICE_OBJS = $(patsubst ${SRC_CERTIFICATE_SERVICE_DIR}/%.cpp, ${OBJ_CERTIFICATE_SERVICE_DIR}/%.o, $(CERTIFICATE_SERVICE_SRCS))
APPPROTECT_SRCS = $(wildcard ${SRC_APPPROTECT_DIR}/*.cpp)
APPPROTECT_OBJS = $(patsubst ${SRC_APPPROTECT_DIR}/%.cpp, ${OBJ_APPPROTECT_DIR}/%.o, $(APPPROTECT_SRCS))
APPPROTECT_PLUGIN_SRCS = $(wildcard ${SRC_APPPROTECT_PLUGIN_DIR}/*.cpp)
APPPROTECT_PLUGIN_OBJS = $(patsubst ${SRC_APPPROTECT_PLUGIN_DIR}/%.cpp, ${OBJ_APPPROTECT_PLUGIN_DIR}/%.o, $(APPPROTECT_PLUGIN_SRCS))
MESSAGE_SERVICE_SRCS = $(wildcard ${SRC_MESSAGE_SERVICE_DIR}/*.cpp)
MESSAGE_SERVICE_OBJS = $(patsubst ${SRC_MESSAGE_SERVICE_DIR}/%.cpp, ${OBJ_MESSAGE_SERVICE_DIR}/%.o, $(MESSAGE_SERVICE_SRCS))

MESSAGE_ARCHIVESTREAM_SRCS = $(wildcard ${SRC_ARCHIVESTREAM_SRC_DIR}/*.cpp)
MESSAGE_ARCHIVESTREAM_OBJS =  $(patsubst ${SRC_ARCHIVESTREAM_SRC_DIR}/%.cpp, ${OBJ_MESSAGE_ARCHIVESTREAM_DIR}/%.o, $(MESSAGE_ARCHIVESTREAM_SRCS))
JOB_SERVICE_SRCS = $(wildcard ${SRC_JOB_SERVICE_DIR}/*.cpp )
JOB_SERVICE_OBJS = $(patsubst ${SRC_JOB_SERVICE_DIR}/%.cpp, ${OBJ_JOB_SERVICE_DIR}/%.o, $(JOB_SERVICE_SRCS))

TIMER_SERVICE_SRCS = $(wildcard ${SRC_TIMER_SERVICE_DIR}/*.cpp )
TIMER_SERVICE_OBJS = $(patsubst ${SRC_TIMER_SERVICE_DIR}/%.cpp, ${OBJ_TIMER_SERVICE_DIR}/%.o, $(TIMER_SERVICE_SRCS))

SERVICES_DEVICE_SRCS = $(wildcard ${SRC_SERVICES_DEVICE_DIR}/*.cpp)
SERVICES_DEVICE_OBJS = $(patsubst ${SRC_SERVICES_DEVICE_DIR}/%.cpp, ${OBJ_SERVICES_DEVICE_DIR}/%.o, $(SERVICES_DEVICE_SRCS))

REST_SRCS = $(wildcard ${SRC_MESSAGE_REST_DIR}/*.cpp)
REST_OBJS = $(patsubst ${SRC_MESSAGE_REST_DIR}/%.cpp, ${OBJ_MESSAGE_REST_DIR}/%.o, $(REST_SRCS))
TCP_SRCS = $(wildcard ${SRC_MESSAGE_TCP_DIR}/*.cpp)
TCP_OBJS = $(patsubst ${SRC_MESSAGE_TCP_DIR}/%.cpp, ${OBJ_MESSAGE_TCP_DIR}/%.o, $(TCP_SRCS))
TCP_OBJS_SSL = $(patsubst ${SRC_MESSAGE_TCP_DIR}/%.cpp, ${OBJ_MESSAGE_DIR}/tcpssl/%.o, $(TCP_SRCS))

ALARM_SRCS = $(wildcard ${SRC_ALARM_DIR}/*.cpp)
ALARM_OBJS = $(patsubst ${SRC_ALARM_DIR}/%.cpp, ${OBJ_ALARM_DIR}/%.o, $(ALARM_SRCS))
SECUREC_SRCS = $(wildcard ${SRC_SECUREC_DIR}/*.c)
SECUREC_OBJS = $(patsubst ${SRC_SECUREC_DIR}/%.c, ${OBJ_SECUREC_DIR}/%.o, $(SECUREC_SRCS))
JSON_SRCS = $(wildcard ${SRC_JSON_DIR}/*.cpp)
JSON_OBJS = $(patsubst ${SRC_JSON_DIR}/%.cpp, ${OBJ_JSON_DIR}/%.o, $(JSON_SRCS))
SQLITE_OBJS = ${OBJ_SQLITE_DIR}/sqlite3.o
TINYXML_SRCS = $(wildcard ${SRC_TINYXML_DIR}/tiny*.cpp)
TINYXML_OBJS = $(patsubst ${SRC_TINYXML_DIR}/%.cpp, ${OBJ_TINYXML_DIR}/%.o, $(TINYXML_SRCS))
CURLCLIENT_SRCS = $(wildcard ${SRC_CURLCLIENT_DIR}/*.cpp)
CURLCLIENT_OBJS = $(patsubst ${SRC_CURLCLIENT_DIR}/%.cpp, ${OBJ_CURLCLIENT_DIR}/%.o, $(CURLCLIENT_SRCS))

#####dataprocess#####
SRC_DATACONFIG_DIR = ${TOP_DIR}/src/src/dataprocess/dataconfig
SRC_DATAMSG_DIR = ${TOP_DIR}/src/src/dataprocess/datamessage
SRC_DATAPATH_DIR = ${TOP_DIR}/src/src/dataprocess/datapath
SRC_DATARW_DIR = ${TOP_DIR}/src/src/dataprocess/datareadwrite
SRC_DATAVMWARE_DIR = ${TOP_DIR}/src/src/dataprocess/vmwarenative
SRC_DP_QOS_DIR = ${TOP_DIR}/src/src/dataprocess/jobqosmanager
SRC_DP_SCH_DIR = ${TOP_DIR}/src/src/dataprocess/ioscheduler


OBJ_DATAMSG_DIR = ${OBJ_DIR}/dataprocess/datamessage
OBJ_DATARW_DIR = ${OBJ_DIR}/dataprocess/datareadwrite
OBJ_DATAPATH_DIR = ${OBJ_DIR}/dataprocess/datapath
OBJ_DATACONFIG_DIR = ${OBJ_DIR}/dataprocess/dataconfig
OBJ_DATAVMWARE_DIR = ${OBJ_DIR}/dataprocess/vmwarenative
OBJ_DP_QOS_DIR = ${OBJ_DIR}/dataprocess/jobqosmanager
OBJ_DP_SCH_DIR = ${OBJ_DIR}/dataprocess/ioscheduler


DATACONFIG_SRCS = $(wildcard ${SRC_DATACONFIG_DIR}/*.cpp)
DATACONFIG_OBJS = $(patsubst ${SRC_DATACONFIG_DIR}/%.cpp, ${OBJ_DATACONFIG_DIR}/%.o, $(DATACONFIG_SRCS))
DATAMSG_SRCS = $(wildcard ${SRC_DATAMSG_DIR}/*.cpp)
DATAMSG_OBJS = $(patsubst ${SRC_DATAMSG_DIR}/%.cpp, ${OBJ_DATAMSG_DIR}/%.o, $(DATAMSG_SRCS))
DATAPATH_SRCS = $(wildcard ${SRC_DATAPATH_DIR}/*.cpp)
DATAPATH_OBJS = $(patsubst ${SRC_DATAPATH_DIR}/%.cpp, ${OBJ_DATAPATH_DIR}/%.o, $(DATAPATH_SRCS))
DATARW_SRCS = $(wildcard ${SRC_DATARW_DIR}/*.cpp)
DATARW_OBJS = $(patsubst ${SRC_DATARW_DIR}/%.cpp, ${OBJ_DATARW_DIR}/%.o, $(DATARW_SRCS))
DATAVMWARE_SRCS = $(wildcard ${SRC_DATAVMWARE_DIR}/*.cpp)
DATAVMWARE_OBJS = $(patsubst ${SRC_DATAVMWARE_DIR}/%.cpp, ${OBJ_DATAVMWARE_DIR}/%.o, $(DATAVMWARE_SRCS))
DP_QOS_SRCS = $(wildcard ${SRC_DP_QOS_DIR}/*.cpp)
DP_QOS_OBJS = $(patsubst ${SRC_DP_QOS_DIR}/%.cpp, ${OBJ_DP_QOS_DIR}/%.o, $(DP_QOS_SRCS))
DP_SCH_OBJS = $(patsubst ${SRC_DP_SCH_DIR}/%.cpp, ${OBJ_DP_SCH_DIR}/%.o, $(DP_SCH_SRCS))
DP_SCH_SRCS = $(wildcard ${SRC_DP_SCH_DIR}/*.cpp)

#####dataprocess#####
RD_CFLAGS = -DWITH_OPENSSL

AGENT = ${BIN_DIR}/rdagent
ROOTEXEC = ${BIN_DIR}/rootexec
SCRIPTSIGN = ${BIN_DIR}/scriptsign
DATAMIGRATION = ${BIN_DIR}/datamigration
MONITOR = ${BIN_DIR}/monitor
XMLCFG = ${BIN_DIR}/xmlcfg
AGENTCLI = ${BIN_DIR}/agentcli
GETINPUT = ${BIN_DIR}/getinput
LIB_COMMON = ${BIN_DIR}/libcommon.so
LIB_SECURE_COM = ${BIN_DIR}/libsecurecom.so
LIB_HOST = ${PLUGINS_DIR}/libhost-${AGENT_BUILD_NUM}.so
LIB_DEVICE = ${PLUGINS_DIR}/libdevice-${AGENT_BUILD_NUM}.so
LIB_ORACLE = ${PLUGINS_DIR}/liboracle-${AGENT_BUILD_NUM}.so
LIB_ORACLENATIVE = ${PLUGINS_DIR}/liboraclenative-${AGENT_BUILD_NUM}.so

GTESTLIB_DIR = ${AGENT_ROOT}/test/stubTest/obj/gtestlib
LIB_FUZZ_DIR = ${AGENT_ROOT}/test/stubTest/src/secodefuzz/OpenSource/test/test1

TARGET = ${AGENT} ${MONITOR} ${ROOTEXEC} ${SCRIPTSIGN} ${DATAMIGRATION} ${XMLCFG} ${AGENTCLI} ${GETINPUT} ${LIB_COMMON} ${LIB_SECURE_COM} \
	${LIB_HOST} ${LIB_DEVICE} ${LIB_ORACLE} ${LIB_TEST} ${LIB_ORACLENATIVE}

TEST_FLAGS += -std=c++11

#for test
TEST_ROOT = ${AGENT_ROOT}/test/stubTest
TEST_SRC = ${TEST_ROOT}/src/src
TEST_OBJ = ${TEST_ROOT}/obj
TEST_INC = ${TEST_ROOT}/src/inc
HLT_TEST_SRC = ${TEST_ROOT}/hlt
HLT_TEST_OBJ = ${TEST_ROOT}/hlt/obj
HLT_BIN_DIR=${TEST_ROOT}/hlt/bin

#add your target test bin here
BIN_HOST_TEST = ${TEST_ROOT}/bin/AgentHostTest
BIN_PLUGINFX_TEST = ${TEST_ROOT}/bin/AgentPluginfxTest
BIN_DEVICE_TEST = ${TEST_ROOT}/bin/AgentDeviceTest
BIN_COMMON_TEST = ${TEST_ROOT}/bin/AgentCommonTest
BIN_ALARM_TEST = ${TEST_ROOT}/bin/AgentAlarmTest
BIN_PLUGIN_TEST = ${TEST_ROOT}/bin/AgentPluginTest
LIB_TEST = ${TEST_ROOT}/bin/libtest.so
BIN_ARRAY_TEST = ${TEST_ROOT}/bin/AgentArrayTest
BIN_AGENT_TEST = ${TEST_ROOT}/bin/AgentAgentTest
BIN_TOOLS_TEST = ${TEST_ROOT}/bin/AgentToolsTest 
BIN_ROOTEXEC_TEST = ${TEST_ROOT}/bin/AgentRootExecTest
BIN_APPORAC_TEST = ${TEST_ROOT}/bin/AgentAppOracleTest
BIN_APPORACNATIVE_TEST = ${TEST_ROOT}/bin/AgentAppOracleNativeTest
BIN_PLUGINS_HOST_TEST = ${TEST_ROOT}/bin/AgentPluginsHostTest
BIN_PLUGINS_ORACLE_TEST = ${TEST_ROOT}/bin/AgentPluginsOracletest
BIN_PLUGINS_APP_TEST = ${TEST_ROOT}/bin/AgentPluginsApptest
BIN_PLUGINS_ORACLENATIVE_TEST = ${TEST_ROOT}/bin/AgentPluginsOracleNativetest
BIN_APP_TEST = ${TEST_ROOT}/bin/AgentAppTest
BIN_REST_TEST = ${TEST_ROOT}/bin/AgentRestTest
BIN_TCP_TEST = ${TEST_ROOT}/bin/AgentTcpTest
BIN_CURLHTTPCLIENT_TEST = ${TEST_ROOT}/bin/AgentCurlHttpClientTest
BIN_PLUGINS_TEST = ${TEST_ROOT}/bin/AgentPluginsTest
BIN_TASKMANAGER_TEST = ${TEST_ROOT}/bin/AgentTaskmanagerTest
BIN_EXTERNALJOB_TEST = ${TEST_ROOT}/bin/AgentJobmanagerTest
BIN_DATAPROCESS_TEST = ${TEST_ROOT}/bin/AgentDataprocessTest
BIN_SECURE_COM_TEST = ${TEST_ROOT}/bin/AgentSecurecomTest
BIN_ARCHIVE_STREAM_TEST = ${TEST_ROOT}/bin/AgentarchivestreamTest
BIN_XBSA_TEST = ${TEST_ROOT}/bin/AgentXbsaTest
BIN_DWS_TEST = ${TEST_ROOT}/bin/AgentDwsTest
BIN_XBSA_SERVER_TEST = ${TEST_ROOT}/bin/AgentXBSAServerTest
BIN_SERVICE_CENTER_TEST = ${TEST_ROOT}/bin/AgentServiceCenterTest
BIN_APPPROTECT_PLUGIN_TEST = ${TEST_ROOT}/bin/AgentProtectPluginTest
THRIFT_SERVER = ${HLT_BIN_DIR}/thriftserver
THRIFT_CLIENT = ${HLT_BIN_DIR}/thriftclient
BIN_FUZZ_ORACLENATIVE = ${TEST_ROOT}/bin/FuzzOracleNative
BIN_FUZZ_VMWARE = ${TEST_ROOT}/bin/FuzzVMWare
BIN_FUZZ_EXTERNALPLUGINMANAGER = ${TEST_ROOT}/bin/FuzzExternalPluginMagager
BIN_FUZZ_ARCHIVESTREAM = ${TEST_ROOT}/bin/FuzzArchiveStream
BIN_FUZZ_ORACLE = ${TEST_ROOT}/bin/FuzzOracle
BIN_FUZZ_HOSTAGENT = ${TEST_ROOT}/bin/FuzzHost

INC_ARCHIVE_STREAM_DIR = ${TOP_DIR}/src/inc/message/archivestream
SRC_ARCHIVE_STREAM_DIR = ${TOP_DIR}/src/src/message/archivestream
OBJ_ARCHIVE_STREAM_DIR = ${OBJ_DIR}/message/archivestream
LIB_ARCHIVE_STREAM_SRCS = $(wildcard ${SRC_ARCHIVE_STREAM_DIR}/*.cpp )
LIB_ARCHIVE_STREAM_OBJS = $(patsubst ${SRC_ARCHIVE_STREAM_DIR}/%.cpp, ${OBJ_ARCHIVE_STREAM_DIR}/%.o, $(LIB_ARCHIVE_STREAM_SRCS))

########xbsa#########
INC_XBSA_CLIENT_DIR = ${TOP_DIR}/src/inc/apps/dws/XBSAClient
SRC_XBSA_CLIENT_DIR = ${TOP_DIR}/src/src/apps/dws/XBSAClient
OBJ_XBSA_CLIENT_DIR = ${OBJ_DIR}/XBSAClient
LIB_XBSA_SRCS = $(wildcard ${SRC_XBSA_CLIENT_DIR}/*.cpp )
LIB_XBSA_OBJS = $(patsubst ${SRC_XBSA_CLIENT_DIR}/%.cpp, ${OBJ_XBSA_CLIENT_DIR}/%.o, $(LIB_XBSA_SRCS))

########xbsacom#########
INC_XBSA_COM_DIR = ${TOP_DIR}/src/inc/apps/dws/XBSACom
SRC_XBSA_COM_DIR = ${TOP_DIR}/src/src/apps/dws/XBSACom
OBJ_XBSA_COM_DIR = ${OBJ_DIR}/XBSACom
LIB_XBSA_COM_SRCS = $(wildcard ${SRC_XBSA_COM_DIR}/*.cpp )
LIB_XBSA_COM_OBJS = $(patsubst ${SRC_XBSA_COM_DIR}/%.cpp, ${OBJ_XBSA_COM_DIR}/%.o, $(LIB_XBSA_COM_SRCS))

########xbsaclientcom#########
INC_XBSACOMM_CLIENT_DIR = ${TOP_DIR}/src/inc/xbsaclientcomm
SRC_XBSACOMM_CLIENT_DIR = ${TOP_DIR}/src/src/apps/xbsaclientcomm
OBJ_XBSACOMM_CLIENT_DIR = ${OBJ_DIR}/XBSACOMM
LIB_XBSACOMM_SRCS = $(wildcard ${SRC_XBSACOMM_CLIENT_DIR}/*.cpp)
LIB_XBSACOMM_OBJS = $(patsubst ${SRC_XBSACOMM_CLIENT_DIR}/%.cpp, ${OBJ_XBSACOMM_CLIENT_DIR}/%.o, $(LIB_XBSACOMM_SRCS))

# srouce files directory
SRC_DWS_SERVER_DIR = ${TOP_DIR}/src/src/apps/dws/XBSAServer
SRC_DWS_PLUGIN_DIR = ${TOP_DIR}/src/src/plugins/dws
# header files directory
INC_DWS_PLUGIN_DIR = ${TOP_DIR}/src/inc/plugins/dws
INC_DWS_SERVER_DIR = ${TOP_DIR}/src/inc/apps/dws/XBSAServer
# objects store path
OBJ_DWS_SERVER_DIR = ${OBJ_DIR}/apps/dws/XBSAServer
OBJ_DWS_PLUGIN_DIR = ${OBJ_DIR}/plugins/dws
# compile ojects
LIB_DWS_SERVER_SRCS = $(wildcard ${SRC_DWS_SERVER_DIR}/*.cpp)
LIB_DWS_PLUGIN_SRCS = $(wildcard ${SRC_DWS_PLUGIN_DIR}/*.cpp)
LIB_DWS_SERVER_OBJS = $(patsubst ${SRC_DWS_SERVER_DIR}/%.cpp, ${OBJ_DWS_SERVER_DIR}/%.o, $(LIB_DWS_SERVER_SRCS))
LIB_DWS_PLUGIN_OBJS = $(patsubst ${SRC_DWS_PLUGIN_DIR}/%.cpp, ${OBJ_DWS_PLUGIN_DIR}/%.o, $(LIB_DWS_PLUGIN_SRCS))

# targets
LIB_XBSA = ${PLUGINS_DIR}/libxbsa64.so
LIB_DWS = ${PLUGINS_DIR}/libdws-${AGENT_BUILD_NUM}.so
LIB_XBSA_SERVER = ${BIN_DIR}/libxbsaserver.a
XBSA_TARGET = ${LIB_XBSA} ${LIB_DWS}
########xbsa#########

INC_TEST_SRC_DIR                = ${TEST_ROOT}/src
INC_TEST_STUB_DIR                = ${TEST_ROOT}/src/stub
INC_Secodefuzz_DIR                = ${TEST_ROOT}/src/secodefuzz/Secodefuzz

#test src dir 
SRC_TEST_STUB_DIR                = ${TEST_ROOT}/src/stub
SRC_TEST_MAIN_DIR                = ${TEST_ROOT}/src
SRC_TEST_AGENT_DIR               = ${TEST_SRC}/agent
SRC_TEST_ALARM_DIR               = ${TEST_SRC}/alarm
SRC_TEST_APPS_APP_DIR            = ${TEST_SRC}/apps/app
SRC_TEST_APPS_ORACLE_DIR         = ${TEST_SRC}/apps/oracle
SRC_TEST_APPS_DIR         		 = ${TEST_SRC}/apps/app
SRC_TEST_APPS_ORACLENATIVE_DIR   = ${TEST_SRC}/apps/oraclenative
SRC_TEST_ARRAY_DIR               = ${TEST_SRC}/array
SRC_TEST_COMMON_DIR              = ${TEST_SRC}/common
SRC_TEST_DEVICE_DIR              = ${TEST_SRC}/device
SRC_TEST_HOST_DIR                = ${TEST_SRC}/host
SRC_TEST_PLUGINFX_DIR            = ${TEST_SRC}/pluginfx
SRC_TEST_PLUGINS_DIR             = ${TEST_SRC}/plugins
SRC_TEST_PLUGINS_HOST_DIR        = ${TEST_SRC}/plugins/host
SRC_TEST_PLUGINS_ORACLE_DIR      = ${TEST_SRC}/plugins/oracle
SRC_TEST_PLUGINS_APP_DIR         = ${TEST_SRC}/plugins/app
SRC_TEST_PLUGINS_ORACLENATIVE_DIR = ${TEST_SRC}/plugins/oraclenative
SRC_TEST_PLUGINS_TEST_DIR        = ${TEST_SRC}/plugins/test
SRC_TEST_PLUGINS_APPPROTECT_DIR  = ${TEST_SRC}/plugins/appprotect
SRC_TEST_TASKMANAGER_DIR         = ${TEST_SRC}/taskmanager
SRC_TEST_EXTERNALJOB_DIR         = ${TEST_SRC}/taskmanager/externaljob
SRC_TEST_FILTER_DIR              = ${TEST_SRC}/taskmanager/filter
SRC_TEST_ROOT_EXEC_DIR           = ${TEST_SRC}/rootexec
SRC_TEST_TOOLS_AGENTCLI_DIR      = ${TEST_SRC}/tools/agentcli
SRC_TEST_TOOLS_CRYPTO_DIR        = ${TEST_SRC}/tools/crypto
SRC_TEST_TOOLS_DATAMIGRATION_DIR = ${TEST_SRC}/tools/datamigration
SRC_TEST_TOOLS_GETINPUT_DIR      = ${TEST_SRC}/tools/getinput
SRC_TEST_TOOLS_MONITOR_DIR       = ${TEST_SRC}/tools/monitor
SRC_TEST_TOOLS_SCRIPTSIGN_DIR    = ${TEST_SRC}/tools/scriptsign
SRC_TEST_TOOLS_XMLCFG_DIR        = ${TEST_SRC}/tools/xmlcfg
SRC_TESET_CUNITPUB_DIR           = ${TEST_SRC}/cunitpub
SRC_TEST_REST_DIR                = ${TEST_SRC}/message/rest
SRC_TEST_TCP_DIR                 = ${TEST_SRC}/message/tcp
SRC_TEST_ARCHIVE_STREAM_DIR      = ${TEST_SRC}/message/archivestream
SRC_TEST_CURLHTTPCLIENT_DIR      = ${TEST_SRC}/message/curlclient
SRC_TEST_DATAPROCESS_DIR         = ${TEST_SRC}/dataprocess
SRC_TEST_SECURE_COM_DIR          = ${TEST_SRC}/securecom
SRC_TEST_XBSA_DIR                 = ${TEST_SRC}/apps/xbsa
SRC_TEST_DWS_DIR                 = ${TEST_SRC}/apps/dws
SRC_TEST_DWS_XBSASERVER_DIR      = ${TEST_SRC}/apps/dws/XBSAServer
SRC_TEST_SERVICE_FACTORY_DIR      = ${TEST_SRC}/servicecenter/servicefactory
SRC_TEST_THRIFT_SERVICE_DIR      = ${TEST_SRC}/servicecenter/thriftservice
SRC_TEST_CERTIFICATE_SERVICE_DIR      = ${TEST_SRC}/servicecenter/certificateservice
SRC_TEST_APPPROTECT_DIR           = ${TEST_SRC}/apps/appprotect
SRC_TEST_APPPROTECT_PLUGIN_DIR   = ${TEST_SRC}/apps/appprotect/plugininterface
SRC_TEST_MESSAGE_SERVICE_DIR     = ${TEST_SRC}/servicecenter/messageservice
SRC_TEST_JOB_SERVICE_DIR     = ${TEST_SRC}/servicecenter/services/jobservice
SRC_TEST_TIMER_SERVICE_DIR     = ${TEST_SRC}/servicecenter/timerservice
SRC_TEST_SERVICES_DEVICE_DIR     = ${TEST_SRC}/servicecenter/services/device
SRC_TEST_MESSAGE_ARCHIVESTREAM_DIR = ${TEST_SRC}/message/archivestream
SRC_TEST_THRIFT_SERVER_DIR     = ${HLT_TEST_SRC}/thrifttest/server
SRC_TEST_THRIFT_CLIENT_DIR     = ${HLT_TEST_SRC}/thrifttest/client
SRC_FUZZ_ORACLENATIVE_DIR = ${TEST_SRC}/fuzz/oraclenative
SRC_FUZZ_VMWARE_DIR = ${TEST_SRC}/fuzz/VMware
SRC_FUZZ_EXTERNALPLUGINMANAGER_DIR = ${TEST_SRC}/fuzz/externalpluginmanager
SRC_FUZZ_ARCHIVESTREAM_DIR = ${TEST_SRC}/fuzz/archivestream
SRC_FUZZ_ORACLE_DIR = ${TEST_SRC}/fuzz/oracle
SRC_FUZZ_HOSTAGENT_DIR = ${TEST_SRC}/fuzz/HostAgent
SRC_FUZZ_CMD_DIR = ${TEST_ROOT}/src/secodefuzz/Secodefuzz

#test obj dir 
OBJ_TEST_STUB_DIR                = ${TEST_OBJ}/stub
OBJ_TEST_MAIN_DIR                = ${TEST_OBJ}
OBJ_TEST_AGENT_DIR               = ${TEST_OBJ}/agent
OBJ_TEST_ALARM_DIR               = ${TEST_OBJ}/alarm
OBJ_TEST_APPS_APP_DIR            = ${TEST_OBJ}/apps/app
OBJ_TEST_APPS_ORACLE_DIR         = ${TEST_OBJ}/apps/oracle
OBJ_TEST_APPS_DIR         		 = ${TEST_OBJ}/apps/app
OBJ_TEST_APPS_ORACLENATIVE_DIR   = ${TEST_OBJ}/apps/oraclenative
OBJ_TEST_ARRAY_DIR               = ${TEST_OBJ}/array
OBJ_TEST_COMMON_DIR              = ${TEST_OBJ}/common
OBJ_TEST_DEVICE_DIR              = ${TEST_OBJ}/device
OBJ_TEST_HOST_DIR                = ${TEST_OBJ}/host
OBJ_TEST_PLUGINFX_DIR            = ${TEST_OBJ}/pluginfx
OBJ_TEST_PLUGINS_DIR             = ${TEST_OBJ}/plugins
OBJ_TEST_PLUGINS_HOST_DIR        = ${TEST_OBJ}/plugins/host
OBJ_TEST_PLUGINS_ORACLE_DIR      = ${TEST_OBJ}/plugins/oracle
OBJ_TEST_PLUGINS_APP_DIR         = ${TEST_OBJ}/plugins/app
OBJ_TEST_PLUGINS_ORACLENATIVE_DIR= ${TEST_OBJ}/plugins/oraclenative
OBJ_TEST_PLUGINS_APPPROTECT_DIR  = ${TEST_OBJ}/plugins/appprotect
OBJ_TEST_PLUGINS_TEST_DIR        = ${TEST_OBJ}/plugins/test
OBJ_TEST_TASKMANAGER_DIR         = ${TEST_OBJ}/taskmanager
OBJ_TEST_EXTERNALJOB_DIR         = ${TEST_OBJ}/taskmanager/externaljob
OBJ_TEST_FILTER_DIR              = ${TEST_OBJ}/taskmanager/filter
OBJ_TEST_ROOT_EXEC_DIR           = ${TEST_OBJ}/rootexec
OBJ_TEST_TOOLS_AGENTCLI_DIR      = ${TEST_OBJ}/tools/agentcli
OBJ_TEST_TOOLS_CRYPTO_DIR        = ${TEST_OBJ}/tools/crypto
OBJ_TEST_TOOLS_DATAMIGRATION_DIR = ${TEST_OBJ}/tools/datamigration
OBJ_TEST_TOOLS_GETINPUT_DIR      = ${TEST_OBJ}/tools/getinput
OBJ_TEST_TOOLS_MONITOR_DIR       = ${TEST_OBJ}/tools/monitor
OBJ_TEST_TOOLS_SCRIPTSIGN_DIR    = ${TEST_OBJ}/tools/scriptsign
OBJ_TEST_TOOLS_XMLCFG_DIR        = ${TEST_OBJ}/tools/xmlcfg
OBJ_TEST_CUNITPUB_DIR            = ${TEST_OBJ}/cunitpub
OBJ_TEST_REST_DIR                = ${TEST_OBJ}/rest
OBJ_TEST_TCP_DIR                 = ${TEST_OBJ}/tcp
OBJ_TEST_ARCHIVE_STREAM_DIR      = ${TEST_OBJ}/archivestream
OBJ_TEST_CURLHTTPCLIENT_DIR      = ${TEST_OBJ}/curlhttpclient
OBJ_TEST_DATAPROCESS_DIR         = ${TEST_OBJ}/dataprocess
OBJ_TEST_SECURE_COM_DIR          = ${TEST_OBJ}/securecom
OBJ_TEST_XBSA_DIR                 = ${TEST_OBJ}/apps/xbsa
OBJ_TEST_DWS_DIR                 = ${TEST_OBJ}/apps/dws
OBJ_TEST_DWS_XBSASERVER_DIR      = ${TEST_OBJ}/apps/dws/XBSAServer
OBJ_TEST_SERVICE_FACTORY_DIR      = ${TEST_OBJ}/servicecenter/servicefactory
OBJ_TEST_THRIFT_SERVICE_DIR      = ${TEST_OBJ}/servicecenter/thriftservice
OBJ_TEST_CERTIFICATE_SERVICE_DIR = ${TEST_OBJ}/servicecenter/certificateservice
OBJ_TEST_APPPROTECT_DIR          = ${TEST_OBJ}/apps/appprotect
OBJ_TEST_APPPROTECT_PLUGIN_DIR   = ${TEST_OBJ}/apps/appprotect/plugininterface
OBJ_TEST_MESSAGE_SERVICE_DIR      =  ${TEST_OBJ}/servicecenter/messageservice
OBJ_TEST_JOB_SERVICE_DIR      =  ${TEST_OBJ}/servicecenter/services/jobservice
OBJ_TEST_TIMER_SERVICE_DIR      =  ${TEST_OBJ}/servicecenter/timerservice
OBJ_TEST_SERVICES_DEVICE_DIR  = ${TEST_OBJ}/servicecenter/services/device
OBJ_TEST_MESSAGE_ARCHIVESTREAM_DIR =  ${TEST_OBJ}/message/archivestream
OBJ_TEST_THRIFT_SERVER_DIR  = ${HLT_TEST_OBJ}/thrifttest/server
OBJ_TEST_THRIFT_CLIENT_DIR  = ${HLT_TEST_OBJ}/thrifttest/client
OBJ_FUZZ_ORACLENATIVE_DIR = ${TEST_OBJ}/fuzz/oraclenative
OBJ_FUZZ_VMWARE_DIR = ${TEST_OBJ}/fuzz/VMware
OBJ_FUZZ_EXTERNALPLUGINMANAGER_DIR = ${TEST_OBJ}/fuzz/externalpluginmanager
OBJ_FUZZ_ARCHIVESTREAM_DIR = ${TEST_OBJ}/fuzz/archivestream
OBJ_FUZZ_ORACLE_DIR = ${TEST_OBJ}/fuzz/oracle
OBJ_FUZZ_HOSTAGENT_DIR = ${TEST_OBJ}/fuzz/HostAgent
OBJ_FUZZ_CMD_DIR = ${TEST_OBJ}/fuzz

#test src
TEST_STUB_SRCS                = $(wildcard ${SRC_TEST_STUB_DIR}/*.cpp)
TEST_MAIN_SRCS                = $(wildcard ${SRC_TEST_MAIN_DIR}/*.cpp)
TEST_AGENT_SRCS               = $(wildcard ${SRC_TEST_AGENT_DIR}/*.cpp)              
TEST_ALARM_SRCS               = $(wildcard ${SRC_TEST_ALARM_DIR}/*.cpp)              
TEST_APPS_ORACLE_SRCS         = $(wildcard ${SRC_TEST_APPS_ORACLE_DIR}/*.cpp) 
TEST_APPS_ORACLENATIVE_SRCS   = $(wildcard ${SRC_TEST_APPS_ORACLENATIVE_DIR}/*.cpp) 
TEST_APPS_SRCS         		  = $(wildcard ${SRC_TEST_APPS_DIR}/*.cpp)         
TEST_ARRAY_SRCS               = $(wildcard ${SRC_TEST_ARRAY_DIR}/*.cpp)              
TEST_COMMON_SRCS              = $(wildcard ${SRC_TEST_COMMON_DIR}/*.cpp)             
TEST_DEVICE_SRCS              = $(wildcard ${SRC_TEST_DEVICE_DIR}/*.cpp)             
TEST_HOST_SRCS                = $(wildcard ${SRC_TEST_HOST_DIR}/*.cpp)               
TEST_PLUGINFX_SRCS            = $(wildcard ${SRC_TEST_PLUGINFX_DIR}/*.cpp)           
TEST_PLUGINS_SRCS             = $(wildcard ${SRC_TEST_PLUGINS_DIR}/*.cpp)            
TEST_PLUGINS_HOST_SRCS        = $(wildcard ${SRC_TEST_PLUGINS_HOST_DIR}/*.cpp)       
TEST_PLUGINS_ORACLE_SRCS      = $(wildcard ${SRC_TEST_PLUGINS_ORACLE_DIR}/*.cpp) 
TEST_PLUGINS_APP_SRCS         = $(wildcard ${SRC_TEST_PLUGINS_APP_DIR}/*.cpp)
TEST_PLUGINS_ORACLENATIVE_SRCS   = $(wildcard ${SRC_TEST_PLUGINS_ORACLENATIVE_DIR}/*.cpp)
TEST_PLUGINS_APPPROTECT_SRCS	 = $(wildcard ${SRC_TEST_PLUGINS_APPPROTECT_DIR}/*.cpp)
TEST_TASKMANAGER_SRCS            = $(wildcard ${SRC_TEST_TASKMANAGER_DIR}/*.cpp)
TEST_EXTERNALJOB_SRCS            = $(wildcard ${SRC_TEST_EXTERNALJOB_DIR}/*.cpp) 
TEST_FILTER_SRCS                 = $(wildcard ${SRC_TEST_FILTER_DIR}/*.cpp) 
TEST_ROOT_EXEC_SRCS           = $(wildcard ${SRC_TEST_ROOT_EXEC_DIR}/*.cpp)          
TEST_TOOLS_AGENTCLI_SRCS      = $(wildcard ${SRC_TEST_TOOLS_AGENTCLI_DIR}/*.cpp)     
TEST_TOOLS_CRYPTO_SRCS        = $(wildcard ${SRC_TEST_TOOLS_CRYPTO_DIR}/*.cpp)       
TEST_TOOLS_DATAMIGRATION_SRCS = $(wildcard ${SRC_TEST_TOOLS_DATAMIGRATION_DIR}/*.cpp)
TEST_TOOLS_GETINPUT_SRCS      = $(wildcard ${SRC_TEST_TOOLS_GETINPUT_DIR}/*.cpp)     
TEST_TOOLS_MONITOR_SRCS       = $(wildcard ${SRC_TEST_TOOLS_MONITOR_DIR}/*.cpp)      
TEST_TOOLS_SCRIPTSIGN_SRCS    = $(wildcard ${SRC_TEST_TOOLS_SCRIPTSIGN_DIR}/*.cpp)   
TEST_TOOLS_XMLCFG_SRCS        = $(wildcard ${SRC_TEST_TOOLS_XMLCFG_DIR}/*.cpp)   
TEST_PLUGINS_TEST_SRCS        = $(wildcard ${SRC_TEST_PLUGINS_TEST_DIR}/*.cpp)
TEST_PLUGINS_TEST_OBJS        = $(patsubst ${SRC_TEST_PLUGINS_TEST_DIR}/%.cpp, ${OBJ_TEST_PLUGINS_TEST_DIR}/%.o, $(TEST_PLUGINS_TEST_SRCS))
TEST_CUNITPUB_SRCS			  = $(wildcard ${SRC_TESET_CUNITPUB_DIR}/*.cpp)    
TEST_DATAPROCESS_SRCS		  = $(wildcard ${SRC_TEST_DATAPROCESS_DIR}/*.cpp)
TEST_REST_SRCS		          = $(wildcard ${SRC_TEST_REST_DIR}/*.cpp)
TEST_TCP_SRCS		          = $(wildcard ${SRC_TEST_TCP_DIR}/*.cpp)
TEST_ARCHIVE_STREAM_SRCS      = $(wildcard ${SRC_TEST_ARCHIVE_STREAM_DIR}/*.cpp)
TEST_CURLHTTPCLIENT_SRCS	  = $(wildcard ${SRC_TEST_CURLHTTPCLIENT_DIR}/*.cpp)
TEST_XBSA_SRCS                = $(wildcard ${SRC_TEST_XBSA_DIR}/*.cpp)
TEST_DWS_SRCS                 = $(wildcard ${SRC_TEST_DWS_DIR}/*.cpp)
TEST_DWS_XBSASERVER_SRCS      = $(wildcard ${SRC_TEST_DWS_XBSASERVER_DIR}/*.cpp)
TEST_SECURE_COM_SRCS          = $(wildcard ${SRC_TEST_SECURE_COM_DIR}/*.cpp)
TEST_SERVICE_FACTORY_SRCS     = $(wildcard ${SRC_TEST_SERVICE_FACTORY_DIR}/*.cpp)
TEST_THRIFT_SERVICE_SRCS      = $(wildcard ${SRC_TEST_THRIFT_SERVICE_DIR}/*.cpp)
TEST_CERTIFICATE_SERVICE_SRCS      = $(wildcard ${SRC_TEST_CERTIFICATE_SERVICE_DIR}/*.cpp)
TEST_APPPROTECT_SRCS          = $(wildcard ${SRC_TEST_APPPROTECT_DIR}/*.cpp)
TEST_APPPROTECT_PLUGIN_SRCS   = $(wildcard ${SRC_TEST_APPPROTECT_PLUGIN_DIR}/*.cpp)
TEST_MESSAGE_SERVICE_SRCS     = $(wildcard ${SRC_TEST_MESSAGE_SERVICE_DIR}/*.cpp)
TEST_JOB_SERVICE_SRCS     = $(wildcard ${SRC_TEST_JOB_SERVICE_DIR}/*.cpp)
TEST_MESSAGE_ARCHIVESTREAM_SRCS = $(wildcard ${SRC_TEST_MESSAGE_ARCHIVESTREAM_DIR}/*.cpp)
TEST_TIMER_SERVICE_SRCS     = $(wildcard ${SRC_TEST_TIMER_SERVICE_DIR}/*.cpp)
TEST_SERVICES_DEVICE_SRCS  = $(wildcard ${SRC_TEST_SERVICES_DEVICE_DIR}/*.cpp)
TEST_THRIFT_SERVER_SRCS  = $(wildcard ${SRC_TEST_THRIFT_SERVER_DIR}/*.cpp)
TEST_THRIFT_CLIENT_SRCS  = $(wildcard ${SRC_TEST_THRIFT_CLIENT_DIR}/*.cpp)
FUZZ_ORACLENATIVE_SRCS  = $(wildcard ${SRC_FUZZ_ORACLENATIVE_DIR}/*.cpp)
FUZZ_VMWARE_SRCS  = $(wildcard ${SRC_FUZZ_VMWARE_DIR}/*.cpp)
FUZZ_EXTERNALPLUGINMANAGER_SRCS = $(wildcard ${SRC_FUZZ_EXTERNALPLUGINMANAGER_DIR}/*.cpp)
FUZZ_ARCHIVESTREAM_SRCS = $(wildcard ${SRC_FUZZ_ARCHIVESTREAM_DIR}/*.cpp)
FUZZ_ORACLE_SRCS  = $(wildcard ${SRC_FUZZ_ORACLE_DIR}/*.cpp)
FUZZ_HOSTAGENT_SRCS  = $(wildcard ${SRC_FUZZ_HOSTAGENT_DIR}/*.cpp)
FUZZ_CMD_SRCS  = $(wildcard ${SRC_FUZZ_CMD_DIR}/*.cpp)

#test objs
#TEST_STUB_OBJS = $(patsubst ${SRC_TEST_STUB_DIR}/%.cpp, ${OBJ_TEST_STUB_DIR}/%.o, $(TEST_STUB_SRCS))
TEST_MAIN_OBJS = $(patsubst ${SRC_TEST_MAIN_DIR}/%.cpp, ${OBJ_TEST_MAIN_DIR}/%.o, $(TEST_MAIN_SRCS))
TEST_AGENT_OBJS = $(patsubst ${SRC_TEST_AGENT_DIR}/%.cpp, ${OBJ_TEST_AGENT_DIR}/%.o, $(TEST_AGENT_SRCS))
TEST_ALARM_OBJS = $(patsubst ${SRC_TEST_ALARM_DIR}/%.cpp, ${OBJ_TEST_ALARM_DIR}/%.o, $(TEST_ALARM_SRCS))
TEST_APPS_ORACLE_OBJS = $(patsubst ${SRC_TEST_APPS_ORACLE_DIR}/%.cpp, ${OBJ_TEST_APPS_ORACLE_DIR}/%.o, $(TEST_APPS_ORACLE_SRCS))
TEST_APPS_OBJS = $(patsubst ${SRC_TEST_APPS_DIR}/%.cpp, ${OBJ_TEST_APPS_DIR}/%.o, $(TEST_APPS_SRCS))
TEST_APPS_ORACLENATIVE_OBJS = $(patsubst ${SRC_TEST_APPS_ORACLENATIVE_DIR}/%.cpp, ${OBJ_TEST_APPS_ORACLENATIVE_DIR}/%.o, $(TEST_APPS_ORACLENATIVE_SRCS))
TEST_ARRAY_OBJS = $(patsubst ${SRC_TEST_ARRAY_DIR}/%.cpp, ${OBJ_TEST_ARRAY_DIR}/%.o, $(TEST_ARRAY_SRCS))
TEST_COMMON_OBJS = $(patsubst ${SRC_TEST_COMMON_DIR}/%.cpp, ${OBJ_TEST_COMMON_DIR}/%.o, $(TEST_COMMON_SRCS))
TEST_TASKMANAGER_OBJS = $(patsubst ${SRC_TEST_TASKMANAGER_DIR}/%.cpp, ${OBJ_TEST_TASKMANAGER_DIR}/%.o, $(TEST_TASKMANAGER_SRCS))
TEST_EXTERNALJOB_OBJS = $(patsubst ${SRC_TEST_EXTERNALJOB_DIR}/%.cpp, ${OBJ_TEST_EXTERNALJOB_DIR}/%.o, $(TEST_EXTERNALJOB_SRCS))
TEST_FILTER_OBJS = $(patsubst ${SRC_TEST_FILTER_DIR}/%.cpp, ${OBJ_TEST_FILTER_DIR}/%.o, $(TEST_FILTER_SRCS))
TEST_DEVICE_OBJS = $(patsubst ${SRC_TEST_DEVICE_DIR}/%.cpp, ${OBJ_TEST_DEVICE_DIR}/%.o, $(TEST_DEVICE_SRCS))
TEST_HOST_OBJS = $(patsubst ${SRC_TEST_HOST_DIR}/%.cpp, ${OBJ_TEST_HOST_DIR}/%.o, $(TEST_HOST_SRCS))
TEST_PLUGINFX_OBJS = $(patsubst ${SRC_TEST_PLUGINFX_DIR}/%.cpp, ${OBJ_TEST_PLUGINFX_DIR}/%.o, $(TEST_PLUGINFX_SRCS))
TEST_PLUGINS_OBJS = $(patsubst ${SRC_TEST_PLUGINS_DIR}/%.cpp, ${OBJ_TEST_PLUGINS_DIR}/%.o, $(TEST_PLUGINS_SRCS))
TEST_PLUGINS_HOST_OBJS = $(patsubst ${SRC_TEST_PLUGINS_HOST_DIR}/%.cpp, ${OBJ_TEST_PLUGINS_HOST_DIR}/%.o, $(TEST_PLUGINS_HOST_SRCS))
TEST_PLUGINS_ORACLE_OBJS = $(patsubst ${SRC_TEST_PLUGINS_ORACLE_DIR}/%.cpp, ${OBJ_TEST_PLUGINS_ORACLE_DIR}/%.o, $(TEST_PLUGINS_ORACLE_SRCS))
TEST_PLUGINS_APP_OBJS = $(patsubst ${SRC_TEST_PLUGINS_APP_DIR}/%.cpp, ${OBJ_TEST_PLUGINS_APP_DIR}/%.o, $(TEST_PLUGINS_APP_SRCS))
TEST_PLUGINS_ORACLENATIVE_OBJS = $(patsubst ${SRC_TEST_PLUGINS_ORACLENATIVE_DIR}/%.cpp, ${OBJ_TEST_PLUGINS_ORACLENATIVE_DIR}/%.o, $(TEST_PLUGINS_ORACLENATIVE_SRCS))
TEST_PLUGINS_APPPROTECT_OBJS = $(patsubst ${SRC_TEST_PLUGINS_APPPROTECT_DIR}/%.cpp, ${OBJ_TEST_PLUGINS_APPPROTECT_DIR}/%.o, $(TEST_PLUGINS_APPPROTECT_SRCS))
TEST_REST_OBJS = $(patsubst ${SRC_TEST_REST_DIR}/%.cpp, ${OBJ_TEST_REST_DIR}/%.o, $(TEST_REST_SRCS))
TEST_TCP_OBJS = $(patsubst ${SRC_TEST_TCP_DIR}/%.cpp, ${OBJ_TEST_TCP_DIR}/%.o, $(TEST_TCP_SRCS))
TEST_CURLHTTPCLIENT_OBJS = $(patsubst ${SRC_TEST_CURLHTTPCLIENT_DIR}/%.cpp, ${OBJ_TEST_CURLHTTPCLIENT_DIR}/%.o, $(TEST_CURLHTTPCLIENT_SRCS))
TEST_ROOT_EXEC_OBJS = $(patsubst ${SRC_TEST_ROOT_EXEC_DIR}/%.cpp, ${OBJ_TEST_ROOT_EXEC_DIR}/%.o, $(TEST_ROOT_EXEC_SRCS))
TEST_TOOLS_AGENTCLI_OBJS = $(patsubst ${SRC_TEST_TOOLS_AGENTCLI_DIR}/%.cpp, ${OBJ_TEST_TOOLS_AGENTCLI_DIR}/%.o, $(TEST_TOOLS_AGENTCLI_SRCS))
TEST_TOOLS_CRYPTO_OBJS = $(patsubst ${SRC_TEST_TOOLS_CRYPTO_DIR}/%.cpp, ${OBJ_TEST_TOOLS_CRYPTO_DIR}/%.o, $(TEST_TOOLS_CRYPTO_SRCS))
TEST_TOOLS_DATAMIGRATION_OBJS = $(patsubst ${SRC_TEST_TOOLS_DATAMIGRATION_DIR}/%.cpp, ${OBJ_TEST_TOOLS_DATAMIGRATION_DIR}/%.o, $(TEST_TOOLS_DATAMIGRATION_SRCS))
TEST_TOOLS_GETINPUT_OBJS = $(patsubst ${SRC_TEST_TOOLS_GETINPUT_DIR}/%.cpp, ${OBJ_TEST_TOOLS_GETINPUT_DIR}/%.o, $(TEST_TOOLS_GETINPUT_SRCS))
TEST_TOOLS_MONITOR_OBJS = $(patsubst ${SRC_TEST_TOOLS_MONITOR_DIR}/%.cpp, ${OBJ_TEST_TOOLS_MONITOR_DIR}/%.o, $(TEST_TOOLS_MONITOR_SRCS))
TEST_TOOLS_SCRIPTSIGN_OBJS = $(patsubst ${SRC_TEST_TOOLS_SCRIPTSIGN_DIR}/%.cpp, ${OBJ_TEST_TOOLS_SCRIPTSIGN_DIR}/%.o, $(TEST_TOOLS_SCRIPTSIGN_SRCS))
TEST_TOOLS_XMLCFG_OBJS = $(patsubst ${SRC_TEST_TOOLS_XMLCFG_DIR}/%.cpp, ${OBJ_TEST_TOOLS_XMLCFG_DIR}/%.o, $(TEST_TOOLS_XMLCFG_SRCS))
TEST_CUNITPUB_OBJ = $(patsubst ${SRC_TESET_CUNITPUB_DIR}/%.cpp, ${OBJ_TEST_CUNITPUB_DIR}/%.o, $(TEST_CUNITPUB_SRCS))
TEST_DATAPROCESS_OBJS = $(patsubst ${SRC_TEST_DATAPROCESS_DIR}/%.cpp, ${OBJ_TEST_DATAPROCESS_DIR}/%.o, $(TEST_DATAPROCESS_SRCS))
TEST_SECURE_COM_OBJS = $(patsubst ${SRC_TEST_SECURE_COM_DIR}/%.cpp, ${OBJ_TEST_SECURE_COM_DIR}/%.o, $(TEST_SECURE_COM_SRCS))
TEST_ARCHIVE_STREAM_OBJS = $(patsubst ${SRC_TEST_ARCHIVE_STREAM_DIR}/%.cpp, ${OBJ_TEST_ARCHIVE_STREAM_DIR}/%.o, $(TEST_ARCHIVE_STREAM_SRCS))
TEST_XBSA_OBJS = $(patsubst ${SRC_TEST_XBSA_DIR}/%.cpp, ${OBJ_TEST_XBSA_DIR}/%.o, $(TEST_XBSA_SRCS))
TEST_DWS_OBJS = $(patsubst ${SRC_TEST_DWS_DIR}/%.cpp, ${OBJ_TEST_DWS_DIR}/%.o, $(TEST_DWS_SRCS))
TEST_XBSA_SERVER_OBJS = $(patsubst ${SRC_TEST_DWS_XBSASERVER_DIR}/%.cpp, ${OBJ_TEST_DWS_XBSASERVER_DIR}/%.o, $(TEST_DWS_XBSASERVER_SRCS))
TEST_SERVICE_FACTORY_OBJS = $(patsubst ${SRC_TEST_SERVICE_FACTORY_DIR}/%.cpp, ${OBJ_TEST_SERVICE_FACTORY_DIR}/%.o, $(TEST_SERVICE_FACTORY_SRCS))
TEST_THRIFT_SERVICE_OBJS = $(patsubst ${SRC_TEST_THRIFT_SERVICE_DIR}/%.cpp, ${OBJ_TEST_THRIFT_SERVICE_DIR}/%.o, $(TEST_THRIFT_SERVICE_SRCS))
TEST_CERTIFICATE_SERVICE_OBJS = $(patsubst ${SRC_TEST_CERTIFICATE_SERVICE_DIR}/%.cpp, ${OBJ_TEST_CERTIFICATE_SERVICE_DIR}/%.o, $(TEST_CERTIFICATE_SERVICE_SRCS))
TEST_APPPROTECT_PLUGIN_OBJS = $(patsubst ${SRC_TEST_APPPROTECT_PLUGIN_DIR}/%.cpp, ${OBJ_TEST_APPPROTECT_PLUGIN_DIR}/%.o, $(TEST_APPPROTECT_PLUGIN_SRCS))
TEST_APPPROTECT_OBJS = $(patsubst ${SRC_TEST_APPPROTECT_DIR}/%.cpp, ${OBJ_TEST_APPPROTECT_DIR}/%.o, $(TEST_APPPROTECT_SRCS))
TEST_MESSAGE_SERVICE_OBJS = $(patsubst ${SRC_TEST_MESSAGE_SERVICE_DIR}/%.cpp, ${OBJ_TEST_MESSAGE_SERVICE_DIR}/%.o, $(TEST_MESSAGE_SERVICE_SRCS))
TEST_JOB_SERVICE_OBJS = $(patsubst ${SRC_TEST_JOB_SERVICE_DIR}/%.cpp, ${OBJ_TEST_JOB_SERVICE_DIR}/%.o, $(TEST_JOB_SERVICE_SRCS))
TEST_MESSAGE_ARCHIVESTREAM_OBJS = $(patsubst ${SRC_TEST_MESSAGE_ARCHIVESTREAM_DIR}/%.cpp, ${OBJ_TEST_MESSAGE_ARCHIVESTREAM_DIR}/%.o, $(TEST_MESSAGE_ARCHIVESTREAM_SRCS))
TEST_TIMER_SERVICE_OBJS = $(patsubst ${SRC_TEST_TIMER_SERVICE_DIR}/%.cpp, ${OBJ_TEST_TIMER_SERVICE_DIR}/%.o, $(TEST_TIMER_SERVICE_SRCS))
TEST_SERVICES_DEVICE_OBJS = $(patsubst ${SRC_TEST_SERVICES_DEVICE_DIR}/%.cpp, ${OBJ_TEST_SERVICES_DEVICE_DIR}/%.o, $(TEST_SERVICES_DEVICE_SRCS))
TEST_THRIFT_SERVER_OBJS = $(patsubst ${SRC_TEST_THRIFT_SERVER_DIR}/%.cpp, ${OBJ_TEST_THRIFT_SERVER_DIR}/%.o, $(TEST_THRIFT_SERVER_SRCS))
TEST_THRIFT_CLIENT_OBJS = $(patsubst ${SRC_TEST_THRIFT_CLIENT_DIR}/%.cpp, ${OBJ_TEST_THRIFT_CLIENT_DIR}/%.o, $(TEST_THRIFT_CLIENT_SRCS))
FUZZ_ORACLENATIVE_OBJS = $(patsubst ${SRC_FUZZ_ORACLENATIVE_DIR}/%.cpp, ${OBJ_FUZZ_ORACLENATIVE_DIR}/%.o, $(FUZZ_ORACLENATIVE_SRCS))
FUZZ_VMWARE_OBJS = $(patsubst ${SRC_FUZZ_VMWARE_DIR}/%.cpp, ${OBJ_FUZZ_VMWARE_DIR}/%.o, $(FUZZ_VMWARE_SRCS))
FUZZ_EXTERNALPLUGINMANAGER_OBJS = $(patsubst ${SRC_FUZZ_EXTERNALPLUGINMANAGER_DIR}/%.cpp, ${OBJ_FUZZ_EXTERNALPLUGINMANAGER_DIR}/%.o, $(FUZZ_EXTERNALPLUGINMANAGER_SRCS))
FUZZ_ARCHIVESTREAM_OBJS = $(patsubst ${SRC_FUZZ_ARCHIVESTREAM_DIR}/%.cpp, ${OBJ_FUZZ_ARCHIVESTREAM_DIR}/%.o, ${FUZZ_ARCHIVESTREAM_SRCS})
FUZZ_ORACLE_OBJS = $(patsubst ${SRC_FUZZ_ORACLE_DIR}/%.cpp, ${OBJ_FUZZ_ORACLE_DIR}/%.o, $(FUZZ_ORACLE_SRCS))
FUZZ_HOSTAGENT_OBJS = $(patsubst ${SRC_FUZZ_HOSTAGENT_DIR}/%.cpp, ${OBJ_FUZZ_HOSTAGENT_DIR}/%.o, $(FUZZ_HOSTAGENT_SRCS))
FUZZ_CMD_OBJS = $(patsubst ${SRC_FUZZ_CMD_DIR}/%.cpp, ${OBJ_FUZZ_CMD_DIR}/%.o, $(FUZZ_CMD_SRCS))


TEST_ALL_INCLUDE = ${GCOV_COMPILE_FLAG} -I${GTESTLIB_DIR}/include -I${TEST_INC} -I${BASE_INC} -I${BASE_OPEN_INC} -I${INC_SECUREC_DIR} -I${INC_OPEN_JSON_DIR} \
	-I${INC_OPEN_TINYXML_DIR} -I${INC_OPEN_OPENSSL_DIR} -I${OPEN_CURL_DIR} -I${INC_OPEN_SQLITE_DIR} -I${INC_OPEN_SNMP_DIR} -I${INC_OPEN_SNMP_MAIN_DIR} \
	-I${INC_TEST_STUB_DIR} -I${INC_TEST_SRC_DIR} -I${INC_KMC_INC_DIR} -I${INC_KMC_MAIN_DIR} -I${SYSTEM_INC}/uuid/ -I${INC_OPEN_THRIFT_DIR} -I${INC_XBSA_COM_DIR} -I${INC_DWS_PLUGIN_DIR} \
	-I${INC_DWS_SERVER_DIR} -I${BASE_INC}/apps/dws -I${INC_LIBEVENT_DIR} -I${INC_BOOST_DIR} -I${INC_OPEN_UUID_MAIN_DIR} -I${INC_THRIFT_SERVICE_DIR} -I${INC_SERVICE_CENTER_DIR} \
	-I${INC_APPPROTECT_PLUGIN_DIR} -I${INC_APPPROTECT_DIR} -I${INC_XBSA_CLIENT_DIR} -I${INC_XBSACOMM_CLIENT_DIR}

CFLAGS += ${GCOV_COMPILE_FLAG}

#The .o files in the following directories contain the main function. Therefore, special processing is required.
ROOT_EXEC_OBJS = $(filter-out ${OBJ_ROOT_EXEC_DIR}/RootExecMain.o, $(patsubst ${SRC_ROOT_EXEC_DIR}/%.cpp, ${OBJ_ROOT_EXEC_DIR}/%.o, $(ROOT_EXEC_SRCS)))
DATAMIGRATION_OBJS = $(filter-out ${OBJ_DATAMIGRATION_DIR}/DataMigrationMain.o, $(patsubst ${SRC_DATAMIGRATION_DIR}/%.cpp, ${OBJ_DATAMIGRATION_DIR}/%.o, $(DATAMIGRATION_SRCS)))
AGENT_OBJS = $(filter-out ${OBJ_AGENT_DIR}/Agent.o, $(patsubst ${SRC_AGENT_DIR}/%.cpp, ${OBJ_AGENT_DIR}/%.o, $(AGENT_SRCS)))
SCRIPTSIGN_OBJS = $(filter-out ${OBJ_SCRIPTSIGN_DIR}/ScriptSignMain.o, $(patsubst ${SRC_SCRIPTSIGN_DIR}/%.cpp, ${OBJ_SCRIPTSIGN_DIR}/%.o, $(SCRIPTSIGN_SRCS)))
MONITOR_OBJS = $(filter-out ${OBJ_MONITOR_DIR}/Monitor.o, $(patsubst ${SRC_MONITOR_DIR}/%.cpp, ${OBJ_MONITOR_DIR}/%.o, $(MONITOR_SRCS)))
XMLCFG_OBJS = $(filter-out ${OBJ_XMLCFG_DIR}/XmlCfg.o, $(patsubst ${SRC_XMLCFG_DIR}/%.cpp, ${OBJ_XMLCFG_DIR}/%.o, $(XMLCFG_SRCS)))
AGENTCLI_OBJS = $(filter-out ${OBJ_AGENTCLI_DIR}/AgentCli.o, $(patsubst ${SRC_AGENTCLI_DIR}/%.cpp, ${OBJ_AGENTCLI_DIR}/%.o, $(AGENTCLI_SRCS)))
DATAPATH_OBJS = $(filter-out ${OBJ_DATAPATH_DIR}/DataProcess.o, $(patsubst ${SRC_DATAPATH_DIR}/%.cpp, ${OBJ_DATAPATH_DIR}/%.o, $(DATAPATH_SRCS)))

ifeq (${SYSTEM},Linux)
LIB_STD = -static-libstdc++
LIB_TCMALLOC = -ltcmalloc
else
LIB_STD=
LIB_TCMALLOC=
endif

all: ${BIN_COMMON_TEST} ${LIB_COMMON} ${BIN_XBSA_TEST} ${BIN_ARCHIVE_STREAM_TEST} ${BIN_DWS_TEST} ${BIN_XBSA_SERVER_TEST} ${BIN_ALARM_TEST} ${LIB_SECURE_COM} ${LIB_TEST} ${LIB_HOST}  ${BIN_ARRAY_TEST} ${BIN_AGENT_TEST} \
${BIN_HOST_TEST} ${BIN_PLUGINFX_TEST} ${BIN_DEVICE_TEST} ${BIN_TOOLS_TEST} ${BIN_ROOTEXEC_TEST} ${BIN_APPORAC_TEST} \
${BIN_PLUGINS_HOST_TEST} \
${BIN_PLUGINS_ORACLE_TEST} ${BIN_REST_TEST} ${BIN_TCP_TEST} ${BIN_CURLHTTPCLIENT_TEST} ${BIN_PLUGINS_TEST} \
${BIN_PLUGINS_ORACLENATIVE_TEST} ${BIN_APPORACNATIVE_TEST} ${BIN_TASKMANAGER_TEST} ${BIN_DATAPROCESS_TEST} ${BIN_SECURE_COM_TEST} ${BIN_SERVICE_CENTER_TEST} ${BIN_APPPROTECT_PLUGIN_TEST}

fuzz: ${BIN_FUZZ_ORACLENATIVE} ${BIN_FUZZ_ARCHIVESTREAM} ${BIN_FUZZ_ORACLE} ${BIN_FUZZ_EXTERNALPLUGINMANAGER} ${BIN_FUZZ_VMWARE} ${BIN_FUZZ_HOSTAGENT}

###########################################################################################################
${FUZZ_CMD_OBJS}:${OBJ_FUZZ_CMD_DIR}/%.o:${SRC_FUZZ_CMD_DIR}/%.cpp
	${CPPC} ${CFLAGS} ${TEST_ALL_INCLUDE} -I${INC_Secodefuzz_DIR} -c $< -o $@

###########################################################################################################
${BIN_FUZZ_ORACLENATIVE}: ${TEST_MAIN_OBJS} ${FUZZ_ORACLENATIVE_OBJS} \
	${COMMON_OBJS} ${SECURE_COM_OBJS} ${SECUREC_OBJS} \
	${TINYXML_OBJS} ${SQLITE_OBJS} ${JSON_OBJS} ${ARRAY_OBJS} ${ALARM_OBJS} ${CURLCLIENT_OBJS} \
	${REST_OBJS} ${TCP_OBJS} ${DEVICE_OBJS} ${PLUGINS_OBJS} ${HOST_OBJS} ${APPS_ORACLENATIVE_OBJS} \
	${PLUGINS_ORACLENATIVE_OBJS} ${APPS_ORACLE_OBJS} ${TIMER_SERVICE_OBJS} ${CERTIFICATE_SERVICE_OBJS} ${JOB_SERVICE_OBJS} \
	${DATAMSG_OBJS} ${TASKMANAGER_OBJS} ${EXTERNALJOB_OBJS} ${FILTER_OBJS} ${APPPROTECT_PLUGIN_OBJS} \
	${PLUGINFX_OBJS} ${MESSAGE_SERVICE_OBJS} ${THRIFT_SERVICE_OBJS} ${SERVICE_FACTORY_OBJS} ${SERVICES_DEVICE_OBJS} 
	${CPPC} ${OFLAGS} $^ ${GTESTLIB_DIR}/libgtest.a ${LIB_FUZZ_DIR}/libSecodefuzz.a \
	-L${OPEN_OPENSSL_LIB_DIR} -L${OPEN_FCGI_LIB_DIR} -L${OPEN_CURL_LIB_DIR} \
	-L${TCMALLOC_LIB_DIR} ${LIB_TCMALLOC} -L${OPEN_SNMP_LIB_DIR} -L${KMC_LIB_DIR} -L${OPEN_THRIFT_DIR} -L${OPEN_LIBEVENT_DIR} \
	-lthriftz -lthriftnb -lthrift -levent -luuid -lsnmp++ -ldl -lKMC -lSDP -lrt -lfcgi -lcurl -lssl -lcrypto -lpthread -lgcov -o ${BIN_FUZZ_ORACLENATIVE}

${FUZZ_ORACLENATIVE_OBJS}:${OBJ_FUZZ_ORACLENATIVE_DIR}/%.o:${SRC_FUZZ_ORACLENATIVE_DIR}/%.cpp
	${CPPC} ${CFLAGS} ${TEST_ALL_INCLUDE} -I${INC_Secodefuzz_DIR} -c $< -o $@

###########################################################################################################
${BIN_FUZZ_VMWARE}: ${TEST_MAIN_OBJS} ${FUZZ_VMWARE_OBJS} \
	${COMMON_OBJS} ${SECURE_COM_OBJS} ${SECUREC_OBJS} \
	${TINYXML_OBJS} ${SQLITE_OBJS} ${JSON_OBJS} ${ARRAY_OBJS} ${ALARM_OBJS} ${CURLCLIENT_OBJS} ${REST_OBJS} ${TCP_OBJS} \
	${DEVICE_OBJS} ${PLUGINS_OBJS} ${HOST_OBJS} ${TIMER_SERVICE_OBJS} ${CERTIFICATE_SERVICE_OBJS} ${JOB_SERVICE_OBJS} \
	${APPS_ORACLENATIVE_OBJS} ${PLUGINS_ORACLENATIVE_OBJS} ${APPS_ORACLE_OBJS} \
	${DATAMSG_OBJS} ${TASKMANAGER_OBJS} ${EXTERNALJOB_OBJS} ${FILTER_OBJS} ${APPPROTECT_PLUGIN_OBJS} \
	${PLUGINFX_OBJS} ${MESSAGE_SERVICE_OBJS} ${THRIFT_SERVICE_OBJS} ${SERVICE_FACTORY_OBJS} ${SERVICES_DEVICE_OBJS} \
	${DATACONFIG_OBJS} ${DATAMSG_OBJS} ${DATAPATH_OBJS} ${DATARW_OBJS} ${DATAVMWARE_OBJS} ${DP_QOS_OBJS} ${DP_SCH_OBJS} \
	${CURLCLIENT_OBJS} ${FUZZ_CMD_OBJS}
	${CPPC} ${OFLAGS} $^ ${GTESTLIB_DIR}/libgtest.a ${LIB_FUZZ_DIR}/libSecodefuzz.a \
	-L${OPEN_OPENSSL_LIB_DIR} -L${OPEN_FCGI_LIB_DIR} -L${OPEN_CURL_LIB_DIR} \
	-L${TCMALLOC_LIB_DIR} ${LIB_TCMALLOC} -L${OPEN_SNMP_LIB_DIR} -L${KMC_LIB_DIR} -L${OPEN_THRIFT_DIR} -L${OPEN_LIBEVENT_DIR} -L${OPEN_SRC_DIR}/libaio/lib \
	-lthriftz -lthriftnb -lthrift -levent -laio -luuid -lsnmp++ -ldl -lKMC -lSDP -lrt -lfcgi -lcurl -lssl -lcrypto -lpthread -lgcov -o ${BIN_FUZZ_VMWARE}

${FUZZ_VMWARE_OBJS}:${OBJ_FUZZ_VMWARE_DIR}/%.o:${SRC_FUZZ_VMWARE_DIR}/%.cpp
	${CPPC} ${CFLAGS} ${TEST_ALL_INCLUDE} -I${INC_Secodefuzz_DIR} -c $< -o $@

${BIN_FUZZ_ARCHIVESTREAM}: ${TEST_MAIN_OBJS} ${FUZZ_ARCHIVESTREAM_OBJS} \
	${COMMON_OBJS} ${SECURE_COM_OBJS} ${SECUREC_OBJS} \
	${TINYXML_OBJS} ${SQLITE_OBJS} ${JSON_OBJS} ${ARRAY_OBJS} ${ALARM_OBJS} ${CURLCLIENT_OBJS} \
	${REST_OBJS} ${DEVICE_OBJS} ${PLUGINS_OBJS} ${HOST_OBJS} ${TIMER_SERVICE_OBJS} ${CERTIFICATE_SERVICE_OBJS} ${JOB_SERVICE_OBJS} \
	${APPS_ORACLENATIVE_OBJS} ${PLUGINS_ORACLENATIVE_OBJS} ${APPS_ORACLE_OBJS} \
	${DATAMSG_OBJS} ${TASKMANAGER_OBJS} ${EXTERNALJOB_OBJS} ${FILTER_OBJS} ${APPPROTECT_PLUGIN_OBJS} \
	${PLUGINFX_OBJS} ${MESSAGE_SERVICE_OBJS} ${THRIFT_SERVICE_OBJS} ${SERVICE_FACTORY_OBJS} ${SERVICES_DEVICE_OBJS} \
	${MESSAGE_ARCHIVESTREAM_OBJS} ${TCP_OBJS_SSL} ${FUZZ_CMD_OBJS}
	${CPPC} ${OFLAGS} $^ ${GTESTLIB_DIR}/libgtest.a ${LIB_FUZZ_DIR}/libSecodefuzz.a \
	-L${OPEN_OPENSSL_LIB_DIR} -L${OPEN_FCGI_LIB_DIR} -L${OPEN_CURL_LIB_DIR} \
	-L${TCMALLOC_LIB_DIR} ${LIB_TCMALLOC} -L${OPEN_SNMP_LIB_DIR} -L${KMC_LIB_DIR} -L${OPEN_THRIFT_DIR} -L${OPEN_LIBEVENT_DIR} \
	-lthriftz -lthriftnb -lthrift -levent -luuid -lsnmp++ -ldl -lKMC -lSDP -lrt -lfcgi -lcurl -lssl -lcrypto -lpthread -lgcov -o ${BIN_FUZZ_ARCHIVESTREAM}

${FUZZ_ARCHIVESTREAM_OBJS}:${OBJ_FUZZ_ARCHIVESTREAM_DIR}/%.o:${SRC_FUZZ_ARCHIVESTREAM_DIR}/%.cpp
	${CPPC} ${CFLAGS} ${TEST_ALL_INCLUDE} -I${INC_Secodefuzz_DIR} -c $< -o $@
	
${BIN_FUZZ_ORACLE}: ${TEST_MAIN_OBJS} ${FUZZ_ORACLE_OBJS} \
	${COMMON_OBJS} ${SECURE_COM_OBJS} ${SECUREC_OBJS} \
	${TINYXML_OBJS} ${SQLITE_OBJS} ${JSON_OBJS} ${ARRAY_OBJS} ${ALARM_OBJS} ${CURLCLIENT_OBJS} \
	${REST_OBJS} ${TCP_OBJS} ${DEVICE_OBJS} ${PLUGINS_OBJS} ${HOST_OBJS} \
	${PLUGINS_ORACLE_OBJS} ${APPS_ORACLE_OBJS} ${TIMER_SERVICE_OBJS} ${CERTIFICATE_SERVICE_OBJS} ${JOB_SERVICE_OBJS} \
	${DATAMSG_OBJS} ${TASKMANAGER_OBJS} ${EXTERNALJOB_OBJS} ${FILTER_OBJS} ${APPPROTECT_PLUGIN_OBJS} ${FUZZ_CMD_OBJS} \
	${PLUGINFX_OBJS} ${MESSAGE_SERVICE_OBJS} ${THRIFT_SERVICE_OBJS} ${SERVICE_FACTORY_OBJS} ${SERVICES_DEVICE_OBJS} 
	${CPPC} ${OFLAGS} $^ ${GTESTLIB_DIR}/libgtest.a ${LIB_FUZZ_DIR}/libSecodefuzz.a \
	-L${OPEN_OPENSSL_LIB_DIR} -L${OPEN_FCGI_LIB_DIR} -L${OPEN_CURL_LIB_DIR} \
	-L${TCMALLOC_LIB_DIR} ${LIB_TCMALLOC} -L${OPEN_SNMP_LIB_DIR} -L${KMC_LIB_DIR} -L${OPEN_THRIFT_DIR} -L${OPEN_LIBEVENT_DIR} \
	-lthriftz -lthriftnb -lthrift -levent -luuid -lsnmp++ -ldl -lKMC -lSDP -lrt -lfcgi -lcurl -lssl -lcrypto -lpthread -lgcov -o ${BIN_FUZZ_ORACLE}

${FUZZ_ORACLE_OBJS}:${OBJ_FUZZ_ORACLE_DIR}/%.o:${SRC_FUZZ_ORACLE_DIR}/%.cpp
	${CPPC} ${CFLAGS} ${TEST_ALL_INCLUDE} -I${INC_Secodefuzz_DIR} -c $< -o $@

${BIN_FUZZ_HOSTAGENT}: ${FUZZ_HOSTAGENT_OBJS} \
	${JSON_OBJS} ${COMMON_OBJS} ${SECUREC_OBJS} ${SECURE_COM_OBJS} ${TINYXML_OBJS} \
	${TEST_STUB_OBJS} ${TEST_MAIN_OBJS} ${HOST_OBJS} ${SERVICES_DEVICE_OBJS} ${PLUGINS_HOST_OBJS}  \
	${ARRAY_OBJS} ${SQLITE_OBJS} ${TASKMANAGER_OBJS} ${FILTER_OBJS} ${TCP_OBJS} ${ALARM_OBJS} ${CURLCLIENT_OBJS} ${MESSAGE_SERVICE_OBJS} \
	${APPPROTECT_PLUGIN_OBJS} ${PLUGINFX_OBJS} ${THRIFT_SERVICE_OBJS} ${SERVICE_FACTORY_OBJS} ${AGENT_OBJS} ${REST_OBJS} \
	${PLUGINS_OBJS} ${DATAMSG_OBJS} ${TIMER_SERVICE_OBJS} ${CERTIFICATE_SERVICE_OBJS} ${JOB_SERVICE_OBJS} ${FUZZ_CMD_OBJS}
	${CPPC} ${OFLAGS} $^ ${GTESTLIB_DIR}/libgtest.a ${LIB_FUZZ_DIR}/libSecodefuzz.a \
	-L${OPEN_OPENSSL_LIB_DIR} -L${OPEN_FCGI_LIB_DIR} -L${OPEN_CURL_LIB_DIR} \
	-L${TCMALLOC_LIB_DIR} ${LIB_TCMALLOC} -L${OPEN_SNMP_LIB_DIR} -L${KMC_LIB_DIR} -L${OPEN_THRIFT_DIR} -L${OPEN_LIBEVENT_DIR} \
	-lthriftz -lthriftnb -lthrift -levent -luuid -lsnmp++ -ldl -lKMC -lSDP -lrt -lfcgi -lcurl -lssl -lcrypto -lpthread -lgcov -o ${BIN_FUZZ_HOSTAGENT}

${FUZZ_HOSTAGENT_OBJS}:${OBJ_FUZZ_HOSTAGENT_DIR}/%.o:${SRC_FUZZ_HOSTAGENT_DIR}/%.cpp
	${CPPC} ${CFLAGS} ${TEST_ALL_INCLUDE} -I${INC_Secodefuzz_DIR} -c $< -o $@

${BIN_FUZZ_EXTERNALPLUGINMANAGER}: ${TEST_MAIN_OBJS} ${FUZZ_EXTERNALPLUGINMANAGER_OBJS} \
	${COMMON_OBJS} ${SECURE_COM_OBJS} ${SECUREC_OBJS} \
	${TINYXML_OBJS} ${SQLITE_OBJS} ${JSON_OBJS} ${ARRAY_OBJS} ${ALARM_OBJS} ${CURLCLIENT_OBJS} \
	${REST_OBJS} ${TCP_OBJS} ${DEVICE_OBJS} ${PLUGINS_OBJS} ${HOST_OBJS} \
	${PLUGINS_APPPROTECT_OBJS} ${APPPROTECT_OBJS} ${TIMER_SERVICE_OBJS} ${CERTIFICATE_SERVICE_OBJS} ${JOB_SERVICE_OBJS} \
	${DATAMSG_OBJS} ${TASKMANAGER_OBJS} ${EXTERNALJOB_OBJS} ${FILTER_OBJS} ${APPPROTECT_PLUGIN_OBJS} ${FUZZ_CMD_OBJS} \
	${PLUGINFX_OBJS} ${MESSAGE_SERVICE_OBJS} ${THRIFT_SERVICE_OBJS} ${SERVICE_FACTORY_OBJS} ${SERVICES_DEVICE_OBJS} 
	${CPPC} ${OFLAGS} $^ ${GTESTLIB_DIR}/libgtest.a ${LIB_FUZZ_DIR}/libSecodefuzz.a \
	-L${OPEN_OPENSSL_LIB_DIR} -L${OPEN_FCGI_LIB_DIR} -L${OPEN_CURL_LIB_DIR} \
	-L${TCMALLOC_LIB_DIR} ${LIB_TCMALLOC} -L${OPEN_SNMP_LIB_DIR} -L${KMC_LIB_DIR} -L${OPEN_THRIFT_DIR} -L${OPEN_LIBEVENT_DIR} \
	-lthriftz -lthriftnb -lthrift -levent -luuid -lsnmp++ -ldl -lKMC -lSDP -lrt -lfcgi -lcurl -lssl -lcrypto -lpthread -lgcov -o ${BIN_FUZZ_EXTERNALPLUGINMANAGER}

${FUZZ_EXTERNALPLUGINMANAGER_OBJS}:${OBJ_FUZZ_EXTERNALPLUGINMANAGER_DIR}/%.o:${SRC_FUZZ_EXTERNALPLUGINMANAGER_DIR}/%.cpp
	${CPPC} ${CFLAGS} ${TEST_ALL_INCLUDE} -I${INC_Secodefuzz_DIR} -c $< -o $@

#build for hlt thrift test
#${THRIFT_SERVER} ${THRIFT_CLIENT}

#generate bin here
${BIN_HOST_TEST}: ${JSON_OBJS} ${COMMON_OBJS} ${SECUREC_OBJS} ${SECURE_COM_OBJS} ${TINYXML_OBJS} \
	${TEST_HOST_OBJS} ${TEST_STUB_OBJS} ${TEST_MAIN_OBJS} ${HOST_OBJS} ${SERVICES_DEVICE_OBJS} \
	${ARRAY_OBJS} ${SQLITE_OBJS} ${TASKMANAGER_OBJS} ${FILTER_OBJS} ${TCP_OBJS} ${ALARM_OBJS} ${CURLCLIENT_OBJS} ${MESSAGE_SERVICE_OBJS} \
	${APPPROTECT_PLUGIN_OBJS} ${PLUGINFX_OBJS} ${THRIFT_SERVICE_OBJS} ${SERVICE_FACTORY_OBJS} ${MESSAGE_SERVICE_OBJS} \
	${TIMER_SERVICE_OBJS} ${CERTIFICATE_SERVICE_OBJS} ${JOB_SERVICE_OBJS} 
	${CPPC} ${OFLAGS} $^ ${GTESTLIB_DIR}/libgtest.a -L${OPEN_OPENSSL_LIB_DIR} -L${OPEN_SNMP_LIB_DIR} -L${OPEN_FCGI_LIB_DIR} \
	-L${KMC_LIB_DIR} -L${OPEN_CURL_LIB_DIR} -L${OPEN_THRIFT_DIR} -L${OPEN_LIBEVENT_DIR} -L${TCMALLOC_LIB_DIR} ${LIB_TCMALLOC} \
	-lthriftz -lthriftnb -lthrift -levent -luuid -ldl -lKMC -lSDP -lrt -lcurl -lsnmp++ -lcurl -lssl -lcrypto -lfcgi -lpthread ${GCOV_LINK_FLAG} -o ${BIN_HOST_TEST}

${BIN_PLUGINFX_TEST}: ${COMMON_OBJS} ${JSON_OBJS} ${SECUREC_OBJS} ${REST_OBJS} ${TCP_OBJS} ${SECURE_COM_OBJS} ${TINYXML_OBJS} ${MESSAGE_SERVICE_OBJS} ${APPPROTECT_PLUGIN_OBJS} \
	${TEST_PLUGINFX_OBJS} ${TEST_STUB_OBJS} ${TEST_MAIN_OBJS} ${THRIFT_SERVICE_OBJS} ${SERVICE_FACTORY_OBJS} ${PLUGINFX_OBJS} \
	${HOST_OBJS} ${ARRAY_OBJS} ${ALARM_OBJS} ${CURLCLIENT_OBJS} ${CERTIFICATE_SERVICE_OBJS} ${TASKMANAGER_OBJS} ${FILTER_OBJS} ${SERVICES_DEVICE_OBJS} \
	${TIMER_SERVICE_OBJS} ${JOB_SERVICE_OBJS} 
	${CPPC} ${OFLAGS} $^ ${GTESTLIB_DIR}/libgtest.a -L${OPEN_OPENSSL_LIB_DIR} -L${OPEN_CURL_LIB_DIR} -L${OPEN_SNMP_LIB_DIR} \
	-L${OPEN_FCGI_LIB_DIR} -L${KMC_LIB_DIR} ${SQLITE_OBJS} -L${OPEN_THRIFT_DIR} -L${OPEN_LIBEVENT_DIR} -L${TCMALLOC_LIB_DIR} ${LIB_TCMALLOC} \
	-lthriftz -lthriftnb -lthrift -levent -lsnmp++ -luuid -ldl -lcurl -lssl -lKMC -lSDP -lrt -lcrypto -lfcgi -lpthread ${GCOV_LINK_FLAG} -o ${BIN_PLUGINFX_TEST}

${BIN_DEVICE_TEST}: ${COMMON_OBJS} ${JSON_OBJS} ${SECUREC_OBJS} ${TCP_OBJS} ${SECURE_COM_OBJS} ${TINYXML_OBJS} ${TEST_DEVICE_OBJS} ${TEST_STUB_OBJS} ${TEST_MAIN_OBJS} ${DEVICE_OBJS} ${ARRAY_OBJS} \
	${SQLITE_OBJS} ${ALARM_OBJS} ${CURLCLIENT_OBJS} ${TEST_CUNITPUB_OBJ}
	${CPPC} ${OFLAGS} $^ ${GTESTLIB_DIR}/libgtest.a -L${OPEN_OPENSSL_LIB_DIR} -L${OPEN_FCGI_LIB_DIR} -L${KMC_LIB_DIR} -L${OPEN_SNMP_LIB_DIR} -L${OPEN_CURL_LIB_DIR} \
	-luuid -ldl -lKMC -lSDP -lrt -lcurl -lssl -lsnmp++ -lcrypto -lfcgi -lpthread ${GCOV_LINK_FLAG} -o ${BIN_DEVICE_TEST}

${BIN_COMMON_TEST}: ${JSON_OBJS} ${COMMON_OBJS} ${SECUREC_OBJS} ${TINYXML_OBJS} ${TEST_COMMON_OBJS} ${TEST_STUB_OBJS} ${TEST_MAIN_OBJS} ${SQLITE_OBJS}
	${CPPC} ${OFLAGS} $^ ${GTESTLIB_DIR}/libgtest.a -L${OPEN_OPENSSL_LIB_DIR} -L${OPEN_FCGI_LIB_DIR} -L${KMC_LIB_DIR} \
	-luuid -ldl -lKMC -lrt -lcrypto -lfcgi -lpthread ${GCOV_LINK_FLAG} -o ${BIN_COMMON_TEST}
	
${BIN_SECURE_COM_TEST}: ${COMMON_OBJS} ${JSON_OBJS} ${SECUREC_OBJS} ${TCP_OBJS} ${SECURE_COM_OBJS} ${TINYXML_OBJS} ${TEST_SECURE_COM_OBJS} ${TEST_STUB_OBJS} ${TEST_MAIN_OBJS} ${ARRAY_OBJS} \
	${SQLITE_OBJS}
	${CPPC} ${OFLAGS} $^ ${GTESTLIB_DIR}/libgtest.a -L${OPEN_OPENSSL_LIB_DIR} -L${OPEN_FCGI_LIB_DIR} -L${KMC_LIB_DIR} \
	-luuid -ldl -lssl -lKMC -lSDP -lrt -lcrypto -lfcgi -lpthread ${GCOV_LINK_FLAG} -o ${BIN_SECURE_COM_TEST}

${BIN_ALARM_TEST}: ${JSON_OBJS} ${COMMON_OBJS} ${SECUREC_OBJS} ${TCP_OBJS} ${SECURE_COM_OBJS} ${TINYXML_OBJS} ${ALARM_OBJS} ${SQLITE_OBJS} ${TEST_ALARM_OBJS} ${TEST_STUB_OBJS} ${TEST_MAIN_OBJS} ${CURLCLIENT_OBJS}
	${CPPC} ${OFLAGS} $^ ${GTESTLIB_DIR}/libgtest.a -L${OPEN_OPENSSL_LIB_DIR} -L${OPEN_FCGI_LIB_DIR} -L${KMC_LIB_DIR} -L${OPEN_SNMP_LIB_DIR} -L${OPEN_CURL_LIB_DIR} \
	-luuid -lsnmp++ -lKMC -lSDP -lcurl -lrt -lssl -lcrypto -ldl -lfcgi -lpthread ${GCOV_LINK_FLAG} -o ${BIN_ALARM_TEST}

${BIN_PLUGIN_TEST}: ${COMMON_OBJS} ${SECUREC_OBJS} ${TCP_OBJS} ${SECURE_COM_OBJS} ${TINYXML_OBJS} ${TEST_PLUGINFX_OBJS} ${APPPROTECT_PLUGIN_OBJS} ${MESSAGE_SERVICE_OBJS} ${CERTIFICATE_SERVICE_OBJS} \
	${JSON_OBJS} ${THRIFT_SERVICE_OBJS} ${SERVICE_FACTORY_OBJS} ${PLUGINFX_OBJS} ${TEST_STUB_OBJS} ${TEST_MAIN_OBJS} \
	${SQLITE_OBJS} ${HOST_OBJS} ${ARRAY_OBJS} ${ALARM_OBJS} ${CURLCLIENT_OBJS} ${MESSAGE_SERVICE_OBJS} ${TASKMANAGER_OBJS} ${FILTER_OBJS} ${SERVICES_DEVICE_OBJS}
	${CPPC} ${OFLAGS} $^ ${GTESTLIB_DIR}/libgtest.a -L${OPEN_OPENSSL_LIB_DIR} -L${OPEN_CURL_LIB_DIR} -L${OPEN_SNMP_LIB_DIR} -L${OPEN_FCGI_LIB_DIR}  -L${KMC_LIB_DIR} -L${OPEN_THRIFT_DIR} -L${OPEN_LIBEVENT_DIR} -L${TCMALLOC_LIB_DIR} ${LIB_TCMALLOC} \
	-lthriftz -lthriftnb -lthrift -levent -lsnmp++ -luuid -ldl -lcurl -lssl -lKMC -lSDP -lrt -lcrypto -lfcgi -lpthread ${GCOV_LINK_FLAG} -o ${BIN_PLUGIN_TEST}
    
${BIN_ARRAY_TEST}: ${JSON_OBJS} ${COMMON_OBJS} ${ARRAY_OBJS} ${SECUREC_OBJS} ${TCP_OBJS} ${SECURE_COM_OBJS} ${TINYXML_OBJS} ${TEST_ARRAY_OBJS} ${TEST_STUB_OBJS} ${TEST_MAIN_OBJS} ${SQLITE_OBJS}
	${CPPC} ${OFLAGS} $^ ${GTESTLIB_DIR}/libgtest.a -L${OPEN_OPENSSL_LIB_DIR} -L${OPEN_FCGI_LIB_DIR}  -L${KMC_LIB_DIR} \
	-luuid -ldl -lKMC -lSDP -lrt -lssl -lcrypto -lfcgi -lpthread ${GCOV_LINK_FLAG} -o ${BIN_ARRAY_TEST}

${BIN_AGENT_TEST}: ${HOST_OBJS} ${COMMON_OBJS} ${AGENT_OBJS} ${SECUREC_OBJS} ${TCP_OBJS} ${TEST_CUNITPUB_OBJ} ${SECURE_COM_OBJS} ${TINYXML_OBJS} ${REST_OBJS} ${TCP_OBJS} ${ALARM_OBJS} ${THRIFT_SERVICE_OBJS} ${SERVICE_FACTORY_OBJS} ${PLUGINFX_OBJS} ${DATAMSG_OBJS} \
	${JSON_OBJS} ${SQLITE_OBJS} ${TEST_AGENT_OBJS} ${TEST_STUB_OBJS} ${TEST_MAIN_OBJS} ${PLUGINS_OBJS} ${PLUGINS_HOST_OBJS} \
	${ARRAY_OBJS} ${CURLCLIENT_OBJS} ${APPPROTECT_PLUGIN_OBJS} ${MESSAGE_SERVICE_OBJS} ${CERTIFICATE_SERVICE_OBJS} \
	${TASKMANAGER_OBJS} ${FILTER_OBJS} ${SERVICES_DEVICE_OBJS} ${TIMER_SERVICE_OBJS} ${JOB_SERVICE_OBJS} 
	${CPPC} ${OFLAGS} $^ ${GTESTLIB_DIR}/libgtest.a -L${OPEN_SNMP_LIB_DIR} -L${OPEN_OPENSSL_LIB_DIR} -L${OPEN_FCGI_LIB_DIR} -L${KMC_LIB_DIR} -L${OPEN_CURL_LIB_DIR} -L${OPEN_THRIFT_DIR} -L${OPEN_LIBEVENT_DIR} -L${TCMALLOC_LIB_DIR} ${LIB_TCMALLOC} \
	-lthriftz -lthriftnb -lthrift -levent -luuid -lsnmp++ -lKMC -lSDP -lcurl -lrt -lssl -ldl -lfcgi -lcrypto -lpthread ${GCOV_LINK_FLAG} -o ${BIN_AGENT_TEST}

${BIN_DATAPROCESS_TEST}: ${JSON_OBJS} ${COMMON_OBJS} ${SQLITE_OBJS} ${TINYXML_OBJS} ${SECUREC_OBJS} ${TCP_OBJS} ${SECURE_COM_OBJS} ${DATACONFIG_OBJS} ${DATAMSG_OBJS} ${DATAPATH_OBJS} ${DATARW_OBJS} ${DATAVMWARE_OBJS} ${CURLCLIENT_OBJS} ${DP_QOS_OBJS} ${DP_SCH_OBJS} \
	${CURLCLIENT_OBJS} ${TEST_DATAPROCESS_OBJS} ${TEST_STUB_OBJS} ${TEST_MAIN_OBJS}
	${CPPC} ${oFLAGS} $^ ${GTESTLIB_DIR}/libgtest.a -L${OPEN_SRC_DIR}/libaio/lib -L${BIN_DIR} -L${OPEN_CURL_LIB_DIR} -L${OPEN_FCGI_LIB_DIR} -L${OPEN_SNMP_LIB_DIR} -L${OPEN_OPENSSL_LIB_DIR} -L${KMC_LIB_DIR}  -luuid -lcurl -lsnmp++ -ldl -lKMC -laio -lSDP -lrt -lssl -lcrypto -lfcgi -lpthread ${GCOV_LINK_FLAG} -o ${BIN_DATAPROCESS_TEST}

${BIN_TOOLS_TEST}: ${HOST_OBJS} ${ARRAY_OBJS} ${COMMON_OBJS} ${REST_OBJS} ${TCP_OBJS_SSL} ${SECURE_COM_OBJS} ${JSON_OBJS} ${TEST_CUNITPUB_OBJ} ${AGENTCLI_OBJS} ${MONITOR_OBJS} ${TEST_TOOLS_MONITOR_OBJS} ${LIB_ARCHIVE_STREAM_OBJS} \
	${SECUREC_OBJS} ${TINYXML_OBJS} ${TEST_STUB_OBJS} ${TEST_MAIN_OBJS} ${SQLITE_OBJS} ${ALARM_OBJS} ${CURLCLIENT_OBJS}
	${CPPC} ${OFLAGS} $^ ${GTESTLIB_DIR}/libgtest.a -L${OPEN_OPENSSL_LIB_DIR} -L${OPEN_FCGI_LIB_DIR} -L${OPEN_SNMP_LIB_DIR}  -L${KMC_LIB_DIR} -L${KMC_LIB_DIR} \
	-L${OPEN_OPENSSL_LIB_DIR} -L${OPEN_CURL_LIB_DIR} \
	-luuid -lsnmp++ -ldl -lKMC -lSDP -lrt -lfcgi -lcurl -lssl -lcrypto -lpthread ${GCOV_LINK_FLAG} -o ${BIN_TOOLS_TEST}
	
${BIN_ROOTEXEC_TEST}: ${COMMON_OBJS} ${JSON_OBJS} ${ARRAY_OBJS} ${REST_OBJS} ${TCP_OBJS} ${JSON_OBJS} \
	${SECUREC_OBJS} ${SECURE_COM_OBJS} ${TEST_CUNITPUB_OBJ} ${ROOT_EXEC_OBJS} ${TEST_ROOT_EXEC_OBJS} ${TINYXML_OBJS} \
	${TEST_STUB_OBJS} ${TEST_MAIN_OBJS} ${SQLITE_OBJS} ${CURLCLIENT_OBJS} 
	${CPPC} ${OFLAGS} $^ ${GTESTLIB_DIR}/libgtest.a -L${OPEN_OPENSSL_LIB_DIR} -L${OPEN_FCGI_LIB_DIR} -L${OPEN_SNMP_LIB_DIR}  -L${KMC_LIB_DIR} -L${OPEN_CURL_LIB_DIR} \
	-luuid -lsnmp++ -ldl -lKMC -lSDP -lrt -lfcgi -lcurl -lssl -lcrypto -lpthread ${GCOV_LINK_FLAG} -o ${BIN_ROOTEXEC_TEST}
	
${BIN_PLUGINS_TEST}: ${COMMON_OBJS} ${HOST_OBJS} ${ARRAY_OBJS} ${ALARM_OBJS} ${CURLCLIENT_OBJS} ${TEST_CUNITPUB_OBJ} \
	${REST_OBJS} ${TCP_OBJS} ${SECURE_COM_OBJS} ${JSON_OBJS} ${PLUGINS_OBJS} ${TEST_PLUGINS_OBJS} ${SECUREC_OBJS} \
	${TINYXML_OBJS} ${TEST_STUB_OBJS} ${TEST_MAIN_OBJS} ${SQLITE_OBJS} ${DATAMSG_OBJS} ${PLUGINFX_OBJS} ${APPPROTECT_PLUGIN_OBJS} \
	${THRIFT_SERVICE_OBJS} ${MESSAGE_SERVICE_OBJS} ${SERVICE_FACTORY_OBJS} ${TASKMANAGER_OBJS} ${FILTER_OBJS} ${SERVICES_DEVICE_OBJS} \
	${TIMER_SERVICE_OBJS} ${CERTIFICATE_SERVICE_OBJS} ${JOB_SERVICE_OBJS}
	${CPPC} ${OFLAGS} $^ ${GTESTLIB_DIR}/libgtest.a -L${OPEN_OPENSSL_LIB_DIR} -L${OPEN_FCGI_LIB_DIR} -L${OPEN_SNMP_LIB_DIR} -L${KMC_LIB_DIR} -L${OPEN_THRIFT_DIR} -L${OPEN_LIBEVENT_DIR} -L${TCMALLOC_LIB_DIR} ${LIB_TCMALLOC} -lthriftz -lthriftnb -lthrift -levent -luuid -lsnmp++ -ldl -lKMC -lSDP -lrt -lfcgi -lcurl -lssl -lcrypto -lpthread ${GCOV_LINK_FLAG} -o ${BIN_PLUGINS_TEST}	
	
${BIN_PLUGINS_APP_TEST}: ${COMMON_OBJS} ${ARRAY_OBJS} ${TEST_CUNITPUB_OBJ} ${REST_OBJS} ${TCP_OBJS} ${SECURE_COM_OBJS} ${JSON_OBJS} ${PLUGINS_OBJS} \
	${APPS_APP_OBJS} ${APPS_ORACLE_OBJS} ${PLUGINS_APP_OBJS} ${TEST_PLUGINS_APP_OBJS} \
	${SECUREC_OBJS} ${TINYXML_OBJS} ${TEST_STUB_OBJS} ${TEST_MAIN_OBJS} ${SQLITE_OBJS} 
	${CPPC} ${OFLAGS} $^ ${GTESTLIB_DIR}/libgtest.a -L${OPEN_OPENSSL_LIB_DIR} -L${OPEN_FCGI_LIB_DIR} -L${OPEN_SNMP_LIB_DIR} -L${KMC_LIB_DIR} \
	-luuid -lsnmp++ -ldl -lKMC -lSDP -lrt -lfcgi -lcrypto -lpthread ${GCOV_LINK_FLAG} -o ${BIN_PLUGINS_APP_TEST}
	
${BIN_PLUGINS_HOST_TEST}: ${COMMON_OBJS} ${ARRAY_OBJS} ${ALARM_OBJS} ${CURLCLIENT_OBJS} ${TEST_CUNITPUB_OBJ} ${REST_OBJS} \
	${TCP_OBJS} ${SECURE_COM_OBJS} ${JSON_OBJS} ${PLUGINS_OBJS} ${HOST_OBJS} ${PLUGINS_HOST_OBJS} ${TEST_PLUGINS_HOST_OBJS} \
	${SECUREC_OBJS} ${TINYXML_OBJS} ${TEST_STUB_OBJS} ${TEST_MAIN_OBJS} ${SQLITE_OBJS} ${DATAMSG_OBJS} ${AGENT_OBJS} \
	${PLUGINFX_OBJS} ${THRIFT_SERVICE_OBJS} ${SERVICE_FACTORY_OBJS} ${APPPROTECT_PLUGIN_OBJS} ${MESSAGE_SERVICE_OBJS} \
	${CERTIFICATE_SERVICE_OBJS} ${TASKMANAGER_OBJS} ${FILTER_OBJS} ${SERVICES_DEVICE_OBJS} ${TIMER_SERVICE_OBJS} ${JOB_SERVICE_OBJS}
	${CPPC} ${OFLAGS} $^ ${GTESTLIB_DIR}/libgtest.a -L${OPEN_OPENSSL_LIB_DIR} -L${OPEN_FCGI_LIB_DIR} -L${OPEN_SNMP_LIB_DIR} -L${KMC_LIB_DIR} -L${OPEN_CURL_LIB_DIR} -L${OPEN_THRIFT_DIR} -L${OPEN_LIBEVENT_DIR} -L${TCMALLOC_LIB_DIR} ${LIB_TCMALLOC} \
	-lthriftz -lthriftnb -lthrift -levent -luuid -lsnmp++ -ldl -lKMC -lSDP -lrt -lfcgi -lcurl -lssl -lcrypto -lpthread ${GCOV_LINK_FLAG} -o ${BIN_PLUGINS_HOST_TEST}	
	
${BIN_PLUGINS_ORACLE_TEST}: ${COMMON_OBJS} ${ARRAY_OBJS} ${ALARM_OBJS} ${CURLCLIENT_OBJS} ${TEST_CUNITPUB_OBJ} ${REST_OBJS} ${TCP_OBJS} ${SECURE_COM_OBJS} ${JSON_OBJS} ${PLUGINS_OBJS} \
	${APPS_ORACLE_OBJS} ${PLUGINS_ORACLE_OBJS} ${TEST_PLUGINS_ORACLE_OBJS} ${SECUREC_OBJS} ${TINYXML_OBJS} ${TEST_STUB_OBJS} ${TEST_MAIN_OBJS} \
	${SQLITE_OBJS} ${DATAMSG_OBJS}
	${CPPC} ${OFLAGS} $^ ${GTESTLIB_DIR}/libgtest.a -L${OPEN_OPENSSL_LIB_DIR} -L${OPEN_FCGI_LIB_DIR} -L${OPEN_SNMP_LIB_DIR} -L${KMC_LIB_DIR} -L${OPEN_CURL_LIB_DIR} \
	-luuid -lsnmp++ -ldl -lKMC -lSDP -lrt -lfcgi -lcurl -lssl -lcrypto -lpthread ${GCOV_LINK_FLAG} -o ${BIN_PLUGINS_ORACLE_TEST}

${BIN_PLUGINS_ORACLENATIVE_TEST}: ${COMMON_OBJS} ${ARRAY_OBJS} ${ALARM_OBJS} ${CURLCLIENT_OBJS} ${TEST_CUNITPUB_OBJ} \
	${REST_OBJS} ${TCP_OBJS} ${SECURE_COM_OBJS} ${JSON_OBJS} ${PLUGINS_OBJS} ${APPS_ORACLENATIVE_OBJS} \
	${PLUGINS_ORACLENATIVE_OBJS} ${TEST_PLUGINS_ORACLENATIVE_OBJS} ${SECUREC_OBJS} ${TINYXML_OBJS} ${TEST_STUB_OBJS} \
	${TEST_MAIN_OBJS} ${SQLITE_OBJS} ${TASKMANAGER_OBJS} ${FILTER_OBJS} ${APPS_ORACLE_OBJS} ${HOST_OBJS} ${DATAMSG_OBJS} \
	${DEVICE_OBJS} ${MESSAGE_SERVICE_OBJS} ${APPPROTECT_PLUGIN_OBJS} ${PLUGINFX_OBJS} ${THRIFT_SERVICE_OBJS} \
	${SERVICE_FACTORY_OBJS} ${SERVICES_DEVICE_OBJS} ${TIMER_SERVICE_OBJS} ${CERTIFICATE_SERVICE_OBJS} ${JOB_SERVICE_OBJS} 
	${CPPC} ${OFLAGS} $^ ${GTESTLIB_DIR}/libgtest.a -L${OPEN_OPENSSL_LIB_DIR} -L${OPEN_FCGI_LIB_DIR} -L${OPEN_CURL_LIB_DIR} \
	-L${TCMALLOC_LIB_DIR} ${LIB_TCMALLOC} -L${OPEN_SNMP_LIB_DIR} -L${KMC_LIB_DIR} -L${OPEN_THRIFT_DIR} -L${OPEN_LIBEVENT_DIR} \
	-lthriftz -lthriftnb -lthrift -levent -luuid -lsnmp++ -ldl -lKMC -lSDP -lrt -lfcgi -lcurl -lssl -lcrypto -lpthread ${GCOV_LINK_FLAG} -o ${BIN_PLUGINS_ORACLENATIVE_TEST}

${BIN_REST_TEST}: ${COMMON_OBJS} ${REST_OBJS} ${TCP_OBJS} ${JSON_OBJS} ${TEST_REST_OBJS} ${SECUREC_OBJS} ${TINYXML_OBJS} \
	${TASKMANAGER_OBJS} ${FILTER_OBJS} ${APPPROTECT_PLUGIN_OBJS} ${THRIFT_SERVICE_OBJS} ${SERVICE_FACTORY_OBJS} ${SERVICES_DEVICE_OBJS} \
	${ARRAY_OBJS} ${ALARM_OBJS} ${PLUGINFX_OBJS} ${CURLCLIENT_OBJS} ${HOST_OBJS} ${SECURE_COM_OBJS} ${MESSAGE_SERVICE_OBJS} \
	${TEST_STUB_OBJS} ${TEST_MAIN_OBJS} ${SQLITE_OBJS} ${TIMER_SERVICE_OBJS} ${CERTIFICATE_SERVICE_OBJS} ${JOB_SERVICE_OBJS}
	${CPPC} ${OFLAGS} $^ ${GTESTLIB_DIR}/libgtest.a -L${OPEN_OPENSSL_LIB_DIR} -L${OPEN_FCGI_LIB_DIR} -L${OPEN_SNMP_LIB_DIR} \
	-L${KMC_LIB_DIR} -L${OPEN_THRIFT_DIR} -L${OPEN_LIBEVENT_DIR} -L${TCMALLOC_LIB_DIR} ${LIB_TCMALLOC} \
	-lthriftz -lthriftnb -lthrift -levent -luuid -lsnmp++ -ldl -lKMC -lSDP -lrt -lfcgi -lcurl -lssl -lcrypto -lpthread ${GCOV_LINK_FLAG} -o ${BIN_REST_TEST}

${BIN_TCP_TEST}: ${COMMON_OBJS} ${REST_OBJS} ${TCP_OBJS} ${JSON_OBJS} ${TEST_TCP_OBJS} ${SECUREC_OBJS} ${TINYXML_OBJS} \
	${TEST_STUB_OBJS} ${TEST_MAIN_OBJS} ${SQLITE_OBJS}
	${CPPC} ${OFLAGS} $^ ${GTESTLIB_DIR}/libgtest.a -L${OPEN_OPENSSL_LIB_DIR} -L${OPEN_FCGI_LIB_DIR} -L${OPEN_SNMP_LIB_DIR} -L${KMC_LIB_DIR} \
	-luuid -lsnmp++ -ldl -lKMC -lrt -lfcgi -lssl -lcrypto -lpthread ${GCOV_LINK_FLAG} -o ${BIN_TCP_TEST}

${BIN_CURLHTTPCLIENT_TEST}: ${COMMON_OBJS} ${REST_OBJS} ${TCP_OBJS} ${JSON_OBJS} ${SECURE_COM_OBJS} \
	${TEST_CURLHTTPCLIENT_OBJS} ${SECUREC_OBJS} ${TINYXML_OBJS} ${HOST_OBJS} ${ALARM_OBJS} ${ARRAY_OBJS} \
	${TEST_STUB_OBJS} ${TEST_MAIN_OBJS} ${SQLITE_OBJS} ${CURLCLIENT_OBJS} ${AGENT_OBJS} ${PLUGINFX_OBJS} \
	${APPPROTECT_PLUGIN_OBJS} ${THRIFT_SERVICE_OBJS} ${SERVICE_FACTORY_OBJS} ${MESSAGE_SERVICE_OBJS} ${TASKMANAGER_OBJS} \
	${FILTER_OBJS} ${TIMER_SERVICE_OBJS} ${CERTIFICATE_SERVICE_OBJS} ${JOB_SERVICE_OBJS}
	${CPPC} ${OFLAGS} $^ ${GTESTLIB_DIR}/libgtest.a -L${OPEN_OPENSSL_LIB_DIR} -L${OPEN_FCGI_LIB_DIR} -L${OPEN_SNMP_LIB_DIR} ${SERVICES_DEVICE_OBJS} \
	-L${KMC_LIB_DIR} -L${OPEN_THRIFT_DIR} -L${OPEN_LIBEVENT_DIR} -L${TCMALLOC_LIB_DIR} ${LIB_TCMALLOC} \
	-lthriftz -lthriftnb -lthrift -levent -luuid -lsnmp++ -ldl -lKMC -lSDP -lrt -lfcgi -lcurl -lssl -lcrypto -lpthread ${GCOV_LINK_FLAG} -o ${BIN_CURLHTTPCLIENT_TEST}

${BIN_APPORAC_TEST}: ${COMMON_OBJS} ${TINYXML_OBJS} ${SECUREC_OBJS} ${TCP_OBJS} ${SECURE_COM_OBJS} ${ARRAY_OBJS} ${TEST_STUB_OBJS} ${APPS_ORACLE_OBJS} \
	${TEST_APPS_ORACLE_OBJS} ${TEST_MAIN_OBJS} ${JSON_OBJS} ${SQLITE_OBJS} ${ALARM_OBJS} ${CURLCLIENT_OBJS}
	${CPPC} ${OFLAGS} $^ ${GTESTLIB_DIR}/libgtest.a -L${OPEN_FCGI_LIB_DIR} -L${OPEN_OPENSSL_LIB_DIR} -L${KMC_LIB_DIR} -L${OPEN_SNMP_LIB_DIR} -L${OPEN_CURL_LIB_DIR} \
	-luuid -ldl -lKMC -lSDP -lrt -lsnmp++ -lcurl -lssl -lcrypto -lfcgi -lpthread ${GCOV_LINK_FLAG} -o ${BIN_APPORAC_TEST}

${BIN_APP_TEST}: ${COMMON_OBJS} ${TINYXML_OBJS} ${SECUREC_OBJS} ${ARRAY_OBJS} ${TEST_STUB_OBJS} ${APPS_APP_OBJS} ${APPS_ORACLE_OBJS} \
	${TEST_APPS_OBJS} ${TEST_MAIN_OBJS} ${JSON_OBJS}
	${CPPC} ${OFLAGS} $^ ${GTESTLIB_DIR}/libgtest.a -L${OPEN_FCGI_LIB_DIR} -L${OPEN_OPENSSL_LIB_DIR} -L${KMC_LIB_DIR} -lpthread -luuid -ldl -lKMC -lrt -lcrypto -lfcgi ${GCOV_LINK_FLAG} -o ${BIN_APP_TEST}

${BIN_APPORACNATIVE_TEST}: ${COMMON_OBJS} ${ARRAY_OBJS} ${ALARM_OBJS} ${CURLCLIENT_OBJS} ${TEST_CUNITPUB_OBJ} ${REST_OBJS} ${TCP_OBJS} ${SECURE_COM_OBJS} ${JSON_OBJS} ${PLUGINS_OBJS} \
	${APPS_ORACLENATIVE_OBJS} ${SECUREC_OBJS} ${TINYXML_OBJS} ${TEST_STUB_OBJS} ${TEST_APPS_ORACLENATIVE_OBJS}\
	${TEST_MAIN_OBJS} ${SQLITE_OBJS} ${TASKMANAGER_OBJS} ${FILTER_OBJS} ${SERVICES_DEVICE_OBJS} ${APPS_ORACLE_OBJS} ${HOST_OBJS} \
	${DATAMSG_OBJS} ${DEVICE_OBJS} ${MESSAGE_SERVICE_OBJS} ${TIMER_SERVICE_OBJS} ${CERTIFICATE_SERVICE_OBJS} ${JOB_SERVICE_OBJS} \
	${APPPROTECT_PLUGIN_OBJS} ${PLUGINFX_OBJS} ${THRIFT_SERVICE_OBJS} ${SERVICE_FACTORY_OBJS} ${MESSAGE_SERVICE_OBJS}
	${CPPC} ${OFLAGS} $^ ${GTESTLIB_DIR}/libgtest.a -L${OPEN_OPENSSL_LIB_DIR} -L${OPEN_SNMP_LIB_DIR} -L${KMC_LIB_DIR} \
	-L${OPEN_CURL_LIB_DIR} -L${OPEN_FCGI_LIB_DIR} -L${OPEN_THRIFT_DIR} -L${OPEN_LIBEVENT_DIR} \
    -L${TCMALLOC_LIB_DIR} ${LIB_TCMALLOC} -lthriftz -lthriftnb -lthrift -levent -luuid -lsnmp++ -ldl -lKMC -lSDP -lrt -lfcgi -lcurl -lssl -lcrypto -lpthread ${GCOV_LINK_FLAG} -o ${BIN_APPORACNATIVE_TEST}

${BIN_TASKMANAGER_TEST}: ${JSON_OBJS} ${COMMON_OBJS} ${REST_OBJS} ${SQLITE_OBJS} ${TINYXML_OBJS} ${SECUREC_OBJS} ${TCP_OBJS} \
	${SECURE_COM_OBJS} ${TASKMANAGER_OBJS} ${EXTERNALJOB_OBJS} ${FILTER_OBJS} ${ALARM_OBJS} ${CURLCLIENT_OBJS} ${ARRAY_OBJS} ${HOST_OBJS} \
	${TEST_TASKMANAGER_OBJS} ${TEST_EXTERNALJOB_OBJS} ${TEST_FILTER_OBJS} ${TEST_STUB_OBJS} ${TEST_MAIN_OBJS} ${SERVICES_DEVICE_OBJS} \
	${APPPROTECT_PLUGIN_OBJS} ${AGENT_OBJS} ${PLUGINFX_OBJS} ${THRIFT_SERVICE_OBJS} ${SERVICE_FACTORY_OBJS} \
	${MESSAGE_SERVICE_OBJS} ${TIMER_SERVICE_OBJS} ${CERTIFICATE_SERVICE_OBJS} ${JOB_SERVICE_OBJS}
	${CPPC} ${OFLAGS} $^ ${GTESTLIB_DIR}/libgtest.a -L${OPEN_THRIFT_DIR} -L${OPEN_LIBEVENT_DIR} -L${OPEN_FCGI_LIB_DIR} \
	-L${OPEN_OPENSSL_LIB_DIR} \-L${OPEN_SNMP_LIB_DIR} -L${KMC_LIB_DIR} -L${OPEN_CURL_LIB_DIR} \
	-L${TCMALLOC_LIB_DIR} ${LIB_TCMALLOC} -lthriftz -lthriftnb -lthrift -levent -luuid -lsnmp++ -ldl -lKMC -lSDP -lrt -lcurl -lssl -lcrypto -lfcgi -lpthread ${GCOV_LINK_FLAG} -o ${BIN_TASKMANAGER_TEST}

${BIN_XBSA_SERVER_TEST}: ${LIB_DWS_SERVER_OBJS} ${JSON_OBJS} ${COMMON_OBJS} ${SQLITE_OBJS} ${TINYXML_OBJS} ${SECUREC_OBJS} ${TCP_OBJS_SSL} ${SECURE_COM_OBJS} ${ALARM_OBJS} ${ARRAY_OBJS} ${HOST_OBJS} \
	${TEST_XBSA_SERVER_OBJS} ${TEST_STUB_OBJS} ${TEST_MAIN_OBJS} ${LIB_XBSA_COM_OBJS} ${CURLCLIENT_OBJS}
	${CPPC} ${OFLAGS} $^ ${GTESTLIB_DIR}/libgtest.a  -L${OPEN_OPENSSL_LIB_DIR} -L${OPEN_THRIFT_DIR} -L${OPEN_FCGI_LIB_DIR} -L${OPEN_SNMP_LIB_DIR} -L${KMC_LIB_DIR} -L${OPEN_LIBEVENT_DIR} -L${OPEN_CURL_LIB_DIR} \
	-lthriftz -lthriftnb -lthrift -luuid -lsnmp++ -ldl -lKMC -lSDP -lrt -lcurl -lssl -lcrypto -lfcgi -lpthread ${STFLAGS} -levent -levent_pthreads ${DYFLAGS} ${GCOV_LINK_FLAG} -o ${BIN_XBSA_SERVER_TEST}
		
		
${BIN_ARCHIVE_STREAM_TEST}:${MESSAGE_ARCHIVESTREAM_OBJS} ${JSON_OBJS} ${SQLITE_OBJS} ${TINYXML_OBJS} ${SECURE_COM_OBJS} ${ALARM_OBJS} ${TCP_OBJS_SSL} ${SECUREC_OBJS} ${COMMON_OBJS} \
	${ARRAY_OBJS} ${HOST_OBJS} ${TEST_STUB_OBJS} ${TEST_MAIN_OBJS} ${TEST_DWS_OBJS} ${TEST_MESSAGE_ARCHIVESTREAM_OBJS} ${PLUGINS_OBJS} ${DATAMSG_OBJS} \
	${LIB_XBSA_COM_OBJS} ${LIB_DWS_SERVER_OBJS} ${LIB_DWS_PLUGIN_OBJS} ${CURLCLIENT_OBJS}
	${CPPC} ${OFLAGS} -DSUPPORT_SSL $^ ${GTESTLIB_DIR}/libgtest.a -L${OPEN_FCGI_LIB_DIR} -L${OPEN_OPENSSL_LIB_DIR} -L${OPEN_SNMP_LIB_DIR} -L${KMC_LIB_DIR} \
	-L${OPEN_THRIFT_DIR} -L${BIN_DIR} -L${OPEN_LIBEVENT_DIR} -L${OPEN_CURL_LIB_DIR} -L${UUID} \
	-ldl -lrt -luuid -levent -levent_pthreads -lsnmp++ ${STFLAGS} -lfcgi -lKMC -lSDP -lthriftz -lthriftnb -lthrift -lcurl -lssl -lcrypto -lpthread ${DYFLAGS} ${GCOV_LINK_FLAG} -o ${BIN_ARCHIVE_STREAM_TEST}

${BIN_XBSA_TEST}:${JSON_OBJS} ${SQLITE_OBJS} ${TINYXML_OBJS} ${SECUREC_OBJS} ${SECURE_COM_OBJS} ${TASKMANAGER_OBJS} ${FILTER_OBJS} ${ALARM_OBJS} ${TCP_OBJS_SSL} ${ARCHIVE_STREAM_OBJS} \
	${ARRAY_OBJS} ${HOST_OBJS} ${REST_OBJS} ${COMMON_OBJS} ${AGENT_OBJS} ${TEST_STUB_OBJS} ${TEST_MAIN_OBJS} ${TEST_XBSA_OBJS} \
	${LIB_XBSA_COM_OBJS} ${LIB_ARCHIVE_STREAM_OBJS} ${LIB_XBSA_OBJS} ${CURLCLIENT_OBJS} ${MESSAGE_SERVICE_OBJS} ${SERVICES_DEVICE_OBJS} \
	${APPPROTECT_PLUGIN_OBJS} ${PLUGINFX_OBJS} ${THRIFT_SERVICE_OBJS} ${SERVICE_FACTORY_OBJS} ${MESSAGE_SERVICE_OBJS} ${LIB_XBSACOMM_OBJS} \
	${CERTIFICATE_SERVICE_OBJS} ${TIMER_SERVICE_OBJS} ${JOB_SERVICE_OBJS} 
	${CPPC} ${OFLAGS} $^ ${GTESTLIB_DIR}/libgtest.a -L${OPEN_FCGI_LIB_DIR} -L${OPEN_OPENSSL_LIB_DIR} -L${OPEN_SNMP_LIB_DIR} -L${KMC_LIB_DIR} -L${OPEN_THRIFT_DIR} \
	-L${BIN_DIR} -L${OPEN_LIBEVENT_DIR} -L${OPEN_CURL_LIB_DIR} -L${UUID} -L${TCMALLOC_LIB_DIR} ${LIB_TCMALLOC} \
	-ldl -lrt -luuid -lsnmp++ -levent -lfcgi -lKMC -lSDP -lthriftz -lthriftnb -lthrift -levent -lcurl -lssl -lcrypto -lpthread ${GCOV_LINK_FLAG} -o ${BIN_XBSA_TEST}

${BIN_DWS_TEST}:${JSON_OBJS} ${MESSAGE_ARCHIVESTREAM_OBJS} ${SQLITE_OBJS} ${TINYXML_OBJS} ${SECURE_COM_OBJS} ${ALARM_OBJS} ${TCP_OBJS_SSL} ${SECUREC_OBJS} ${COMMON_OBJS} \
	${ARRAY_OBJS} ${HOST_OBJS} ${TEST_STUB_OBJS} ${TEST_MAIN_OBJS} ${TEST_DWS_OBJS} ${PLUGINS_OBJS} ${DATAMSG_OBJS} \
	${LIB_XBSA_COM_OBJS} ${LIB_DWS_SERVER_OBJS} ${LIB_DWS_PLUGIN_OBJS} ${CURLCLIENT_OBJS}
	${CPPC} ${OFLAGS} -DSUPPORT_SSL $^ ${GTESTLIB_DIR}/libgtest.a -L${OPEN_FCGI_LIB_DIR} -L${OPEN_OPENSSL_LIB_DIR} -L${OPEN_SNMP_LIB_DIR} -L${KMC_LIB_DIR} \
	-L${OPEN_THRIFT_DIR} -L${BIN_DIR} -L${OPEN_LIBEVENT_DIR} -L${OPEN_CURL_LIB_DIR} -L${UUID} \
	-ldl -lrt -luuid -levent -levent_pthreads -lsnmp++ ${STFLAGS} -lfcgi -lKMC -lSDP -lthriftz -lthriftnb -lthrift -lcurl -lssl -lcrypto -lpthread ${DYFLAGS} ${GCOV_LINK_FLAG} -o ${BIN_DWS_TEST}

${BIN_SERVICE_CENTER_TEST}: ${COMMON_OBJS} ${SECUREC_OBJS} ${SECURE_COM_OBJS} ${JSON_OBJS} ${SQLITE_OBJS} ${TINYXML_OBJS} ${ALARM_OBJS} ${HOST_OBJS} ${ARRAY_OBJS} \
	${CURLCLIENT_OBJS} ${TCP_OBJS_SSL} ${TEST_STUB_OBJS} ${TEST_MAIN_OBJS} ${SERVICE_FACTORY_OBJS} ${TEST_SERVICE_FACTORY_OBJS} \
	${THRIFT_SERVICE_OBJS} ${TEST_THRIFT_SERVICE_OBJS} ${CERTIFICATE_SERVICE_OBJS} ${TEST_CERTIFICATE_SERVICE_OBJS} \
	${MESSAGE_SERVICE_OBJS} ${TEST_MESSAGE_SERVICE_OBJS} ${JOB_SERVICE_OBJS} ${TEST_JOB_SERVICE_OBJS} ${APPPROTECT_PLUGIN_OBJS} \
	${PLUGINFX_OBJS} ${EXTERNALJOB_OBJS} ${FILTER_OBJS} ${TEST_SERVICES_DEVICE_OBJS} ${TIMER_SERVICE_OBJS} ${TEST_TIMER_SERVICE_OBJS} ${SERVICES_DEVICE_OBJS} 
	${CPPC} ${OFLAGS} $^ ${GTESTLIB_DIR}/libgtest.a -L${OPEN_THRIFT_DIR} -L${OPEN_LIBEVENT_DIR} -L${KMC_LIB_DIR} -L${BIN_DIR} \
	-L${OPEN_SNMP_LIB_DIR} -L${OPEN_CURL_LIB_DIR} -L${OPEN_FCGI_LIB_DIR} -L${OPEN_OPENSSL_LIB_DIR} \
	-lcurl -lsnmp++ -lfcgi -lssl -lKMC -lSDP -lcrypto -lthriftz -lthriftnb -lthrift -levent -lssl -ldl -lpthread ${DYFLAGS} ${GCOV_LINK_FLAG} -o ${BIN_SERVICE_CENTER_TEST}

${BIN_APPPROTECT_PLUGIN_TEST}:${APPPROTECT_OBJS} ${PLUGINFX_OBJS} ${SERVICE_FACTORY_OBJS} ${HOST_OBJS} ${SECUREC_OBJS} \
	${SECURE_COM_OBJS} ${COMMON_OBJS} ${CERTIFICATE_SERVICE_OBJS} ${APPPROTECT_PLUGIN_OBJS} ${PLUGINS_APPPROTECT_OBJS} \
	${TEST_PLUGINS_APPPROTECT_OBJS} ${JSON_OBJS} ${TINYXML_OBJS} ${ALARM_OBJS} ${ARRAY_OBJS} ${TCP_OBJS} ${SQLITE_OBJS} \
	${CURLCLIENT_OBJS} ${TEST_APPPROTECT_PLUGIN_OBJS} ${TEST_APPPROTECT_OBJS} ${TEST_MAIN_OBJS} ${MESSAGE_SERVICE_OBJS} \
	${THRIFT_SERVICE_OBJS} ${EXTERNALJOB_OBJS} ${FILTER_OBJS} ${SERVICES_DEVICE_OBJS} ${PLUGINS_OBJS} ${DATAMSG_OBJS} ${REST_OBJS} \
	${TIMER_SERVICE_OBJS} ${JOB_SERVICE_OBJS}
	${CPPC} ${OFLAGS} $^ ${GTESTLIB_DIR}/libgtest.a -L${OPEN_THRIFT_DIR} -L${OPEN_SRC_DIR}/libaio/lib -L${OPEN_LIBEVENT_DIR} -L${BIN_DIR} -L${OPEN_SNMP_LIB_DIR} -L${KMC_LIB_DIR} -L${OPEN_OPENSSL_LIB_DIR} -L${OPEN_FCGI_LIB_DIR} \
	-lsnmp++ -lfcgi -lKMC -lSDP -lthriftz -lthriftnb -lthrift -levent -lcurl -lssl -lcrypto -lpthread -lrt -laio -ldl ${GCOV_LINK_FLAG} -o ${BIN_APPPROTECT_PLUGIN_TEST}

${SCRIPTSIGN}:${COMMON_OBJS} ${SCRIPTSIGN_OBJS} ${SECUREC_OBJS} ${TINYXML_OBJS}
	${CPPC} ${OFLAGS} -o ${SCRIPTSIGN} ${SCRIPTSIGN_OBJS} ${COMMON_OBJS}  ${SECUREC_OBJS} ${TINYXML_OBJS} -L${OPEN_OPENSSL_LIB_DIR} \
	-L${KMC_LIB_DIR} -L${UUID} -lKMC -lcrypto -lpthread -ldl -lrt ${COV_OFLAGS}

${DATAMIGRATION}:${COMMON_OBJS} ${DATAMIGRATION_OBJS} ${SECUREC_OBJS} ${TINYXML_OBJS} ${ALARM_OBJS} ${SQLITE_OBJS}
	${CPPC} ${OFLAGS} -o ${DATAMIGRATION} ${DATAMIGRATION_OBJS} ${COMMON_OBJS} ${SECUREC_OBJS} ${TINYXML_OBJS} ${ALARM_OBJS} ${SQLITE_OBJS} \
    -L${BIN_DIR} -L${OPEN_OPENSSL_LIB_DIR} -L${OPEN_SNMP_LIB_DIR} -L${KMC_LIB_DIR} -L${UUID} -lsnmp++ -lKMC -lcrypto -lpthread -ldl -lrt ${COV_OFLAGS}
	
${MONITOR}:${COMMON_OBJS} ${MONITOR_OBJS} ${SECUREC_OBJS} ${TINYXML_OBJS} ${ALARM_OBJS} ${SQLITE_OBJS}
	${CPPC} ${OFLAGS} -o ${MONITOR} ${MONITOR_OBJS} ${COMMON_OBJS}  ${SECUREC_OBJS} ${TINYXML_OBJS} ${ALARM_OBJS} ${SQLITE_OBJS} \
	-L${OPEN_OPENSSL_LIB_DIR} -L${OPEN_SNMP_LIB_DIR} -L${KMC_LIB_DIR} -L${UUID} -lpthread -lsnmp++ -ldl -lrt -lKMC -lcrypto ${COV_OFLAGS}

${XMLCFG}:${COMMON_OBJS} ${XMLCFG_OBJS} ${SECUREC_OBJS} ${TINYXML_OBJS}
	${CPPC} ${OFLAGS} -o ${XMLCFG} ${XMLCFG_OBJS} ${COMMON_OBJS}  ${SECUREC_OBJS} ${TINYXML_OBJS} \
	-L${OPEN_OPENSSL_LIB_DIR} -L${KMC_LIB_DIR} -L${UUID} -lpthread -ldl -lrt -lKMC -lcrypto ${COV_OFLAGS}
	
${AGENTCLI}:${COMMON_OBJS} ${AGENTCLI_OBJS} ${SECUREC_OBJS} ${TINYXML_OBJS}
	${CPPC} ${OFLAGS} -o ${AGENTCLI} ${AGENTCLI_OBJS} ${COMMON_OBJS}  ${SECUREC_OBJS} ${TINYXML_OBJS} \
	-L${OPEN_OPENSSL_LIB_DIR} -L${KMC_LIB_DIR} -L${UUID} -lpthread -ldl -lrt -lKMC -lcrypto ${COV_OFLAGS}
	
${GETINPUT}:${COMMON_OBJS} ${GETINPUT_OBJS} ${SECUREC_OBJS} ${TINYXML_OBJS}
	${CPPC} ${OFLAGS} -o ${GETINPUT} ${GETINPUT_OBJS} ${COMMON_OBJS}  ${SECUREC_OBJS} ${TINYXML_OBJS} \
	-L${OPEN_OPENSSL_LIB_DIR} -L${KMC_LIB_DIR} -L${UUID} -lpthread -ldl -lrt -lKMC -lcrypto ${COV_OFLAGS}
	
${LIB_COMMON}:${COMMON_OBJS} ${REST_OBJS} ${TCP_OBJS} ${ARRAY_OBJS} ${SECUREC_OBJS} ${TINYXML_OBJS} ${JSON_OBJS} ${SQLITE_OBJS} 
	${CPPC} ${DFLAGS} -o ${LIB_COMMON} ${COMMON_OBJS} ${REST_OBJS} ${ARRAY_OBJS} ${SECUREC_OBJS} ${TINYXML_OBJS} \
	${JSON_OBJS} ${SQLITE_OBJS} -L${OPEN_OPENSSL_LIB_DIR} -L${OPEN_FCGI_LIB_DIR} -L${KMC_LIB_DIR} -L${UUID} -ldl -lpthread -lrt -lKMC -lcrypto -lfcgi ${COV_OFLAGS} ${GCOV_LINK_FLAG}

${LIB_SECURE_COM}:${SECURE_COM_OBJS} ${SECUREC_OBJS} ${REST_OBJS} ${TCP_OBJS_SSL} ${ALARM_OBJS} ${ARRAY_OBJS} ${LIB_COMMON}
	${CPPC} ${DFLAGS} -o ${LIB_SECURE_COM} ${SECURE_COM_OBJS} ${SECUREC_OBJS} ${REST_OBJS} ${TCP_OBJS_SSL} ${ALARM_OBJS} ${ARRAY_OBJS} -L${OPEN_OPENSSL_LIB_DIR} -L${BIN_DIR} -L${KMC_LIB_DIR} -L${OPEN_CURL_LIB_DIR} -lcommon -lKMC -lSDP -lcurl -lpthread -lrt -lssl -lcrypto -ldl ${COV_OFLAGS}

${LIB_HOST}:${HOST_OBJS} ${PLUGINS_OBJS} ${PLUGINS_HOST_OBJS} ${ALARM_OBJS}
	${CPPC} ${dFLAGS} -o ${LIB_HOST} ${HOST_OBJS} ${PLUGINS_OBJS} ${PLUGINS_HOST_OBJS} ${ALARM_OBJS} -L${OPEN_OPENSSL_LIB_DIR} \
	-L${OPEN_FCGI_LIB_DIR} -L${OPEN_SNMP_LIB_DIR} -L${BIN_DIR} -lsnmp++ -lssl -lcrypto -lcommon ${COV_OFLAGS}

${LIB_DEVICE}:${DEVICE_OBJS} ${PLUGINS_OBJS} ${ALARM_OBJS}
	${CPPC} ${dFLAGS} -o ${LIB_DEVICE} ${DEVICE_OBJS} ${PLUGINS_OBJS} ${ALARM_OBJS} -L${OPEN_OPENSSL_LIB_DIR} \
	-L${OPEN_SNMP_LIB_DIR} -L${BIN_DIR} -lsnmp++ -lcrypto -lcommon ${COV_OFLAGS}

${LIB_ORACLE}:${APPS_ORACLE_OBJS} ${PLUGINS_OBJS} ${PLUGINS_ORACLE_OBJS}
	${CPPC} ${dFLAGS} -o ${LIB_ORACLE} ${APPS_ORACLE_OBJS} ${PLUGINS_OBJS} ${PLUGINS_ORACLE_OBJS} -L${BIN_DIR} -lcommon ${COV_OFLAGS}
    
${LIB_ORACLENATIVE}:${APPS_ORACLENATIVE_OBJS} ${PLUGINS_OBJS} ${PLUGINS_ORACLENATIVE_OBJS} ${TASKMANAGER_OBJS} ${FILTER_OBJS} ${JSON_OBJS}
	${CPPC} ${dFLAGS} -o ${APPS_ORACLENATIVE_OBJS} ${PLUGINS_OBJS} ${PLUGINS_ORACLENATIVE_OBJS} -L${BIN_DIR} -lcommon ${COV_OFLAGS}

${LIB_TEST}:${PLUGINS_OBJS} ${TEST_PLUGINS_TEST_OBJS}
	${CPPC} ${DFLAGS} -o ${LIB_TEST} ${PLUGINS_OBJS} ${TEST_PLUGINS_TEST_OBJS} -L${BIN_DIR} -lcommon ${GCOV_LINK_FLAG}

############dataprocess################################

#BIN_DATAPROCESS_TEST = ${BIN_DIR}/dataprocess
#dp:${BIN_DATAPROCESS_TEST}

#${BIN_DATAPROCESS_TEST}:${LIB_COMMON} ${DATACONFIG_OBJS} ${DATAPATH_OBJS} ${DATARW_OBJS} ${DATAVMWARE_OBJS} ${CURLCLIENT_OBJS} ${DP_QOS_OBJS} ${DP_SCH_OBJS}
#	${CPPC} ${oFLAGS} $^ ${GTESTLIB_DIR}/libgtest.a ${DATACONFIG_OBJS} ${DATAPATH_OBJS} ${DATARW_OBJS} ${DATAVMWARE_OBJS} ${CURLCLIENT_OBJS} ${DP_QOS_OBJS} ${DP_SCH_OBJS}
#	 -L${BIN_DIR} -L${OPEN_CURL_LIB_DIR} -L${OPEN_FCGI_LIB_DIR} -L${OPEN_SNMP_LIB_DIR} -L${OPEN_OPENSSL_LIB_DIR} -L${UUID} -ldl -lpthread -lrt -static-libstdc++ -lcommon ${STFLAGS} ${STLIBS} -lcurl -lsnmp++ -lfcgi -lssl -lcrypto ${GCOV_LINK_FLAG} -o ${BIN_DATAPROCESS_TEST}
	
${DATAMSG_OBJS}:${OBJ_DATAMSG_DIR}/%.o:${SRC_DATAMSG_DIR}/%.cpp
	${CPPC} ${CFLAGS} -I${BASE_INC} -I${INC_SECUREC_DIR} -I${INC_OPEN_TINYXML_DIR} -I${OPEN_CURL_DIR} -I${OPEN_SRC_DIR} -I${INC_OPEN_JSON_DIR}/../../ \
	-o $@ -c $< ${COV_CFLAGS}

${DATAPATH_OBJS}:${OBJ_DATAPATH_DIR}/%.o:${SRC_DATAPATH_DIR}/%.cpp
	${CPPC} ${CFLAGS} -I${BASE_INC} -I${INC_SECUREC_DIR} -I${INC_OPEN_TINYXML_DIR} -I${OPEN_CURL_DIR} -I${OPEN_SRC_DIR} -I${INC_OPEN_JSON_DIR}/../../ \
	-o $@ -c $< ${COV_CFLAGS}

${DATACONFIG_OBJS}:${OBJ_DATACONFIG_DIR}/%.o:${SRC_DATACONFIG_DIR}/%.cpp
	${CPPC} ${CFLAGS} -I${BASE_INC} -I${INC_SECUREC_DIR} -I${INC_OPEN_TINYXML_DIR} -I${OPEN_CURL_DIR} -I${OPEN_SRC_DIR} \
	-o $@ -c $< ${COV_CFLAGS}

${DATARW_OBJS}:${OBJ_DATARW_DIR}/%.o:${SRC_DATARW_DIR}/%.cpp
	${CPPC} ${CFLAGS} -I${BASE_INC} -I${INC_SECUREC_DIR} -I${INC_OPEN_TINYXML_DIR} -I${OPEN_CURL_DIR} -I${OPEN_SRC_DIR} \
	-o $@ -c $< ${COV_CFLAGS}

${DATAVMWARE_OBJS}:${OBJ_DATAVMWARE_DIR}/%.o:${SRC_DATAVMWARE_DIR}/%.cpp
	${CPPC} ${CFLAGS} -I${BASE_INC} -I${INC_SECUREC_DIR} -I${INC_OPEN_TINYXML_DIR} -I${OPEN_CURL_DIR} -I${OPEN_SRC_DIR} \
	-o $@ -c $< ${COV_CFLAGS}

${DP_QOS_OBJS}:${OBJ_DP_QOS_DIR}/%.o:${SRC_DP_QOS_DIR}/%.cpp
	${CPPC} ${CFLAGS} -I${BASE_INC} -I${INC_SECUREC_DIR} -I${INC_OPEN_TINYXML_DIR} -I${OPEN_CURL_DIR} -I${OPEN_SRC_DIR} \
	-o $@ -c $< ${COV_CFLAGS}	
	
${DP_SCH_OBJS}:${OBJ_DP_SCH_DIR}/%.o:${SRC_DP_SCH_DIR}/%.cpp
	${CPPC} ${CFLAGS} -I${BASE_INC} -I${INC_SECUREC_DIR} -I${INC_OPEN_TINYXML_DIR} -I${OPEN_CURL_DIR} -I${OPEN_SRC_DIR} \
	-o $@ -c $< ${COV_CFLAGS}	
############dataprocess################################

${COMMON_OBJS}:${OBJ_COMMON_DIR}/%.o:${SRC_COMMON_DIR}/%.cpp
	${CPPC} ${CFLAGS} -I${BASE_INC} -I${INC_SECUREC_DIR} -I${INC_KMC_MAIN_DIR} -I${INC_KMC_INC_DIR} -I${BASE_OPEN_INC} -I${INC_OPEN_OPENSSL_DIR} \
	-I${INC_OPEN_TINYXML_DIR} -I${INC_OPEN_JSON_DIR} -I${INC_OPEN_JSON_DIR}/../../ -I${INC_OPEN_UUID_DIR} -o $@ -c $< ${COV_CFLAGS}

${SECURE_COM_OBJS}:${OBJ_SECURE_COM_DIR}/%.o:${SRC_SECURE_COM_DIR}/%.cpp
	${CPPC} ${CFLAGS} -I${BASE_INC} -I${INC_SECUREC_DIR} -I${INC_KMC_MAIN_DIR} -I${INC_KMC_INC_DIR} -I${INC_KMC_INC_SDP_DIR} \
	-I${BASE_OPEN_INC} -I${INC_OPEN_OPENSSL_DIR} -I${INC_OPEN_TINYXML_DIR} -I${INC_OPEN_CURL_DIR} -o $@ -c $< ${COV_CFLAGS}

${ARRAY_OBJS}:${OBJ_ARRAY_DIR}/%.o:${SRC_ARRAY_DIR}/%.cpp
	${CPPC} ${CFLAGS} -I${BASE_INC} -I${INC_SECUREC_DIR} -I${BASE_OPEN_INC} -o $@ -c $< ${COV_CFLAGS}

${DEVICE_OBJS}:${OBJ_DEVICE_DIR}/%.o:${SRC_DEVICE_DIR}/%.cpp
	${CPPC} ${CFLAGS} -I${BASE_INC} -I${INC_SECUREC_DIR} -I${OPEN_SRC_DIR} -o $@ -c $< ${COV_CFLAGS}

${HOST_OBJS}:${OBJ_HOST_DIR}/%.o:${SRC_HOST_DIR}/%.cpp
	${CPPC} ${CFLAGS} -I${BASE_INC} -I${INC_SECUREC_DIR} -I${INC_OPEN_SNMP_DIR} -I${INC_OPEN_TINYXML_DIR} -I${INC_OPEN_THRIFT_DIR} -I${INC_OPEN_JSON_DIR}/../../ -o $@ -c $< ${COV_CFLAGS}
	
${APPS_APP_OBJS}:${OBJ_APPS_APP_DIR}/%.o:${SRC_APPS_APP_DIR}/%.cpp
	${CPPC} ${CFLAGS} -I${BASE_INC} -I${INC_SECUREC_DIR} -o $@ -c $< ${COV_CFLAGS}

${APPS_ORACLE_OBJS}:${OBJ_APPS_ORACLE_DIR}/%.o:${SRC_APPS_ORACLE_DIR}/%.cpp
	${CPPC} ${CFLAGS} -I${BASE_INC} -I${BASE_OPEN_INC} -I${INC_OPEN_SNMP_DIR} -I${INC_OPEN_SNMP_MAIN_DIR} -I${INC_SECUREC_DIR} -I${INC_OPEN_OPENSSL_DIR} -I${INC_OPEN_TINYXML_DIR} -I${INC_OPEN_CURL_DIR} -o $@ -c $< ${COV_CFLAGS}

${TCP_OBJS}:${OBJ_TCP_DIR}/%.o:${SRC_MESSAGE_TCP_DIR}/%.cpp
	${CPPC} ${CFLAGS} -I${BASE_INC} -I${BASE_OPEN_INC} -I${INC_OPEN_TINYXML_DIR} -I${INC_SECUREC_DIR} -o $@ -c $< ${COV_CFLAGS}
	
${TCP_OBJS_SSL}:${OBJ_MESSAGE_DIR}/tcpssl/%.o:${SRC_MESSAGE_TCP_DIR}/%.cpp
	${CPPC} ${CFLAGS} -DSUPPORT_SSL -I${BASE_INC} -I${BASE_OPEN_INC} -I${INC_SECUREC_DIR} -I${INC_OPEN_TINYXML_DIR} -I${INC_OPEN_OPENSSL_DIR} -o $@ -c $< ${COV_CFLAGS}

${TASKMANAGER_OBJS}:${OBJ_TASKMANAGER_DIR}/%.o:${SRC_TASKMANAGER_DIR}/%.cpp
	${CPPC} ${CFLAGS} -I${BASE_INC} -I${OPEN_SRC_DIR} -I${INC_OPEN_TINYXML_DIR} -I${INC_SECUREC_DIR} -I${INC_TCMALLOC_DIR} -o $@ -c $< ${COV_CFLAGS}

${EXTERNALJOB_OBJS}:${OBJ_EXTERNALJOB_DIR}/%.o:${SRC_EXTERNALJOB_DIR}/%.cpp
	${CPPC} ${CFLAGS} -I${BASE_INC} -I${OPEN_SRC_DIR} -I${INC_SECUREC_DIR} -I${INC_OPEN_THRIFT_DIR} -I${INC_SERVICE_CENTER_DIR} -I${INC_BOOST_DIR} -I${INC_OPEN_TINYXML_DIR} -o $@ -c $< ${COV_CFLAGS}

${FILTER_OBJS}:${OBJ_FILTER_DIR}/%.o:${SRC_FILTER_DIR}/%.cpp
	${CPPC} ${CFLAGS} -I${BASE_INC} -I${OPEN_SRC_DIR} -I${INC_SECUREC_DIR} -I${INC_OPEN_THRIFT_DIR} -I${INC_SERVICE_CENTER_DIR} -I${INC_BOOST_DIR} -I${INC_OPEN_TINYXML_DIR} -o $@ -c $< ${COV_CFLAGS}

${APPS_ORACLENATIVE_OBJS}:${OBJ_APPS_ORACLENATIVE_DIR}/%.o:${SRC_APPS_ORACLENATIVE_DIR}/%.cpp
	${CPPC} ${CFLAGS} -I${BASE_INC} -I${OPEN_SRC_DIR} -I${INC_SECUREC_DIR} -I${BASE_OPEN_INC} -I${INC_OPEN_TINYXML_DIR} -o $@ -c $< ${COV_CFLAGS}

${SQLITE_OBJS}:${SRC_OPEN_SQLITE_DIR}/sqlite3.c
	${cc} ${cFLAGS} ${RD_CFLAGS} -I${INC_OPEN_SQLITE_DIR} -o $@ -c ${SRC_OPEN_SQLITE_DIR}/sqlite3.c
	
${AGENT_OBJS}:${OBJ_AGENT_DIR}/%.o:${SRC_AGENT_DIR}/%.cpp
	${CPPC} ${CFLAGS} -I${BASE_INC} -I${BASE_OPEN_INC} -I${INC_SECUREC_DIR} -I${INC_OPEN_OPENSSL_DIR} -I${INC_SERVICE_CENTER_DIR} -I${INC_OPEN_THRIFT_DIR} -I${INC_BOOST_DIR} -I${INC_OPEN_TINYXML_DIR} -I${INC_OPEN_SNMP_DIR} -I${INC_OPEN_SNMP_MAIN_DIR} -I${OPEN_CURL_DIR} -I${OPEN_CURL_LIB_DIR} -o $@ -c $< ${COV_CFLAGS}
	
${ROOT_EXEC_OBJS}:${OBJ_ROOT_EXEC_DIR}/%.o:${SRC_ROOT_EXEC_DIR}/%.cpp
	${CPPC} ${CFLAGS} -I${BASE_INC} -I${INC_SECUREC_DIR} -I${INC_OPEN_TINYXML_DIR} -I${BASE_OPEN_INC} -I${OPEN_CURL_DIR} -o $@ -c $< ${COV_CFLAGS}
	
${CRYPTO_OBJS}:${OBJ_CRYPTO_DIR}/%.o:${SRC_CRYPTO_DIR}/%.cpp
	${CPPC} ${CFLAGS} -I${BASE_INC} -I${INC_SECUREC_DIR} -I${INC_OPEN_OPENSSL_DIR} -I${INC_OPEN_TINYXML_DIR} -o $@ -c $< ${COV_CFLAGS}
	
${SCRIPTSIGN_OBJS}:${OBJ_SCRIPTSIGN_DIR}/%.o:${SRC_SCRIPTSIGN_DIR}/%.cpp
	${CPPC} ${CFLAGS} -I${BASE_INC} -I${INC_SECUREC_DIR} -I${INC_OPEN_OPENSSL_DIR} -I${INC_OPEN_TINYXML_DIR} -o $@ -c $< ${COV_CFLAGS}

${DATAMIGRATION_OBJS}:${OBJ_DATAMIGRATION_DIR}/%.o:${SRC_DATAMIGRATION_DIR}/%.cpp
	${CPPC} ${CFLAGS} -I${BASE_INC} -I${BASE_OPEN_INC} -I${INC_SECUREC_DIR} -I${INC_OPEN_TINYXML_DIR} -o $@ -c $< ${COV_CFLAGS}
	
${MONITOR_OBJS}:${OBJ_MONITOR_DIR}/%.o:${SRC_MONITOR_DIR}/%.cpp
	${CPPC} ${CFLAGS} -I${BASE_INC} -I${BASE_OPEN_INC} -I${INC_SECUREC_DIR} -I${INC_OPEN_TINYXML_DIR} -I${INC_OPEN_SNMP_DIR} -I${INC_OPEN_SNMP_MAIN_DIR} -o $@ -c $< ${COV_CFLAGS}
	
${XMLCFG_OBJS}:${OBJ_XMLCFG_DIR}/%.o:${SRC_XMLCFG_DIR}/%.cpp
	${CPPC} ${CFLAGS} -I${BASE_INC} -I${BASE_OPEN_INC} -I${INC_SECUREC_DIR} -I${INC_OPEN_TINYXML_DIR} -o $@ -c $< ${COV_CFLAGS}
	
${AGENTCLI_OBJS}:${OBJ_AGENTCLI_DIR}/%.o:${SRC_AGENTCLI_DIR}/%.cpp
	${CPPC} ${CFLAGS} -I${BASE_INC} -I${BASE_OPEN_INC} -I${OPEN_CURL_DIR} -I${INC_SECUREC_DIR} -I${INC_OPEN_TINYXML_DIR} -I${INC_OPEN_JSON_DIR} -o $@ -c $< ${COV_CFLAGS}
	
${GETINPUT_OBJS}:${OBJ_GETINPUT_DIR}/%.o:${SRC_GETINPUT_DIR}/%.cpp
	${CPPC} ${CFLAGS} -I${BASE_INC} -I${BASE_OPEN_INC} -I${INC_SECUREC_DIR} -I${INC_OPEN_TINYXML_DIR} -o $@ -c $< ${COV_CFLAGS}

${REST_OBJS}:${OBJ_REST_DIR}/%.o:${SRC_MESSAGE_REST_DIR}/%.cpp
	${CPPC} ${CFLAGS} -I${BASE_INC} -I${BASE_OPEN_INC} -I${INC_SECUREC_DIR} -o $@ -c $< ${COV_CFLAGS}

${ALARM_OBJS}:${OBJ_ALARM_DIR}/%.o:${SRC_ALARM_DIR}/%.cpp
	${CPPC} ${CFLAGS} -I${BASE_INC} -I${BASE_OPEN_INC} -I${INC_SECUREC_DIR} -I${INC_OPEN_SNMP_DIR} -I${INC_OPEN_OPENSSL_DIR} -I${INC_OPEN_SNMP_MAIN_DIR} -I${INC_OPEN_TINYXML_DIR} -I${INC_OPEN_CURL_DIR} -o $@ -c $< ${COV_CFLAGS}

${PLUGINFX_OBJS}:${OBJ_PLUGINFX_DIR}/%.o:${SRC_PLUGINFX_DIR}/%.cpp
	${CPPC} ${CFLAGS} -I${BASE_INC} -I${BASE_OPEN_INC} -I${INC_SECUREC_DIR} -I${INC_SERVICE_CENTER_DIR} \
	-I${INC_THRIFT_SERVICE_DIR} -I${INC_OPEN_TINYXML_DIR} -I${INC_OPEN_THRIFT_DIR} -I${INC_BOOST_DIR} \
	-I${INC_OPEN_TINYXML_DIR} -I${INC_OPEN_SNMP_DIR} -I${OPEN_SNMP_DIR} -o $@ -c $< ${COV_CFLAGS}

${PLUGINS_OBJS}:${OBJ_PLUGINS_DIR}/%.o:${SRC_PLUGINS_DIR}/%.cpp
	${CPPC} ${CFLAGS} -I${BASE_INC} -I${BASE_OPEN_INC} -I${INC_SECUREC_DIR} -I${INC_OPEN_THRIFT_DIR} -I${INC_BOOST_DIR} -o $@ -c $< ${COV_CFLAGS}

${PLUGINS_HOST_OBJS}:${OBJ_PLUGINS_HOST_DIR}/%.o:${SRC_PLUGINS_HOST_DIR}/%.cpp
	${CPPC} ${CFLAGS} -I${BASE_INC} -I${BASE_OPEN_INC} -I${INC_SECUREC_DIR} -I${INC_OPEN_SNMP_DIR} \
	-I${INC_OPEN_SNMP_MAIN_DIR} -I${INC_OPEN_TINYXML_DIR} -I${INC_OPEN_CURL_DIR} -I${INC_OPEN_THRIFT_DIR} -I${INC_BOOST_DIR} \
	-I${INC_SERVICE_CENTER_DIR} -o $@ -c $< ${COV_CFLAGS}
	
${PLUGINS_APP_OBJS}:${OBJ_PLUGINS_APP_DIR}/%.o:${SRC_PLUGINS_APP_DIR}/%.cpp
	${CPPC} ${CFLAGS} -I${BASE_INC} -I${BASE_OPEN_INC} -I${INC_SECUREC_DIR} -o $@ -c $< ${COV_CFLAGS}	
	
${PLUGINS_ORACLE_OBJS}:${OBJ_PLUGINS_ORACLE_DIR}/%.o:${SRC_PLUGINS_ORACLE_DIR}/%.cpp
	${CPPC} ${CFLAGS} -I${BASE_INC} -I${BASE_OPEN_INC} -I${INC_SECUREC_DIR} -o $@ -c $< ${COV_CFLAGS}

${PLUGINS_ORACLENATIVE_OBJS}:${OBJ_PLUGINS_ORACLENATIVE_DIR}/%.o:${SRC_PLUGINS_ORACLENATIVE_DIR}/%.cpp
	${CPPC} ${CFLAGS} -I${BASE_INC} -I${BASE_OPEN_INC} -I${INC_SECUREC_DIR} -o $@ -c $< ${COV_CFLAGS}

${PLUGINS_APPPROTECT_OBJS}:${OBJ_PLUGINS_APPPROTECT_DIR}/%.o:${SRC_PLUGINS_APPPROTECT_DIR}/%.cpp
	${CPPC} ${CFLAGS} -I${BASE_INC} -I${BASE_OPEN_INC} -I${INC_SECUREC_DIR} -I${INC_OPEN_THRIFT_DIR} -I${INC_OPEN_TINYXML_DIR} -I${INC_BOOST_DIR} -o $@ -c $< ${COV_CFLAGS}

${APPPROTECT_PLUGIN_OBJS}:${OBJ_APPPROTECT_PLUGIN_DIR}/%.o:${SRC_APPPROTECT_PLUGIN_DIR}/%.cpp
	${CPPC} ${CFLAGS} -I${BASE_INC} -I${BASE_OPEN_INC} -I${INC_SECUREC_DIR} -I${INC_THRIFT_SERVICE_DIR} \
	-I${INC_APPPROTECT_PLUGIN_DIR} -I${INC_OPEN_THRIFT_DIR} -I${INC_SERVICE_CENTER_DIR} -I${INC_BOOST_DIR} -I${INC_OPEN_THRIFT_DIR} -o $@ -c $< ${COV_CFLAGS}

${TEST_PLUGINS_TEST_OBJS}:${OBJ_TEST_PLUGINS_TEST_DIR}/%.o:${SRC_TEST_PLUGINS_TEST_DIR}/%.cpp
	${CPPC} ${CFLAGS} -I${TEST_ALL_INCLUDE} -I${BASE_INC} -I${BASE_OPEN_INC} -I${INC_SECUREC_DIR} -I${INC_OPEN_TINYXML_DIR} -o $@ -c $<

${JSON_OBJS}:${OBJ_JSON_DIR}/%.o:${SRC_JSON_DIR}/%.cpp
	${CPPC} ${CFLAGS} -I${INC_OPEN_JSON_DIR} -o $@ -c $<

${TINYXML_OBJS}:${OBJ_TINYXML_DIR}/%.o:${SRC_TINYXML_DIR}/%.cpp
	${CPPC} ${CFLAGS} -I${INC_OPEN_TINYXML_DIR} -o $@ -c $<

${SECUREC_OBJS}:${OBJ_SECUREC_DIR}/%.o:${SRC_SECUREC_DIR}/%.c
	${cc} ${cFLAGS} -I${INC_SECUREC_DIR} -o $@ -c $<

${CURLCLIENT_OBJS}:${OBJ_CURLCLIENT_DIR}/%.o:${SRC_CURLCLIENT_DIR}/%.cpp
	${CPPC} ${CFLAGS} -I${BASE_INC} -I${BASE_OPEN_INC} -I${INC_OPEN_CURL_DIR} -I${INC_OPEN_OPENSSL_DIR} -I${INC_BOOST_DIR} -I${INC_OPEN_THRIFT_DIR} \
	-I${INC_SECUREC_DIR} -I${INC_OPEN_TINYXML_DIR} -o $@ -c $< ${COV_CFLAGS}

${APPPROTECT_OBJS}:${OBJ_APPPROTECT_DIR}/%.o:${SRC_APPPROTECT_DIR}/%.cpp
	${CPPC} ${CFLAGS} -I${BASE_INC} -I${BASE_OPEN_INC} -I${INC_APPPROTECT_DIR} -I${INC_OPEN_THRIFT_DIR} -I${INC_SECUREC_DIR} -I${INC_BOOST_DIR} -o $@ -c $< ${COV_CFLAGS}

#${DATAMSG_OBJS}:${OBJ_DATAMSG_DIR}/%.o:${SRC_DATAMSG_DIR}/%.cpp
#	${CPPC} ${CFLAGS} -I${BASE_INC} -I${INC_SECUREC_DIR} -I${OPEN_CURL_DIR}/../../ -I${OPEN_CURL_DIR} -I${INC_OPEN_TINYXML_DIR} -o $@ -c $< ${COV_CFLAGS}

#for test
${TEST_STUB_OBJS}:${SRC_TEST_STUB_DIR}/stub.cpp ${SRC_TEST_STUB_DIR}/stub.h
	${CPPC} -fPIC -Wall -MMD -D_SUSE10_64 -DBUILD_LCOV -fpermissive -c $< -o ${OBJ_TEST_STUB_DIR}/stub.o
	
${TEST_TOOLS_XMLCFG_OBJS}:${OBJ_TEST_TOOLS_XMLCFG_DIR}/%.o:${SRC_TEST_TOOLS_XMLCFG_DIR}/%.cpp
	${CPPC} ${TEST_ALL_INCLUDE} -c $< -o $@

${TEST_TOOLS_SCRIPTSIGN_OBJS}:${OBJ_TEST_TOOLS_SCRIPTSIGN_DIR}/%.o:${SRC_TEST_TOOLS_SCRIPTSIGN_DIR}/%.cpp
	${CPPC} ${TEST_ALL_INCLUDE} -c $< -o $@

${TEST_TOOLS_MONITOR_OBJS}:${OBJ_TEST_TOOLS_MONITOR_DIR}/%.o:${SRC_TEST_TOOLS_MONITOR_DIR}/%.cpp
	${CPPC} ${TEST_ALL_INCLUDE} -c $< -o $@

${TEST_TOOLS_GETINPUT_OBJS}:${OBJ_TEST_TOOLS_GETINPUT_DIR}/%.o:${SRC_TEST_TOOLS_GETINPUT_DIR}/%.cpp
	${CPPC} ${TEST_ALL_INCLUDE} -c $< -o $@

${TEST_TOOLS_DATAMIGRATION_OBJS}:${OBJ_TEST_TOOLS_DATAMIGRATION_DIR}/%.o:${SRC_TEST_TOOLS_DATAMIGRATION_DIR}/%.cpp
	${CPPC} ${TEST_ALL_INCLUDE} -c $< -o $@

${TEST_TOOLS_CRYPTO_OBJS}:${OBJ_TEST_TOOLS_CRYPTO_DIR}/%.o:${SRC_TEST_TOOLS_CRYPTO_DIR}/%.cpp
	${CPPC} ${TEST_ALL_INCLUDE} -c $< -o $@

${TEST_TOOLS_AGENTCLI_OBJS}:${OBJ_TEST_TOOLS_AGENTCLI_DIR}/%.o:${SRC_TEST_TOOLS_AGENTCLI_DIR}/%.cpp
	${CPPC} ${TEST_ALL_INCLUDE} -c $< -o $@

${TEST_ROOT_EXEC_OBJS}:${OBJ_TEST_ROOT_EXEC_DIR}/%.o:${SRC_TEST_ROOT_EXEC_DIR}/%.cpp
	${CPPC} ${TEST_ALL_INCLUDE} -I${OPEN_CURL_DIR} -c $< -o $@

${TEST_REST_OBJS}:${OBJ_TEST_REST_DIR}/%.o:${SRC_TEST_REST_DIR}/%.cpp
	${CPPC} ${CFLAGS} ${TEST_ALL_INCLUDE} -c $< -o $@

${TEST_TCP_OBJS}:${OBJ_TEST_TCP_DIR}/%.o:${SRC_TEST_TCP_DIR}/%.cpp
	${CPPC} ${CFLAGS} ${TEST_ALL_INCLUDE} -c $< -o $@

${TEST_CURLHTTPCLIENT_OBJS}:${OBJ_TEST_CURLHTTPCLIENT_DIR}/%.o:${SRC_TEST_CURLHTTPCLIENT_DIR}/%.cpp
	${CPPC} ${CFLAGS} ${TEST_ALL_INCLUDE} -c $< -o $@

${TEST_PLUGINS_ORACLE_OBJS}:${OBJ_TEST_PLUGINS_ORACLE_DIR}/%.o:${SRC_TEST_PLUGINS_ORACLE_DIR}/%.cpp
	${CPPC} ${TEST_ALL_INCLUDE} -c $< -o $@
    
${TEST_PLUGINS_HOST_OBJS}:${OBJ_TEST_PLUGINS_HOST_DIR}/%.o:${SRC_TEST_PLUGINS_HOST_DIR}/%.cpp
	${CPPC} ${CFLAGS} ${TEST_ALL_INCLUDE} -c $< -o $@
	
${TEST_PLUGINS_APP_OBJS}:${OBJ_TEST_PLUGINS_APP_DIR}/%.o:${SRC_TEST_PLUGINS_APP_DIR}/%.cpp
	${CPPC} ${TEST_ALL_INCLUDE} -c $< -o $@

${TEST_PLUGINS_ORACLENATIVE_OBJS}:${OBJ_TEST_PLUGINS_ORACLENATIVE_DIR}/%.o:${SRC_TEST_PLUGINS_ORACLENATIVE_DIR}/%.cpp
	${CPPC} ${TEST_ALL_INCLUDE} -c $< -o $@

${TEST_PLUGINS_APPPROTECT_OBJS}:${OBJ_TEST_PLUGINS_APPPROTECT_DIR}/%.o:${SRC_TEST_PLUGINS_APPPROTECT_DIR}/%.cpp
	${CPPC} ${TEST_ALL_INCLUDE} -c $< -o $@

${TEST_PLUGINS_OBJS}:${OBJ_TEST_PLUGINS_DIR}/%.o:${SRC_TEST_PLUGINS_DIR}/%.cpp
	${CPPC} ${TEST_ALL_INCLUDE} -c $< -o $@

${TEST_PLUGINFX_OBJS}:${OBJ_TEST_PLUGINFX_DIR}/%.o:${SRC_TEST_PLUGINFX_DIR}/%.cpp
	${CPPC} ${CFLAGS}  ${TEST_ALL_INCLUDE} -c $< -o $@

${TEST_HOST_OBJS}:${OBJ_TEST_HOST_DIR}/%.o:${SRC_TEST_HOST_DIR}/%.cpp
	${CPPC} ${CFLAGS}  ${TEST_ALL_INCLUDE} -c $< -o $@

${TEST_DEVICE_OBJS}:${OBJ_TEST_DEVICE_DIR}/%.o:${SRC_TEST_DEVICE_DIR}/%.cpp
	${CPPC} ${CFLAGS}  ${TEST_ALL_INCLUDE} -c $< -o $@

${TEST_COMMON_OBJS}:${OBJ_TEST_COMMON_DIR}/%.o:${SRC_TEST_COMMON_DIR}/%.cpp
	${CPPC} ${CFLAGS} -DLINUX ${TEST_ALL_INCLUDE} -c $< -o $@

${TEST_SECURE_COM_OBJS}:${OBJ_TEST_SECURE_COM_DIR}/%.o:${SRC_TEST_SECURE_COM_DIR}/%.cpp
	${CPPC} ${CFLAGS} -DLINUX ${TEST_ALL_INCLUDE} -c $< -o $@

${TEST_TASKMANAGER_OBJS}:${OBJ_TEST_TASKMANAGER_DIR}/%.o:${SRC_TEST_TASKMANAGER_DIR}/%.cpp
	${CPPC} ${CFLAGS} -DLINUX ${TEST_ALL_INCLUDE} -I${INC_TCMALLOC_DIR} -c $< -o $@

${TEST_FILTER_OBJS}:${OBJ_TEST_FILTER_DIR}/%.o:${SRC_TEST_FILTER_DIR}/%.cpp
	${CPPC} ${CFLAGS} -DLINUX ${TEST_ALL_INCLUDE} -I${INC_TCMALLOC_DIR} -c $< -o $@
	
${TEST_EXTERNALJOB_OBJS}:${OBJ_TEST_EXTERNALJOB_DIR}/%.o:${SRC_TEST_EXTERNALJOB_DIR}/%.cpp
	${CPPC} ${CFLAGS} -DLINUX ${TEST_ALL_INCLUDE} -I${INC_TCMALLOC_DIR} -c $< -o $@

${TEST_DATAPROCESS_OBJS}:${OBJ_TEST_DATAPROCESS_DIR}/%.o:${SRC_TEST_DATAPROCESS_DIR}/%.cpp
	${CPPC} ${CFLAGS} -DLINUX ${TEST_ALL_INCLUDE} -c $< -o $@

${TEST_ARRAY_OBJS}:${OBJ_TEST_ARRAY_DIR}/%.o:${SRC_TEST_ARRAY_DIR}/%.cpp
	${CPPC} ${CFLAGS} ${TEST_ALL_INCLUDE} -c $< -o $@
	
${TEST_APPS_ORACLE_OBJS}:${OBJ_TEST_APPS_ORACLE_DIR}/%.o:${SRC_TEST_APPS_ORACLE_DIR}/%.cpp
	${CPPC} ${CFLAGS} ${TEST_ALL_INCLUDE} -c $< -o $@
    

${TEST_APPS_OBJS}:${OBJ_TEST_APPS_APP_DIR}/%.o:${SRC_TEST_APPS_APP_DIR}/%.cpp
	${CPPC} ${CFLAGS} ${TEST_ALL_INCLUDE} -c $< -o $@

${TEST_APPS_ORACLENATIVE_OBJS}:${OBJ_TEST_APPS_ORACLENATIVE_DIR}/%.o:${SRC_TEST_APPS_ORACLENATIVE_DIR}/%.cpp
	${CPPC} ${CFLAGS} ${TEST_ALL_INCLUDE} -c $< -o $@

${TEST_ALARM_OBJS}:${OBJ_TEST_ALARM_DIR}/%.o:${SRC_TEST_ALARM_DIR}/%.cpp
	${CPPC} ${TEST_ALL_INCLUDE} -c $< -o $@

${TEST_AGENT_OBJS}:${OBJ_TEST_AGENT_DIR}/%.o:${SRC_TEST_AGENT_DIR}/%.cpp
	${CPPC} ${CFLAGS} ${TEST_ALL_INCLUDE} -c $< -o $@
	
${TEST_CUNITPUB_OBJ}:${OBJ_TEST_CUNITPUB_DIR}/%.o:${SRC_TESET_CUNITPUB_DIR}/%.cpp
	${CPPC} ${CFLAGS} ${TEST_ALL_INCLUDE} -c $< -o $@

${TEST_ARCHIVE_STREAM_OBJS}:${OBJ_TEST_ARCHIVE_STREAM_DIR}/%.o:${SRC_TEST_ARCHIVE_STREAM_DIR}/%.cpp
	${CPPC} ${CFLAGS} -DLINUX ${TEST_ALL_INCLUDE} -c $< -o $@

${TEST_XBSA_OBJS}:${OBJ_TEST_XBSA_DIR}/%.o:${SRC_TEST_XBSA_DIR}/%.cpp
	${CPPC} ${CFLAGS} -DLINUX ${TEST_ALL_INCLUDE} -c $< -o $@
    
${TEST_DWS_OBJS}:${OBJ_TEST_DWS_DIR}/%.o:${SRC_TEST_DWS_DIR}/%.cpp
	${CPPC} ${CFLAGS} -DLINUX ${TEST_ALL_INCLUDE} -c $< -o $@
    
${TEST_XBSA_SERVER_OBJS}:${OBJ_TEST_DWS_XBSASERVER_DIR}/%.o:${SRC_TEST_DWS_XBSASERVER_DIR}/%.cpp
	${CPPC} ${CFLAGS} -DLINUX ${TEST_ALL_INCLUDE} -c $< -o $@

${LIB_XBSACOMM_OBJS}:${OBJ_XBSACOMM_CLIENT_DIR}/%.o:${SRC_XBSACOMM_CLIENT_DIR}/%.cpp
	${CPPC} ${CFLAGS} -DLINUX ${TEST_ALL_INCLUDE} -c $< -o $@
    
#${TEST_DWS_XBSACOM_OBJS}:${OBJ_TEST_DWS_XBSACOM_DIR}/%.o:${SRC_TEST_DWS_XBSACOM_DIR}/%.cpp
#	${CPPC} ${CFLAGS} -DLINUX ${TEST_ALL_INCLUDE} -c $< -o $@
    
#${TEST_DWS_XBSASERVER_OBJS}:${OBJ_TEST_DWS_XBSASERVER_DIR}/%.o:${SRC_TEST_DWS_XBSASERVER_DIR}/%.cpp
#	${CPPC} ${CFLAGS} -DLINUX ${TEST_ALL_INCLUDE} -c $< -o $@

${TEST_MAIN_OBJS}:${OBJ_TEST_MAIN_DIR}/%.o:${SRC_TEST_MAIN_DIR}/%.cpp
	${CPPC} ${TEST_ALL_INCLUDE} -c $< -o $@

${TEST_APPPROTECT_PLUGIN_OBJS}:${OBJ_TEST_APPPROTECT_PLUGIN_DIR}/%.o:${SRC_TEST_APPPROTECT_PLUGIN_DIR}/%.cpp
	${CPPC} ${CFLAGS} ${TEST_ALL_INCLUDE} -c $< -o $@

${TEST_APPPROTECT_OBJS}:${OBJ_TEST_APPPROTECT_DIR}/%.o:${SRC_TEST_APPPROTECT_DIR}/%.cpp
	${CPPC} ${TEST_ALL_INCLUDE} -c $< -o $@

#############xbsa###################################
XBSA_TARGET = ${LIB_XBSA} ${LIB_DWS}
xbsa:${XBSA_TARGET}

${LIB_XBSA_COM_OBJS}:${OBJ_XBSA_COM_DIR}/%.o:${SRC_XBSA_COM_DIR}/%.cpp
	${CPPC} ${CFLAGS} -DSUPPORT_SSL -I${BASE_INC} -I${BASE_INC}/apps/dws -I${BASE_OPEN_INC} -I${INC_SECUREC_DIR} -I${INC_OPEN_TINYXML_DIR} -I${INC_OPEN_OPENSSL_DIR} -I${INC_OPEN_UUID_DIR} \
	-I${INC_OPEN_THRIFT_DIR} -I${INC_BOOST_DIR} -o $@ -c $< ${COV_CFLAGS}

${LIB_ARCHIVE_STREAM_OBJS}:${OBJ_ARCHIVE_STREAM_DIR}/%.o:${SRC_ARCHIVE_STREAM_DIR}/%.cpp
	${CPPC} ${CFLAGS} -DSUPPORT_SSL -I${INC_ARCHIVE_STREAM_DIR} -I${BASE_INC} -I${BASE_INC}/message/archivestream -I${BASE_INC}/message/tcp -I${BASE_OPEN_INC} -I${INC_SECUREC_DIR} -I${INC_OPEN_TINYXML_DIR} -I${INC_OPEN_OPENSSL_DIR} -I${INC_OPEN_UUID_DIR} \
	-I${INC_OPEN_THRIFT_DIR} -I${INC_BOOST_DIR} -I${OPEN_ZLIB_DIR} -I${INC_OPEN_JSON_DIR} -o $@ -c $< ${COV_CFLAGS}

${LIB_XBSA_OBJS}:${OBJ_XBSA_CLIENT_DIR}/%.o:${SRC_XBSA_CLIENT_DIR}/%.cpp
	${CPPC} ${CFLAGS} -DSUPPORT_SSL -I${INC_XBSA_CLIENT_DIR} -I${BASE_INC} -I${BASE_INC}/apps/dws -I${BASE_INC}/message/archivestream -I${BASE_INC}/xbsa -I${BASE_OPEN_INC} -I${INC_SECUREC_DIR} -I${INC_OPEN_TINYXML_DIR} -I${INC_OPEN_OPENSSL_DIR} -I${INC_OPEN_UUID_DIR} \
	-I${INC_OPEN_THRIFT_DIR} -I${INC_BOOST_DIR} -I${OPEN_ZLIB_DIR} -I${INC_OPEN_JSON_DIR} -I${INC_XBSA_COM_DIR}  -o $@ -c $< ${COV_CFLAGS}

${LIB_XBSA}:${LIB_COMMON} ${LIB_SECURE_COM} ${LIB_XBSA_OBJS} ${LIB_ARCHIVE_STREAM_OBJS} ${LIB_XBSA_COM_OBJS}
	${CPPC} ${dFLAGS} -o ${LIB_XBSA} ${LIB_XBSA_OBJS} ${LIB_ARCHIVE_STREAM_OBJS} ${LIB_XBSA_COM_OBJS} -L${OPEN_THRIFT_DIR} -L${BIN_DIR} -L${OPEN_FCGI_LIB_DIR} -L${OPEN_OPENSSL_LIB_DIR} -L${KMC_LIB_DIR} -L${OPEN_LIBEVENT_DIR} -lsecurecom -lcommon ${STFLAGS} -lfcgi -lKMC -lSDP -lthriftz -lthriftnb -lthrift -levent -lssl -lcrypto ${DYFLAGS} ${COV_OFLAGS}

${LIB_DWS_SERVER_OBJS}:${OBJ_DWS_SERVER_DIR}/%.o:${SRC_DWS_SERVER_DIR}/%.cpp
	${CPPC} ${CFLAGS} -I${BASE_INC} -I${BASE_INC}/apps/dws -I${BASE_OPEN_INC} -I${INC_SECUREC_DIR} -I${INC_OPEN_TINYXML_DIR} -I${INC_OPEN_OPENSSL_DIR} -I${INC_OPEN_UUID_DIR} \
	-I${INC_BOOST_DIR} -I${INC_OPEN_THRIFT_DIR} -I${INC_DWS_SERVER_DIR} -I${INC_LIBEVENT_DIR} -o $@ -c $< ${COV_CFLAGS}

${LIB_DWS_PLUGIN_OBJS}:${OBJ_DWS_PLUGIN_DIR}/%.o:${SRC_DWS_PLUGIN_DIR}/%.cpp
	${CPPC} ${CFLAGS} -DSUPPORT_SSL -I${BASE_INC} -I${BASE_INC}/apps/dws -I${BASE_OPEN_INC} -I${INC_SECUREC_DIR} -I${INC_OPEN_TINYXML_DIR} -I${INC_OPEN_OPENSSL_DIR} \
	-I${INC_OPEN_UUID_DIR} -I${INC_OPEN_THRIFT_DIR} -I${INC_BOOST_DIR} -I${INC_LIBEVENT_DIR} -o $@ -c $< ${COV_CFLAGS}
	
${LIB_XBSA_SERVER}:${LIB_DWS_SERVER_OBJS}
	${ARNew} ${LIB_XBSA_SERVER} ${LIB_DWS_SERVER_OBJS}

${LIB_DWS}:${LIB_COMMON} ${LIB_SECURE_COM} ${PLUGINS_OBJS} ${LIB_DWS_PLUGIN_OBJS} ${LIB_XBSA_SERVER} ${LIB_XBSA_COM_OBJS}
	${CPPC} ${dFLAGS} -o ${LIB_DWS} ${PLUGINS_OBJS}  ${LIB_DWS_PLUGIN_OBJS} ${LIB_XBSA_COM_OBJS} ${LIB_XBSA_SERVER} -L${OPEN_OPENSSL_LIB_DIR} -L${OPEN_LIBEVENT_DIR} -L${OPEN_THRIFT_DIR} -L${BIN_DIR} -lsecurecom -lcommon ${STFLAGS} -lssl -lcrypto -lthriftz -lthriftnb -lthrift -levent -lxbsaserver ${DYFLAGS} ${COV_OFLAGS}

##########servicefactory###############
TEST_INC_SERVICE_CENTER_DIR = ${TEST_INC}/servicecenter

${SERVICE_FACTORY_OBJS}:${OBJ_SERVICE_FACTORY_DIR}/%.o:${SRC_SERVICE_FACTORY_DIR}/%.cpp
	${CPPC} ${CFLAGS} -I${BASE_INC} -I${BASE_OPEN_INC} -I${INC_SERVICE_CENTER_DIR} -I${INC_OPEN_THRIFT_DIR} \
	-I${INC_LIBEVENT_DIR} -I${INC_BOOST_DIR} -I${INC_SECUREC_DIR} -o $@ -c $< ${COV_CFLAGS}	

${TEST_SERVICE_FACTORY_OBJS}:${OBJ_TEST_SERVICE_FACTORY_DIR}/%.o:${SRC_TEST_SERVICE_FACTORY_DIR}/%.cpp
	${CPPC} ${CFLAGS} -I${BASE_INC} -I${BASE_OPEN_INC} -I${GTESTLIB_DIR}/include -I${TEST_ALL_INCLUDE} -I${INC_SERVICE_CENTER_DIR} -I${TEST_INC_SERVICE_CENTER_DIR} -I${SRC_TEST_STUB_DIR} -I${INC_SECUREC_DIR} -o $@ -c $< ${COV_CFLAGS}

${THRIFT_SERVICE_OBJS}:${OBJ_THRIFT_SERVICE_DIR}/%.o:${SRC_THRIFT_SERVICE_DIR}/%.cpp
	${CPPC} ${CFLAGS} -I${BASE_INC} -I${BASE_OPEN_INC} -I${INC_OPEN_TINYXML_DIR} -I${INC_OPEN_THRIFT_DIR} -I${INC_SERVICE_CENTER_DIR} -I${INC_LIBEVENT_DIR} -I${INC_BOOST_DIR} -I${INC_THRIFT_SERVICE_DIR} -I${INC_SECUREC_DIR} \
	-o $@ -c $< ${COV_CFLAGS}

${TEST_THRIFT_SERVICE_OBJS}:${OBJ_TEST_THRIFT_SERVICE_DIR}/%.o:${SRC_TEST_THRIFT_SERVICE_DIR}/%.cpp
	${CPPC} ${CFLAGS} -I${BASE_INC} -I${BASE_OPEN_INC} -I${INC_OPEN_THRIFT_DIR} -I${INC_SERVICE_CENTER_DIR} -I${INC_LIBEVENT_DIR} -I${INC_THRIFT_SERVICE_DIR} -I${GTESTLIB_DIR}/include -I${TEST_ALL_INCLUDE} -I${INC_SERVICE_CENTER_DIR} -I${TEST_INC_SERVICE_CENTER_DIR} -I${SRC_TEST_STUB_DIR} -I${INC_LIBEVENT_DIR} -I${INC_SECUREC_DIR} -o $@ -c $< ${COV_CFLAGS}

${CERTIFICATE_SERVICE_OBJS}:${OBJ_CERTIFICATE_SERVICE_DIR}/%.o:${SRC_CERTIFICATE_SERVICE_DIR}/%.cpp
	${CPPC} ${CFLAGS} -I${BASE_INC} -I${BASE_OPEN_INC} -I${INC_OPEN_THRIFT_DIR} -I${INC_SERVICE_CENTER_DIR} -I${INC_LIBEVENT_DIR} -I${INC_THRIFT_SERVICE_DIR} -I${INC_SECUREC_DIR} -I${SRC_TINYXML_DIR} \
	-o $@ -c $< ${COV_CFLAGS}

${TEST_CERTIFICATE_SERVICE_OBJS}:${OBJ_TEST_CERTIFICATE_SERVICE_DIR}/%.o:${SRC_TEST_CERTIFICATE_SERVICE_DIR}/%.cpp
	${CPPC} ${CFLAGS} -I${BASE_INC} -I${BASE_OPEN_INC} -I${INC_OPEN_THRIFT_DIR} -I${INC_SERVICE_CENTER_DIR} -I${INC_LIBEVENT_DIR} -I${INC_CERTIFICATE_SERVICE_DIR} -I${GTESTLIB_DIR}/include -I${TEST_ALL_INCLUDE} -I${INC_SERVICE_CENTER_DIR} -I${TEST_INC_SERVICE_CENTER_DIR} -I${SRC_TEST_STUB_DIR} -I${INC_LIBEVENT_DIR} -I${INC_SECUREC_DIR} -I${INC_BOOST_DIR} -o $@ -c $< ${COV_CFLAGS}

${MESSAGE_SERVICE_OBJS}:${OBJ_MESSAGE_SERVICE_DIR}/%.o:${SRC_MESSAGE_SERVICE_DIR}/%.cpp
	${CPPC} ${CFLAGS} -I${BASE_INC} -I${BASE_OPEN_INC} -I${INC_MESSAGE_SERVICE_DIR} -I${INC_SERVICE_CENTER_DIR} -I${INC_OPEN_THRIFT_DIR} -I${INC_SECUREC_DIR} -I${INC_BOOST_DIR} -o $@ -c $< ${COV_CFLAGS}

${TEST_MESSAGE_SERVICE_OBJS}:${OBJ_TEST_MESSAGE_SERVICE_DIR}/%.o:${SRC_TEST_MESSAGE_SERVICE_DIR}/%.cpp
	${CPPC} ${CFLAGS} -I${BASE_INC} -I${BASE_OPEN_INC} -I${INC_MESSAGE_SERVICE_DIR} -I${INC_SERVICE_CENTER_DIR} -I${TEST_INC_SERVICE_CENTER_DIR} -I${GTESTLIB_DIR}/include -I${TEST_ALL_INCLUDE} -I${SRC_TEST_STUB_DIR} -I${INC_SECUREC_DIR} -o $@ -c $< ${COV_CFLAGS}

${MESSAGE_ARCHIVESTREAM_OBJS}:${OBJ_MESSAGE_ARCHIVESTREAM_DIR}/%.o:${SRC_ARCHIVESTREAM_SRC_DIR}/%.cpp
	${CPPC} ${CFLAGS} -I${BASE_INC} -I${BASE_OPEN_INC} -I${INC_SECUREC_DIR} -I${INC_OPEN_THRIFT_DIR} -I${INC_OPEN_TINYXML_DIR} -I${INC_BOOST_DIR}  -I${INC_SERVICE_CENTER_DIR} -I${INC_OPEN_JSON_DIR}  -I${INC_XBSA_CLIENT_DIR} \
	-I${BASE_INC} -I${BASE_INC}/apps/dws -I${BASE_INC}/xbsa -I${BASE_OPEN_INC} -I${INC_SECUREC_DIR}  -I${INC_OPEN_OPENSSL_DIR} -I${INC_OPEN_UUID_DIR} \
	-o $@ -c $< ${COV_CFLAGS}

${TEST_MESSAGE_ARCHIVESTREAM_OBJS}:${OBJ_TEST_MESSAGE_ARCHIVESTREAM_DIR}/%.o:${SRC_TEST_MESSAGE_ARCHIVESTREAM_DIR}/%.cpp
	${CPPC} ${CFLAGS} -I${BASE_INC} -I${BASE_OPEN_INC} -I${INC_OPEN_THRIFT_DIR} -I${INC_SECUREC_DIR} -I${INC_BOOST_DIR} -I${INC_SERVICE_CENTER_DIR} -I${TEST_INC_SERVICE_CENTER_DIR} -I${GTESTLIB_DIR}/include -I${TEST_ALL_INCLUDE} -I${SRC_TEST_STUB_DIR} \
	-o $@ -c $< ${COV_CFLAGS}

${JOB_SERVICE_OBJS}:${OBJ_JOB_SERVICE_DIR}/%.o:${SRC_JOB_SERVICE_DIR}/%.cpp
	${CPPC} ${CFLAGS} -I${BASE_INC} -I${BASE_OPEN_INC} -I${INC_OPEN_THRIFT_DIR} -I${INC_SECUREC_DIR} -I${INC_BOOST_DIR}  -I${INC_SERVICE_CENTER_DIR} \
	-o $@ -c $< ${COV_CFLAGS}

${TEST_JOB_SERVICE_OBJS}:${OBJ_TEST_JOB_SERVICE_DIR}/%.o:${SRC_TEST_JOB_SERVICE_DIR}/%.cpp
	${CPPC} ${CFLAGS} -I${BASE_INC} -I${BASE_OPEN_INC} -I${INC_OPEN_THRIFT_DIR} -I${INC_SECUREC_DIR} -I${INC_BOOST_DIR} -I${INC_SERVICE_CENTER_DIR} -I${TEST_INC_SERVICE_CENTER_DIR} -I${GTESTLIB_DIR}/include -I${TEST_ALL_INCLUDE} -I${SRC_TEST_STUB_DIR} \
	-o $@ -c $< ${COV_CFLAGS}

${TIMER_SERVICE_OBJS}:${OBJ_TIMER_SERVICE_DIR}/%.o:${SRC_TIMER_SERVICE_DIR}/%.cpp
	${CPPC} ${CFLAGS} -I${BASE_INC} -I${BASE_OPEN_INC} -I${INC_OPEN_THRIFT_DIR} -I${INC_SECUREC_DIR} -I${INC_BOOST_DIR}  -I${INC_SERVICE_CENTER_DIR} \
	-o $@ -c $< ${COV_CFLAGS}

${TEST_TIMER_SERVICE_OBJS}:${OBJ_TEST_TIMER_SERVICE_DIR}/%.o:${SRC_TEST_TIMER_SERVICE_DIR}/%.cpp
	${CPPC} ${CFLAGS} -I${BASE_INC} -I${BASE_OPEN_INC} -I${INC_OPEN_THRIFT_DIR} -I${INC_SECUREC_DIR} -I${INC_BOOST_DIR} -I${INC_SERVICE_CENTER_DIR} -I${TEST_INC_SERVICE_CENTER_DIR} -I${GTESTLIB_DIR}/include -I${TEST_ALL_INCLUDE} -I${SRC_TEST_STUB_DIR} \
	-o $@ -c $< ${COV_CFLAGS}
	
${SERVICES_DEVICE_OBJS}:${OBJ_SERVICES_DEVICE_DIR}/%.o:${SRC_SERVICES_DEVICE_DIR}/%.cpp
	${CPPC} ${CFLAGS} -I${BASE_INC} -I${BASE_OPEN_INC} -I${INC_BOOST_DIR} -I${INC_SECUREC_DIR} -I${INC_OPEN_TINYXML_DIR} -I${INC_OPEN_THRIFT_DIR} -o $@ -c $< ${COV_CFLAGS}
    
${TEST_SERVICES_DEVICE_OBJS}:${OBJ_TEST_SERVICES_DEVICE_DIR}/%.o:${SRC_TEST_SERVICES_DEVICE_DIR}/%.cpp
	${CPPC} ${CFLAGS} -I${BASE_INC} -I${BASE_OPEN_INC} -I${INC_OPEN_THRIFT_DIR} -I${TEST_ALL_INCLUDE} -I${GTESTLIB_DIR}/include -o $@ -c $< ${COV_CFLAGS}

${TEST_THRIFT_SERVER_OBJS}:${OBJ_TEST_THRIFT_SERVER_DIR}/%.o:${SRC_TEST_THRIFT_SERVER_DIR}/%.cpp
	${CPPC} ${CFLAGS} -I${BASE_INC} -I${BASE_OPEN_INC} -I${INC_BOOST_DIR} -I${SRC_TINYXML_DIR} -I${INC_SECUREC_DIR} \
	-I${INC_OPEN_THRIFT_DIR} -I${OPEN_OPENSSL_DIR} -o $@ -c $< ${COV_CFLAGS}

${THRIFT_SERVER}: ${TEST_THRIFT_SERVER_OBJS} ${SERVICE_FACTORY_OBJS} ${CURLCLIENT_OBJS} ${THRIFT_SERVICE_OBJS}
	${CPPC} ${OFLAGS} $^ -L${OPEN_OPENSSL_LIB_DIR} -L${OPEN_THRIFT_DIR} -L${OPEN_LIBEVENT_DIR} \
	-L${BIN_DIR} -L${OPEN_FCGI_LIB_DIR} -L${OPEN_SNMP_LIB_DIR} -L${BIN_DIR} -L${UUID} \
	-lcommon -lssl -lcrypto -lthriftz -lthriftnb -lthrift -levent ${DYFLAGS} -pthread -lpthread \
	-lrt -ldl -luuid -lsecurecom -lsnmp++ -lfcgi -lcurl -lcrypto -o ${THRIFT_SERVER}

${TEST_THRIFT_CLIENT_OBJS}:${OBJ_TEST_THRIFT_CLIENT_DIR}/%.o:${SRC_TEST_THRIFT_CLIENT_DIR}/%.cpp
	${CPPC} ${CFLAGS} -I${BASE_INC} -I${BASE_OPEN_INC} -I${INC_BOOST_DIR} -I${SRC_TINYXML_DIR} -I${INC_SECUREC_DIR} \
	-I${INC_OPEN_THRIFT_DIR} -I${OPEN_OPENSSL_DIR} -o $@ -c $< ${COV_CFLAGS}

${THRIFT_CLIENT}: ${TEST_THRIFT_CLIENT_OBJS} ${SERVICE_FACTORY_OBJS} ${CURLCLIENT_OBJS} ${THRIFT_SERVICE_OBJS}
	${CPPC} ${OFLAGS} $^ -L${OPEN_OPENSSL_LIB_DIR} -L${OPEN_THRIFT_DIR} -L${OPEN_LIBEVENT_DIR} \
	-L${BIN_DIR} -L${OPEN_FCGI_LIB_DIR} -L${OPEN_SNMP_LIB_DIR} -L${BIN_DIR} -L${UUID} \
	-lcommon -lssl -lcrypto -lthriftz -lthriftnb -lthrift -levent ${DYFLAGS} -pthread -lpthread \
	-lrt -ldl -luuid -lsecurecom -lsnmp++ -lfcgi -lcurl -lcrypto -o ${THRIFT_CLIENT}

$(filter-out ${OPEN_SRC_DIR}, ${OPEN_SRC_DIR})
	
clean:
	find ${OBJ_DIR} -name "*.o" | xargs -L 1  rm -rf
	rm -rf ${TARGET}