swagger: '2.0'
info:
  version: v1
  title: 告警管理接口
  contact: {}
  license: {}
host: localhost
basePath: /
tags:
  - name: alarm-and-event-internal-api
    description: Alarm Controller
  - name: snmp-internal-api
    description: Snmp Controller
paths:
  /v1/internal/alarms:
    get:
      tags:
        - alarm-and-event-internal-api
      summary: 批量查询告警
      operationId: getInternalAlarmListUsingGET
      produces:
        - '*/*'
      parameters:
        - name: alarmId
          in: query
          description: 告警ID
          required: false
          type: string
          x-example: '0x123456'
        - name: createTimeEnd
          in: query
          description: '创建时间（止）[取值范围]yyyy-MM-dd HH:mm:ss 或 1576058814000：时间戳'
          required: false
          type: string
          x-example: '2019-12-11 18:06:54 or 1576058814000'
        - name: createTimeStart
          in: query
          description: '创建时间（起）[取值范围]2019-12-11 18:06:54 或 1576058814000：时间戳'
          required: false
          type: string
          x-example: '2019-12-11 18:06:54 or 1576058814000'
        - name: language
          in: query
          description: '语言类型[取值范围]1：中文 2：英文'
          required: false
          type: string
          default: zh
          allowEmptyValue: false
        - name: pageNum
          in: query
          description: 分页起始页码
          required: false
          type: integer
          maximum: 60000.0
          exclusiveMaximum: false
          minimum: 1.0
          exclusiveMinimum: false
          format: int32
          x-example: 1
        - name: pageSize
          in: query
          description: 分页数量
          required: false
          type: integer
          maximum: 200.0
          exclusiveMaximum: false
          minimum: 5.0
          exclusiveMinimum: false
          format: int32
          x-example: 20
        - name: severities
          in: query
          description: >-
            告警等级[取值范围] 1:警告告警[WARNING] 3:重要告警[MAJOR] 4:致命告警[CRITICAL]
            (告警查询屏蔽INFO等级)
          required: false
          type: array
          items:
            type: integer
            format: int32
          collectionFormat: multi
          maximum: 4
          minimum: 1
        - name: sortColumn
          in: query
          description: 分页排序字段
          required: false
          type: string
          x-example: MODIFY_TIME
          enum:
            - SEVERITY
            - SOURCE_TYPE
            - ALARM_TYPE
            - ALARM_ID
            - MODIFY_TIME
            - CREATE_TIME
            - START_TIME
        - name: sortType
          in: query
          description: 分页排序顺/逆序
          required: false
          type: string
          enum:
            - ASC
            - DESC
        - name: sourceTypes
          in: query
          description: >-
            告警对象 [取值范围] User:用户 Alarm:告警 Cluster:集群 Repository:存储库
            License:license KMS:秘钥管理 Certificate:证书 Resource:资源 SLA:SLA
            ProtectedObject:受保护的对像 Protection:保护 Scheduler:调度器 LiveMount:及时挂载
            Restore:恢复 CopyCatalog:副本目录 BackUpCluster:数据保护引擎 System:系统
            Replication:复制 Localstorage:本地存储
          required: false
          type: array
          items:
            type: string
          collectionFormat: multi
          maximum: 50
          minimum: 1
      responses:
        '200':
          description: OK
          schema:
            $ref: '#/definitions/PageListResponse«AlarmVO»'
            originalRef: PageListResponse«AlarmVO»
        '401':
          description: Unauthorized
        '403':
          description: Forbidden
        '404':
          description: Not Found
      security:
        - Authorization:
            - global
      deprecated: false
    post:
      tags:
        - alarm-and-event-internal-api
      summary: 新增告警
      operationId: sendInternalAlarmUsingPOST
      consumes:
        - application/json
      produces:
        - '*/*'
      parameters:
        - in: body
          name: legoInternalAlarm
          description: legoInternalAlarm
          required: true
          schema:
            $ref: '#/definitions/LegoInternalAlarm'
            originalRef: LegoInternalAlarm
      responses:
        '200':
          description: OK
          schema:
            type: string
        '201':
          description: Created
        '401':
          description: Unauthorized
        '403':
          description: Forbidden
        '404':
          description: Not Found
      security:
        - Authorization:
            - global
      deprecated: false
  /v1/internal/alarms/action/clear:
    put:
      tags:
        - alarm-and-event-internal-api
      summary: 告警清除
      operationId: clearInternalAlarmUsingPUT
      consumes:
        - application/json
      produces:
        - '*/*'
      parameters:
        - in: body
          name: entityIds
          description: entityIds
          required: true
          schema:
            $ref: '#/definitions/EntityID'
            originalRef: EntityID
      responses:
        '200':
          description: OK
          schema:
            $ref: '#/definitions/BatchOperationResult'
            originalRef: BatchOperationResult
        '201':
          description: Created
        '401':
          description: Unauthorized
        '403':
          description: Forbidden
        '404':
          description: Not Found
      security:
        - Authorization:
            - global
      deprecated: false
  /v1/internal/alarms/action/clear/entity:
    put:
      tags:
        - alarm-and-event-internal-api
      summary: 告警清除
      operationId: clearInternalAlarmByEntityUsingPUT
      consumes:
        - application/json
      produces:
        - '*/*'
      parameters:
        - in: body
          name: legoInternalAlarm
          description: legoInternalAlarm
          required: true
          schema:
            $ref: '#/definitions/LegoInternalAlarm'
            originalRef: LegoInternalAlarm
      responses:
        '200':
          description: OK
        '201':
          description: Created
        '401':
          description: Unauthorized
        '403':
          description: Forbidden
        '404':
          description: Not Found
      security:
        - Authorization:
            - global
      deprecated: false
  /v1/internal/alarms/log:
    put:
      tags:
        - alarm-and-event-internal-api
      summary: 新增操作日志
      operationId: generateSystemLogUsingPUT
      consumes:
        - application/json
      produces:
        - '*/*'
      parameters:
        - in: body
          name: event
          description: event
          required: true
          schema:
            $ref: '#/definitions/LegoInternalEvent'
            originalRef: LegoInternalEvent
      responses:
        '200':
          description: OK
        '201':
          description: Created
        '401':
          description: Unauthorized
        '403':
          description: Forbidden
        '404':
          description: Not Found
      security:
        - Authorization:
            - global
      deprecated: false
  /v1/internal/event:
    post:
      tags:
        - alarm-and-event-internal-api
      summary: 新增运行事件
      operationId: sendInternalEventUsingPOST
      consumes:
        - application/json
      produces:
        - '*/*'
      parameters:
        - in: body
          name: legoInternalEvent
          description: legoInternalEvent
          required: true
          schema:
            $ref: '#/definitions/LegoInternalEvent'
            originalRef: LegoInternalEvent
      responses:
        '200':
          description: OK
          schema:
            type: string
        '201':
          description: Created
        '401':
          description: Unauthorized
        '403':
          description: Forbidden
        '404':
          description: Not Found
      security:
        - Authorization:
            - global
      deprecated: false
  /v1/snmp/internal/config:
    get:
      tags:
        - snmp-internal-api
      summary: 查询SNMP配置
      operationId: getInternalTrapConfigUsingGET
      produces:
        - '*/*'
      responses:
        '200':
          description: OK
          schema:
            $ref: '#/definitions/SnmpTrapConfigQueryRes'
            originalRef: SnmpTrapConfigQueryRes
        '401':
          description: Unauthorized
        '403':
          description: Forbidden
        '404':
          description: Not Found
      security:
        - Authorization:
            - global
      deprecated: false
  /v1/snmp/internal/trap/addresses:
    get:
      tags:
        - snmp-internal-api
      summary: 批量查询SNMP Trap地址
      operationId: queryInternalTrapAddressListUsingGET
      produces:
        - '*/*'
      parameters:
        - name: orderBy
          in: query
          description: 排序字段名称
          required: false
          type: string
          enum:
            - IP
            - PORT
        - name: orderType
          in: query
          description: 排序的方式：asc：升序，desc：降序
          required: false
          type: string
          enum:
            - ASC
            - DESC
      responses:
        '200':
          description: OK
          schema:
            type: array
            items:
              $ref: '#/definitions/SnmpTrapAddress'
              originalRef: SnmpTrapAddress
        '401':
          description: Unauthorized
        '403':
          description: Forbidden
        '404':
          description: Not Found
      security:
        - Authorization:
            - global
      deprecated: false
securityDefinitions:
  Authorization:
    type: apiKey
    name: TOKEN
    in: header
definitions:
  AlarmClearParam:
    type: object
    properties:
      entityId:
        type: string
        description: 告警实体ID
    title: AlarmClearParam
    description: 告警清除请求体
  AlarmDumpTaskResponse:
    type: object
    properties:
      endTime:
        type: string
        description: '转储结束时间[取值范围]2020-06-29 20:22:04 UTC+08:00 : yyyy-MM-dd HH:mm:ss 时区时间'
      result:
        type: integer
        format: int32
        description: '转储结果 (1:成功，2:失败)'
      resultId:
        type: integer
        format: int64
        description: 转储结果id (映射转储下载中fileId)
      resultInfo:
        type: string
        description: 转储结果信息
      resultLink:
        type: string
        description: 转储结果link
      startTime:
        type: string
        description: '转储开始时间[取值范围]2020-06-29 20:22:04 UTC+08:00 : yyyy-MM-dd HH:mm:ss 时区时间'
    title: AlarmDumpTaskResponse
  AlarmSftpServerModifyRequest:
    type: object
    properties:
      ipAddress:
        type: string
        example: 8.40.56.20
        description: 告警转储SFTPip地址
      password:
        type: string
        example: Test@123456
        description: 告警转储SFTP密码
      port:
        type: integer
        format: int32
        example: 22
        description: 告警转储SFTP端口
        minimum: 1.0
        maximum: 65535.0
        exclusiveMinimum: false
        exclusiveMaximum: false
      uploadPath:
        type: string
        example: /usr/log
        description: 告警转储SFTP上传路径
      useEnable:
        type: boolean
        example: true
        description: 告警转储SFTP开关
      userName:
        type: string
        example: test
        description: 告警转储SFTP用户名
        pattern: '^[^'':\?\\"<>\|\*;`\$&\-\(\)#\!]+$'
    title: AlarmSftpServerModifyRequest
    description: 修改告警转储SFTP配置请求体
  AlarmSftpServerResponse:
    type: object
    properties:
      ipAddress:
        type: string
        description: 告警转储SFTPip地址
      port:
        type: integer
        format: int32
        description: 告警转储SFTP端口
      uploadPath:
        type: string
        description: 告警转储SFTP上传路径
      useEnable:
        type: boolean
        description: 告警转储SFTP开关
      userName:
        type: string
        description: 告警转储SFTP用户名
    title: AlarmSftpServerResponse
  AlarmSftpServerTestRequest:
    type: object
    properties:
      ipAddress:
        type: string
        example: 8.40.56.20
        description: 告警转储SFTPip地址
      password:
        type: string
        example: Test@123456
        description: 告警转储SFTP密码
      port:
        type: integer
        format: int32
        example: 22
        description: 告警转储SFTP端口
        minimum: 1.0
        maximum: 65535.0
        exclusiveMinimum: false
        exclusiveMaximum: false
      uploadPath:
        type: string
        example: /usr/log
        description: 告警转储SFTP上传路径
      userName:
        type: string
        example: test
        description: 告警转储SFTP用户名
        pattern: '^[^'':\?\\"<>\|\*;`\$&\-\(\)#\!]+$'
    title: AlarmSftpServerTestRequest
    description: 修改告警转储SFTP配置请求体
  AlarmStatisticResponse:
    type: object
    properties:
      critical:
        type: integer
        format: int32
        description: 危急告警数量
      major:
        type: integer
        format: int32
        description: 主要告警数量
      minor:
        type: integer
        format: int32
        description: 次要告警数量
      warning:
        type: integer
        format: int32
        description: 警告告警数量
    title: AlarmStatisticResponse
  AlarmVO:
    type: object
    properties:
      advice:
        type: string
        description: 告警建议
      alarmId:
        type: string
        example: '0x0013221'
        description: 告警ID
      alarmName:
        type: string
        example: Backup failed alarm
        description: 告警名
      alarmSource:
        type: string
        example: Oracle/Ebackup/AnyBackup/Fusionstorage
        description: 告警来源
      alarmTimeStr:
        type: string
        example: 'yyyy-MM-dd HH:mm:ss'
        description: '告警时间 [取值范围]2020-06-29 20:22:04 UTC+08:00 : yyyy-MM-dd HH:mm:ss 时区时间'
      alarmType:
        type: string
        description: >-
          告警类型[取值范围]invalid(0):无效告警 communication(1):通信告警
          environment(2):环境告警device(3):设备告警 business(4):业务告警 operation(5):操作告警
          security(6):安全告警
        enum:
          - INVALID
          - COMMUNICATION
          - ENVIRONMENT
          - DEVICE
          - BUSINESS
          - OPERATION
          - SECURITY
      clearStatus:
        type: string
        example: invalid
        description: '告警是否恢复[取值范围]invalid:无效 uncleared:未清除 cleared:清除'
        enum:
          - '-1'
          - '0'
          - '1'
      clearTimeStr:
        type: string
        description: '告警恢复时间[取值范围]2020-06-29 20:22:04 UTC+08:00 : yyyy-MM-dd HH:mm:ss 时区时间'
      confirmStatus:
        type: integer
        format: int32
        description: >-
          告警确认状态[取值范围]-1:ILLEGAL(无效) 0:UNCONFIRMED(失败) 1:CONFIRMED(成功)
          2:UNRECOVERY(未恢复) 3:RECOVERY(已恢复) 4:CLEAR(已清除)
      desc:
        type: string
        description: 告警描述
      effect:
        type: string
        description: 告警影响
      entityId:
        type: string
        example: 0xf1223333dExnsd
        description: 告警实体ID
      firstTimeStr:
        type: string
        example: 'yyyy-MM-dd HH:mm:ss'
        description: >-
          告警第一次产生时间[取值范围]2020-06-29 20:22:04 UTC+08:00 : yyyy-MM-dd HH:mm:ss
          时区时间
      location:
        type: string
        description: '告警产生根本[举例]eb.err.1073948959  lego.err.1033'
      params:
        type: array
        description: 告警参数
        items:
          type: string
      sequence:
        type: integer
        format: int64
        example: 123456789
        description: 告警流水号
      severity:
        type: string
        description: >-
          告警等级[取值范围] 1:警告告警[WARNING] 3:重要告警[MAJOR] 4:致命告警[CRITICAL]
          (告警查询屏蔽INFO等级)
        enum:
          - '-1'
          - '0'
          - '1'
          - '2'
          - '3'
          - '4'
      sourceType:
        type: string
        description: >-
          告警来源类型[取值范围]user:用户 alarm:三方告警 event:事件 notify:提醒
          resource:资源proctection:保护 recovery:恢复 backup_cluster:备份集群
          network_entity:网元实体
      type:
        type: integer
        format: int32
        description: >-
          告警类型[取值范围]-1:INVALID(无效) 0:ALARM(告警) 1:RESTORE_ALARM(恢复告警)
          2:MANUCLEAR_ALARM(手动恢复告警) 3:CONFIRM_ALARM(确认告警)
          4:UNCONFIRM_ALARM(未确认告警) 5:EVENT(运行事件) 6:OPLOG(操作日志)
    title: AlarmVO
  BatchOperation:
    type: object
    properties:
      detailParam:
        type: array
        description: 详细参数
        items:
          type: string
      errorCode:
        type: integer
        format: int64
        description: 错误码
      id:
        type: object
        description: 操作id
      optDetail:
        type: string
        description: 操作选项
      targetName:
        type: string
        description: 目标名称
      targetNameParam:
        type: array
        description: 目标参数
        items:
          type: string
      taskName:
        type: string
        description: 任务名
    title: BatchOperation
  BatchOperationResult:
    type: object
    properties:
      failCount:
        type: integer
        format: int32
        description: 失败总数
      results:
        type: array
        description: 操作结果
        items:
          $ref: '#/definitions/BatchOperation'
          originalRef: BatchOperation
      succeedCount:
        type: integer
        format: int32
        description: 成功总数
      total:
        type: integer
        format: int32
        description: 操作总数
    title: BatchOperationResult
    description: 操作结果
  CheckSnmpConfigRequest:
    type: object
    required:
      - version
    properties:
      authProtocol:
        type: integer
        format: int32
        description: 认证协议(v3 协议必填，v2c协议不填写)
      authPwd:
        type: string
        description: '认证密码(v3 协议必填，v2c协议不填写)[取值范围]密码长度：8--64位'
      contextEngineId:
        type: string
        description: '引擎ID(v3 协议选填，v2c协议不填写)[取值范围]长度：32位以下'
        pattern: '^$|^[0-9A-F]+$'
      contextName:
        type: string
        description: '环境名(v3)[取值范围]长度：32位以下'
        minLength: 0
        maxLength: 64
      encryptProtocol:
        type: integer
        format: int32
        description: 加密协议(v3 协议必填，v2c协议不填写)
      encryptPwd:
        type: string
        description: '加密密码(v3 协议必填，v2c协议不填写)[取值范围]密码长度：8--64位'
      securityName:
        type: string
        description: 安全名(v3)
        minLength: 0
        maxLength: 64
      securityNameV2C:
        type: string
        description: 安全名(V2C)
        minLength: 0
        maxLength: 64
      version:
        type: string
        description: '版本[取值范围]V2C | V3'
        pattern: V2C|V3
    title: CheckSnmpConfigRequest
    description: 检查SNMP参数配置是否正确请求体
  DumpRequest:
    type: object
    required:
      - dataSavedTime
      - fileType
      - languageType
      - period
      - transferStartTime
    properties:
      baseTimeStr:
        type: string
        description: 告警转储下一次开始时间
      dataSavedTime:
        type: integer
        format: int32
        description: 保存时间（当前时间多少天以前）
        minimum: 7.0
        maximum: 120.0
        exclusiveMinimum: false
        exclusiveMaximum: false
      fileType:
        type: integer
        format: int32
        description: '文件类型[取值范围]1：csv 2：excel'
      languageType:
        type: integer
        format: int32
        description: '语言类型[取值范围]1：中文 2：英文'
      period:
        type: integer
        format: int32
        description: 周期数
        minimum: 7.0
        maximum: 120.0
        exclusiveMinimum: false
        exclusiveMaximum: false
      transferStartTime:
        type: string
        description: '转储时间点[取值范围]20:22:04 : HH:mm:ss'
    title: DumpRequest
    description: 告警转储配置请求体
  DumpRequestBase:
    type: object
    required:
      - dataSavedTime
      - fileType
      - languageType
      - period
      - transferStartTime
    properties:
      dataSavedTime:
        type: integer
        format: int32
        description: 保存时间（当前时间多少天以前）
        minimum: 7.0
        maximum: 120.0
        exclusiveMinimum: false
        exclusiveMaximum: false
      fileType:
        type: integer
        format: int32
        description: '文件类型[取值范围]1：csv 2：excel'
      languageType:
        type: integer
        format: int32
        description: '语言类型[取值范围]1：中文 2：英文'
      period:
        type: integer
        format: int32
        description: 周期数
        minimum: 7.0
        maximum: 120.0
        exclusiveMinimum: false
        exclusiveMaximum: false
      transferStartTime:
        type: string
        description: '转储时间点[取值范围]20:22:04 : HH:mm:ss'
    title: DumpRequestBase
    description: 告警转储配置请求体
  EmailRequest:
    type: object
    required:
      - emailAddress
    properties:
      desc:
        type: string
        example: Test description.
        description: 邮件通知描述
      emailAddress:
        type: string
        example: test@dpa.com
        description: 邮件通知地址
        pattern: >-
          ^[a-zA-Z0-9\.\-_\!\#\$\%\&\'\*\+\/\=\?\^\`\{\|\}\~]+@[a-zA-Z0-9\-_]+(\.[a-zA-Z0-9\-_]+)+$
    title: EmailRequest
    description: 新增通知邮箱地址请求体
  EntityID:
    type: object
    properties:
      entityIdSet:
        type: array
        description: 告警实体ID列表
        items:
          type: string
    title: EntityID
    description: 导出告警请求体
  LegoInternalAlarm:
    type: object
    required:
      - alarmId
      - alarmSource
      - createTime
      - sequence
    properties:
      advice:
        type: string
        description: 告警建议
      alarmId:
        type: string
        description: 告警ID
      alarmSource:
        type: string
        description: 告警来源描述
      alarmType:
        type: integer
        format: int32
        description: >-
          告警类型 [取值范围]invalid(0):无效告警 communication(1):通信告警
          environment(2):环境告警device(3):设备告警 business(4):业务告警 operation(5):操作告警
          security(6):安全告警
        minimum: 0.0
        maximum: 9.223372036854776e18
        exclusiveMinimum: false
        exclusiveMaximum: false
      createTime:
        type: integer
        format: int64
        description: '告警创建时间[取值范围]2020-06-29 20:22:04 : yyyy-MM-dd HH:mm:ss'
      desc:
        type: string
        description: 告警描述
      effect:
        type: string
        description: 告警影响
      location:
        type: string
        description: 告警产生根本
      name:
        type: string
        description: 告警名
      params:
        type: string
        description: 告警参数
      resourceId:
        type: string
        description: 告警归属资源ID
      sequence:
        type: integer
        format: int64
        description: 告警流水号
      severity:
        type: integer
        format: int32
        description: '告警类型[取值范围]0:事件、日志 1:警告 2:次要 3:重要 4:紧急'
        minimum: 0.0
        maximum: 9.223372036854776e18
        exclusiveMinimum: false
        exclusiveMaximum: false
      sourceType:
        type: string
        description: >-
          告警来源类型[取值范围]user:用户 alarm:三方告警 event:事件 notify:提醒
          resource:资源proctection:保护 recovery:恢复 backup_cluster:备份集群
          network_entity:网元实体
      type:
        type: integer
        format: int32
        description: '告警类型[取值范围]1：生成告警 2：恢复告警 3：生成事件'
        minimum: 0.0
        maximum: 9.223372036854776e18
        exclusiveMinimum: false
        exclusiveMaximum: false
      userId:
        type: string
        description: 告警归属用户ID
    title: LegoInternalAlarm
    description: 请求体
  LegoInternalEvent:
    type: object
    required:
      - eventId
      - eventLevel
      - eventSequence
      - eventTime
      - isSuccess
      - sourceType
    properties:
      eventId:
        type: string
        description: 告警ID
      eventLevel:
        type: string
        description: 告警等级
        enum:
          - '-1'
          - '0'
          - '1'
          - '2'
          - '3'
          - '4'
      eventParam:
        type: array
        description: 告警参数
        items:
          type: string
      eventSequence:
        type: integer
        format: int64
        description: 告警流水号
      eventTime:
        type: integer
        format: int64
        description: 告警时间
      isSuccess:
        type: boolean
        description: 是否执行成功
      moIP:
        type: string
        description: 告警moIp
      moId:
        type: string
        description: 告警moId
      moName:
        type: string
        description: 告警moName
      resourceId:
        type: string
        description: 告警归属资源ID
      sourceId:
        type: string
        description: 告警对象ID
      sourceType:
        type: string
        description: 告警对象
      userId:
        type: string
        description: 告警归属用户ID
    title: LegoInternalEvent
  NotifyEmailServerRequest:
    type: object
    required:
      - emailFrom
      - port
      - protocol
      - server
    properties:
      emailFrom:
        type: string
        example: test@dpa.com
        description: 发件箱
        pattern: >-
          ^[a-zA-Z0-9\.\-_\!\#\$\%\&\'\*\+\/\=\?\^\`\{\|\}\~]+@[a-zA-Z0-9\-_]+(\.[a-zA-Z0-9\-_]+)+$
      isSslEnable:
        type: boolean
        example: true
        description: 当前邮件传输是否使用SSL加密
      isTlsEnable:
        type: boolean
        example: true
        description: 当前邮件传输是否使用Tls加密
      password:
        type: string
        example: Test@123456
        description: 密码
      port:
        type: string
        example: 25
        description: 邮件服务器端口
      protocol:
        type: integer
        format: int32
        example: 1
        description: '通讯协议(0:不启用，1:启用SSL，2:启用TSL)'
        minimum: 0.0
        maximum: 9.223372036854776e18
        exclusiveMinimum: false
        exclusiveMaximum: false
      proxyEnable:
        type: boolean
        example: true
        description: 是否启用代理
      proxyPort:
        type: string
        example: 1080
        description: 代理端口
      proxyServer:
        type: string
        example: 8.40.25.33
        description: 代理服务器地址
      server:
        type: string
        example: 8.40.25.22
        description: 邮件发送服务器地址
      sslSmtpPort:
        type: string
        example: 465
        description: 启用SSL SMTP服务器的端口号，默认端口（465）
      testEmail:
        type: string
        description: 邮件测试收件箱
        pattern: >-
          ^[a-zA-Z0-9\.\-_\!\#\$\%\&\'\*\+\/\=\?\^\`\{\|\}\~]+@[a-zA-Z0-9\-_]+(\.[a-zA-Z0-9\-_]+)+$
      userName:
        type: string
        example: test
        description: 用户名
      validateEnable:
        type: boolean
        example: true
        description: 校验是否启用
    title: NotifyEmailServerRequest
    description: 邮件通知配置请求体
  NotifyRuleRequest:
    type: object
    required:
      - alarmSeveritySet
      - language
      - useEnable
    properties:
      alarmSeveritySet:
        type: array
        description: '邮件通知告警等级[取值范围]warning:警告告警 major:主要告警 critical:危急告警'
        items:
          type: string
      language:
        type: integer
        format: int32
        description: '邮件通知语言[取值范围]1:中文2:英文'
        minimum: 0.0
        maximum: 9.223372036854776e18
        exclusiveMinimum: false
        exclusiveMaximum: false
      useEnable:
        type: boolean
        description: 邮件通知是否启用
    title: NotifyRuleRequest
    description: 更改邮件通知规则请求体
  PageListResponse«AlarmDumpTaskResponse»:
    type: object
    properties:
      records:
        type: array
        description: 分页查询结果列表
        items:
          $ref: '#/definitions/AlarmDumpTaskResponse'
          originalRef: AlarmDumpTaskResponse
      total:
        type: integer
        format: int32
        description: 总数
    title: PageListResponse«AlarmDumpTaskResponse»
  PageListResponse«AlarmVO»:
    type: object
    properties:
      records:
        type: array
        description: 分页查询结果列表
        items:
          $ref: '#/definitions/AlarmVO'
          originalRef: AlarmVO
      total:
        type: integer
        format: int32
        description: 总数
    title: PageListResponse«AlarmVO»
  PerAlarmQueryParam:
    type: object
    required:
      - entityId
    properties:
      entityId:
        type: string
        description: 告警实体ID
      language:
        type: string
        example: zh-cn
        description: '语言类型[取值范围]1：中文 2：英文'
    title: PerAlarmQueryParam
    description: 查询指定事件请求体
  SnmpRequest:
    type: object
    required:
      - version
    properties:
      authProtocol:
        type: string
        description: 认证协议(v3 协议必填，v2c协议不填写)
      authPwd:
        type: string
        description: '认证密码(v3 协议必填，v2c协议不填写)[取值范围]密码长度：8--64位'
      contextEngineId:
        type: string
        description: '引擎ID(v3 协议选填，v2c协议不填写)[取值范围]长度：32位以下'
        pattern: '^$|^[0-9A-F]+$'
      contextName:
        type: string
        description: '环境名(v3)[取值范围]长度：32位以下'
        minLength: 0
        maxLength: 64
      encryptProtocol:
        type: string
        description: 加密协议(v3 协议必填，v2c协议不填写)
      encryptPwd:
        type: string
        description: '加密密码(v3 协议必填，v2c协议不填写)[取值范围]密码长度：8--64位'
      id:
        type: integer
        format: int64
        description: snmp存储id(前端不展示)
        minimum: 0.0
        maximum: 2147483647
        exclusiveMinimum: false
        exclusiveMaximum: false
      securityName:
        type: string
        description: 安全名(v3)
        minLength: 0
        maxLength: 64
      securityNameV2C:
        type: string
        description: 安全名(V2C)
        minLength: 0
        maxLength: 64
      version:
        type: string
        description: '版本[取值范围]V2C | V3'
        pattern: V2C|V3
    title: SnmpRequest
    description: SNMP配置请求体
  SnmpSecurityAgentResponse:
    type: object
    properties:
      engineId:
        type: string
        example: 2102353GTD10L90000070A
        description: 控制器snmp代理engine ID
      ipv4:
        type: string
        example: 8.40.99.124
        description: 控制器IPv4地址
      ipv6:
        type: string
        example: '2016:8:40:96:c11::115'
        description: 控制器IPv6地址
    title: SnmpSecurityAgentResponse
    description: 查询各控制器安全代理信息响应
  SnmpTrapAddress:
    type: object
    required:
      - port
      - trapIp
    properties:
      description:
        type: string
        description: ip描述、备注
      id:
        type: integer
        format: int64
        description: 上报ip地址ID
        minimum: 0.0
        maximum: 9.223372036854776e18
        exclusiveMinimum: false
        exclusiveMaximum: false
      port:
        type: integer
        format: int32
        description: '上报端口[取值范围]0--65535'
        minimum: 1.0
        maximum: 65535.0
        exclusiveMinimum: false
        exclusiveMaximum: false
      trapIp:
        type: string
        description: '上报ip地址[取值范围]IP地址校验规则'
    title: SnmpTrapAddress
    description: 修改SNMP Trap地址请求体
  SnmpTrapAddressBase:
    type: object
    required:
      - port
      - trapIp
    properties:
      description:
        type: string
        description: ip描述、备注
      port:
        type: integer
        format: int32
        description: '上报端口[取值范围]0--65535'
        minimum: 1.0
        maximum: 65535.0
        exclusiveMinimum: false
        exclusiveMaximum: false
      trapIp:
        type: string
        description: '上报ip地址[取值范围]IP地址校验规则'
    title: SnmpTrapAddressBase
    description: 新增SNMP Trap地址请求体
  SnmpTrapConfigQueryRes:
    type: object
    required:
      - version
    properties:
      authProtocol:
        type: string
        description: 认证协议(v3 协议必填，v2c协议不填写)
      authPwd:
        type: string
        description: '认证密码(v3 协议必填，v2c协议不填写)[取值范围]密码长度：8--64位'
      contextEngineId:
        type: string
        description: '引擎ID(v3 协议选填，v2c协议不填写)[取值范围]长度：32位以下'
      contextName:
        type: string
        description: '环境名(v3)[取值范围]长度：32位以下'
      encryptProtocol:
        type: string
        description: 加密协议(v3 协议必填，v2c协议不填写)
      encryptPwd:
        type: string
        description: '加密密码(v3 协议必填，v2c协议不填写)[取值范围]密码长度：8--64位'
      id:
        type: integer
        format: int64
        description: snmp存储id(前端不展示)
      securityName:
        type: string
        description: 安全名(v3)
      securityNameV2C:
        type: string
        description: 安全名(V2C)
      version:
        type: string
        description: '版本[取值范围]V2C | V3'
    title: SnmpTrapConfigQueryRes
