swagger: '2.0'
info:
  title: Qos管理接口
  version: v1
tags:
  - name: Qos
paths:
  /v1/internal/qos:
    get:
      x-dr-role: 'N'
      x-product: OceanProtect X
      x-dm-role: 'N'
      x-impact-subsystem: 不影响
      x-access-port: 30081
      x-auth-required: 'N'
      x-rd-admin-role: 'N'
      x-auditor-role: 'N'
      x-dp-admin-role: 'N'
      x-public-api: 'N'
      x-sysadmin-role: 'N'
      produces:
        - application/json
      parameters:
        - description: 分页页面编码
          in: query
          minimum: 0
          name: page_no
          required: true
          type: integer
        - description: 分页数据条数
          in: query
          maximum: 200
          minimum: 0
          name: page_size
          required: true
          type: integer
        - collectionFormat: multi
          description: 排序字段：
          in: query
          items:
            type: string
          name: orders
          required: false
          type: array
        - description: 条件参数：
          in: query
          name: conditions
          required: false
          type: string
      responses:
        '200':
          description: Successful Response
          schema:
            $ref: '#/definitions/BasePage_QosRes_'
        '422':
          description: Validation Error
          schema:
            $ref: '#/definitions/HTTPValidationError'
      tags:
        - Qos
      operationId: query_resources_v1_internal_qos_get
      summary: 分页查询Qos策略列表
  /v1/internal/qos/action/revoke/{user_id}:
    put:
      x-dr-role: 'N'
      x-product: OceanProtect X
      x-dm-role: 'N'
      x-impact-subsystem: 不影响
      x-access-port: 30092
      x-auth-required: 'N'
      x-rd-admin-role: 'N'
      x-auditor-role: 'N'
      x-dp-admin-role: 'N'
      x-public-api: 'N'
      x-sysadmin-role: 'N'
      produces:
        - application/json
      parameters:
        - description: 用户ID
          in: path
          name: user_id
          required: true
          type: string
      responses:
        '200':
          description: Successful Response
        '422':
          description: Validation Error
          schema:
            $ref: '#/definitions/HTTPValidationError'
      tags:
        - Qos
      operationId: revoke_qos_user_id_v1_internal_qos_action_revoke__user_id__put
      summary: Revoke Qos User Id
  /v1/internal/qos/action/verify:
    get:
      x-dr-role: 'N'
      x-product: OceanProtect X
      x-dm-role: 'N'
      x-impact-subsystem: 不影响
      x-access-port: 30092
      x-auth-required: 'N'
      x-rd-admin-role: 'N'
      x-auditor-role: 'N'
      x-dp-admin-role: 'N'
      x-public-api: 'N'
      x-sysadmin-role: 'N'
      produces:
        - application/json
      parameters:
        - description: 用户ID
          in: query
          name: user_id
          required: true
          type: string
        - collectionFormat: multi
          description: Qos id列表
          in: query
          items:
            type: string
          name: qos_uuid_list
          required: true
          type: array
      responses:
        '200':
          description: Successful Response
        '422':
          description: Validation Error
          schema:
            $ref: '#/definitions/HTTPValidationError'
      tags:
        - Qos
      operationId: internal_verify_qos_ownership_v1_internal_qos_action_verify_get
      summary: Internal Verify Qos Ownership
  /v1/internal/qos/{qos_id}:
    get:
      x-dr-role: 'N'
      x-product: OceanProtect X
      x-dm-role: 'N'
      x-impact-subsystem: 不影响
      x-access-port: 30092
      x-auth-required: 'N'
      x-rd-admin-role: 'N'
      x-auditor-role: 'N'
      x-dp-admin-role: 'N'
      x-public-api: 'N'
      x-sysadmin-role: 'N'
      produces:
        - application/json
      parameters:
        - description: Qos的id
          in: path
          name: qos_id
          required: true
          type: string
      responses:
        '200':
          description: qos详细信息
          schema:
            $ref: '#/definitions/QosRes'
        '422':
          description: Validation Error
          schema:
            $ref: '#/definitions/HTTPValidationError'
      tags:
        - Qos
      operationId: internal_get_qos_v1_internal_qos__qos_id__get
      summary: Get Qos
definitions:
  BasePage_QosRes_:
    properties:
      items:
        description: 数据列表
        items:
          $ref: '#/definitions/QosRes'
        title: Items
        type: array
      page_no:
        description: 页面编号
        title: Page No
        type: integer
      page_size:
        description: 每页数据量
        title: Page Size
        type: integer
      pages:
        description: 总页数
        title: Pages
        type: integer
      total:
        description: 总的数据条数
        title: Total
        type: integer
    required:
      - total
      - pages
      - page_size
      - page_no
      - items
    title: BasePage[QosRes]
    type: object
  HTTPValidationError:
    properties:
      detail:
        items:
          $ref: '#/definitions/ValidationError'
        title: Detail
        type: array
    title: HTTPValidationError
    type: object
  QosReq:
    properties:
      description:
        description: 描述
        maxLength: 255
        title: Description
        type: string
      name:
        description: qos 名称
        maxLength: 64
        minLength: 1
        pattern: ^[a-zA-Z_\u4e00-\u9fa5]{1}[\u4e00-\u9fa5\w-]*$
        title: Name
        type: string
      speed_limit:
        description: 限制速率,单位M
        maximum: 1024
        minimum: 1
        title: Speed Limit
        type: integer
    required:
      - name
      - speed_limit
      - description
    title: QosReq
    type: object
  QosRes:
    properties:
      description:
        description: 描述
        title: Description
        type: string
      name:
        description: qos 名称
        title: Name
        type: string
      speed_limit:
        description: 限制速率,单位M
        title: Speed Limit
        type: integer
      uuid:
        description: id
        title: Uuid
        type: string
    required:
      - uuid
      - name
      - speed_limit
      - description
    title: QosRes
    type: object
  ValidationError:
    properties:
      loc:
        items:
          type: string
        title: Location
        type: array
      msg:
        title: Message
        type: string
      type:
        title: Error Type
        type: string
    required:
      - loc
      - msg
      - type
    title: ValidationError
    type: object
x-components: {}
