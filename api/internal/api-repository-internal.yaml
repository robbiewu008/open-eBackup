swagger: '2.0'
info:
  version: v1
  title: 存储管理接口
  contact: {}
  license: {}
host: localhost
basePath: /
tags:
  - name: local-storage-internal-api
    description: local-storage-api
  - name: product-storages-internal-api
    description: product-storages-api
  - name: storages-internal-api
    description: storages-api
  - name: storages-filesystem-internal-api
    description: 文件系统内部接口API
paths:
  /v1/internal/product-storages:
    post:
      x-dr-role: 'N'
      x-dm-role: 'N'
      x-impact-subsystem: 不影响
      x-access-port: 25081
      x-auth-required: 'N'
      x-rd-admin-role: 'N'
      x-auditor-role: 'N'
      x-dp-admin-role: 'N'
      x-public-api: 'N'
      x-sysadmin-role: 'N'
      x-product: OceanProtect X8000,OceanProtect X6000,OceanProtect X3000
      tags:
        - product-storages-internal-api
      summary: 根据设备wwns查询资源信息
      operationId: getDoradoResourceInfoUsingPOST
      consumes:
        - application/json
      produces:
        - '*/*'
      parameters:
        - in: body
          name: wwn
          description: wwn
          required: true
          schema:
            type: array
            items:
              type: string
      responses:
        '200':
          description: OK
          schema:
            type: array
            items:
              $ref: '#/definitions/ProductStorageInfoRes'
              originalRef: ProductStorageInfoRes
        '201':
          description: Created
        '401':
          description: Unauthorized
        '403':
          description: Forbidden
        '404':
          description: Not Found
      security:
        - Authorization:
            - global
      deprecated: false
  /v1/internal/product-storages/action/verify:
    get:
      x-dr-role: 'N'
      x-dm-role: 'N'
      x-impact-subsystem: 不影响
      x-access-port: 25081
      x-auth-required: 'N'
      x-rd-admin-role: 'N'
      x-auditor-role: 'N'
      x-dp-admin-role: 'N'
      x-public-api: 'N'
      x-sysadmin-role: 'N'
      x-product: OceanProtect X8000,OceanProtect X6000,OceanProtect X3000
      tags:
        - product-storages-internal-api
      summary: 权限校验
      operationId: verifyStorageOwnershipUsingGET
      produces:
        - '*/*'
      parameters:
        - name: idList
          in: query
          description: idList
          required: true
          type: array
          items:
            type: string
          collectionFormat: multi
        - name: userId
          in: query
          description: userId
          required: true
          type: string
      responses:
        '200':
          description: OK
        '401':
          description: Unauthorized
        '403':
          description: Forbidden
        '404':
          description: Not Found
      security:
        - Authorization:
            - global
      deprecated: false
  /v1/internal/local-storage/ethernet-ports/action/check:
    get:
      x-dr-role: 'N'
      x-dm-role: 'N'
      x-impact-subsystem: 不影响
      x-access-port: 30081
      x-auth-required: 'N'
      x-rd-admin-role: 'N'
      x-auditor-role: 'N'
      x-dp-admin-role: 'N'
      x-public-api: 'N'
      x-sysadmin-role: 'N'
      x-product: OceanProtect X8000,OceanProtect X6000,OceanProtect X3000
      tags:
        - local-storage-internal-api
      summary: ${api.storages.clearAlarm}
      description: 校验端口状态
      operationId: checkPortAvailableUsingGET
      produces:
        - '*/*'
      parameters:
        - name: hostName
          in: query
          description: hostName
          required: true
          type: string
        - name: type
          in: query
          description: type
          required: true
          type: string
          enum:
            - MANAGEMENT_PORT
      responses:
        '200':
          description: OK
        '401':
          description: Unauthorized
        '403':
          description: Forbidden
        '404':
          description: Not Found
      security:
        - Authorization:
            - global
      deprecated: false
  /v1/internal/local-storage/info:
    get:
      x-dr-role: 'N'
      x-dm-role: 'N'
      x-impact-subsystem: 不影响
      x-access-port: 30081
      x-auth-required: 'N'
      x-rd-admin-role: 'N'
      x-auditor-role: 'N'
      x-dp-admin-role: 'N'
      x-public-api: 'N'
      x-sysadmin-role: 'N'
      x-product: OceanProtect X8000,OceanProtect X6000,OceanProtect X3000
      tags:
        - local-storage-internal-api
      summary: 获取本地存储基本信息内部接口
      description: 获取本地存储基本信息内部接口
      operationId: getInternalStorageInfoUsingGET
      produces:
        - '*/*'
      responses:
        '200':
          description: OK
          schema:
            $ref: '#/definitions/LocalStorageInfoRes'
            originalRef: LocalStorageInfoRes
        '401':
          description: Unauthorized
        '403':
          description: Forbidden
        '404':
          description: Not Found
      security:
        - Authorization:
            - global
      deprecated: false
  /v1/local-storage/internal/storage/alarm/action/clear/{sequence}:
    delete:
      x-dr-role: 'N'
      x-dm-role: 'N'
      x-impact-subsystem: 不影响
      x-access-port: 25081
      x-auth-required: 'N'
      x-rd-admin-role: 'N'
      x-auditor-role: 'N'
      x-dp-admin-role: 'N'
      x-public-api: 'N'
      x-sysadmin-role: 'N'
      x-product: OceanProtect X8000,OceanProtect X6000,OceanProtect X3000
      tags:
        - local-storage-internal-api
      summary: ${api.storages.clearAlarm}
      operationId: clearLocalStorageAlarmRecoveryUsingDELETE
      produces:
        - '*/*'
      parameters:
        - name: sequence
          in: path
          description: sequence
          required: true
          type: integer
          format: int64
      responses:
        '200':
          description: OK
        '204':
          description: No Content
        '401':
          description: Unauthorized
        '403':
          description: Forbidden
      security:
        - Authorization:
            - global
      deprecated: false
  /v1/local-storage/internal/storage/alarm/{start}/{end}:
    get:
      x-dr-role: 'N'
      x-dm-role: 'N'
      x-impact-subsystem: 不影响
      x-access-port: 25081
      x-auth-required: 'N'
      x-rd-admin-role: 'N'
      x-auditor-role: 'N'
      x-dp-admin-role: 'N'
      x-public-api: 'N'
      x-sysadmin-role: 'N'
      x-product: OceanProtect X8000,OceanProtect X6000,OceanProtect X3000
      tags:
        - local-storage-internal-api
      summary: ${api.storages.getLocalStorageAlarm}
      operationId: getLocalStorageAlarmUsingGET
      produces:
        - '*/*'
      parameters:
        - name: end
          in: path
          description: end
          required: true
          type: integer
          format: int64
        - name: start
          in: path
          description: start
          required: true
          type: integer
          format: int64
      responses:
        '200':
          description: OK
          schema:
            type: array
            items:
              $ref: '#/definitions/DoradoInternalAlarm'
              originalRef: DoradoInternalAlarm
        '401':
          description: Unauthorized
        '403':
          description: Forbidden
        '404':
          description: Not Found
      security:
        - Authorization:
            - global
      deprecated: false
  /v1/local-storage/internal/storage/history/alarm/cleared/{start}/{end}:
    get:
      x-dr-role: 'N'
      x-dm-role: 'N'
      x-impact-subsystem: 不影响
      x-access-port: 25081
      x-auth-required: 'N'
      x-rd-admin-role: 'N'
      x-auditor-role: 'N'
      x-dp-admin-role: 'N'
      x-public-api: 'N'
      x-sysadmin-role: 'N'
      x-product: OceanProtect X8000,OceanProtect X6000,OceanProtect X3000
      tags:
        - local-storage-internal-api
      summary: ${api.storages.getLocalStorageEvent}
      operationId: getLocalStorageEventUsingGET
      produces:
        - '*/*'
      parameters:
        - name: end
          in: path
          description: end
          required: true
          type: integer
          format: int64
        - name: start
          in: path
          description: start
          required: true
          type: integer
          format: int64
      responses:
        '200':
          description: OK
          schema:
            type: array
            items:
              $ref: '#/definitions/DoradoInternalAlarm'
              originalRef: DoradoInternalAlarm
        '401':
          description: Unauthorized
        '403':
          description: Forbidden
        '404':
          description: Not Found
      security:
        - Authorization:
            - global
      deprecated: false
  /v1/local-storage/internal/storage/history/alarm/recovered/{start}/{end}:
    get:
      x-dr-role: 'N'
      x-dm-role: 'N'
      x-impact-subsystem: 不影响
      x-access-port: 25081
      x-auth-required: 'N'
      x-rd-admin-role: 'N'
      x-auditor-role: 'N'
      x-dp-admin-role: 'N'
      x-public-api: 'N'
      x-sysadmin-role: 'N'
      x-product: OceanProtect X8000,OceanProtect X6000,OceanProtect X3000
      tags:
        - local-storage-internal-api
      summary: ${api.storages.getLocalStorageEvent}
      operationId: getLocalStorageAlarmRecoveryUsingGET
      produces:
        - '*/*'
      parameters:
        - name: end
          in: path
          description: end
          required: true
          type: integer
          format: int64
        - name: start
          in: path
          description: start
          required: true
          type: integer
          format: int64
      responses:
        '200':
          description: OK
          schema:
            type: array
            items:
              $ref: '#/definitions/DoradoInternalAlarm'
              originalRef: DoradoInternalAlarm
        '401':
          description: Unauthorized
        '403':
          description: Forbidden
        '404':
          description: Not Found
      security:
        - Authorization:
            - global
      deprecated: false
  /v1/internal/storages/storage-info:
    get:
      x-dr-role: 'N'
      x-dm-role: 'N'
      x-impact-subsystem: 不影响
      x-access-port: 30081
      x-auth-required: 'N'
      x-rd-admin-role: 'N'
      x-auditor-role: 'N'
      x-dp-admin-role: 'N'
      x-public-api: 'N'
      x-sysadmin-role: 'N'
      x-product: OceanProtect X8000,OceanProtect X6000,OceanProtect X3000
      tags:
        - storages-internal-api
      summary: 查询存储信息
      description: 查询存储信息
      operationId: storageInfoUsingGET
      produces:
        - '*/*'
      responses:
        '200':
          description: OK
          schema:
            type: array
            items:
              $ref: '#/definitions/StorageInfo'
              originalRef: StorageInfo
        '401':
          description: Unauthorized
        '403':
          description: Forbidden
        '404':
          description: Not Found
      security:
        - Authorization:
            - global
      deprecated: false
  /v1/internal/storages/{storageId}:
    get:
      x-dr-role: 'N'
      x-dm-role: 'N'
      x-impact-subsystem: 不影响
      x-access-port: 30081
      x-auth-required: 'N'
      x-rd-admin-role: 'N'
      x-auditor-role: 'N'
      x-dp-admin-role: 'N'
      x-public-api: 'N'
      x-sysadmin-role: 'N'
      x-product: OceanProtect X8000,OceanProtect X6000,OceanProtect X3000
      tags:
        - storages-internal-api
      summary: queryFullStorageById
      description: 查询存储全部信息
      operationId: queryFullStorageByIdUsingGET
      produces:
        - '*/*'
      parameters:
        - name: storageId
          in: path
          description: storageId
          required: true
          type: string
          maxLength: 256
          minLength: 1
      responses:
        '200':
          description: OK
          schema:
            $ref: '#/definitions/FullStorageInfo'
            originalRef: FullStorageInfo
        '401':
          description: Unauthorized
        '403':
          description: Forbidden
        '404':
          description: Not Found
      security:
        - Authorization:
            - global
      deprecated: false
  /v1/internal/local-storage/fssnapshot/info:
    get:
      x-dr-role: 'N'
      x-product: OceanProtect X8000,OceanProtect X6000,OceanProtect X3000
      x-dm-role: 'N'
      x-impact-subsystem: 不影响
      x-access-port: 30081
      x-auth-required: 'N'
      x-rd-admin-role: 'N'
      x-auditor-role: 'N'
      x-dp-admin-role: 'N'
      x-public-api: 'N'
      x-sysadmin-role: 'N'
      tags:
        - storages-filesystem-internal-api
      description: 根据文件系统名称，快照名称查询快照信息
      operationId: getFsSnapshotByNames
      parameters:
        - name: fileSystemName
          in: query
          required: true
          description: 文件系统名称
          type: string
        - name: snapshotName
          in: query
          required: true
          description: 快照名称
          type: string
      responses:
        '200':
          description: 文件系统快照信息
          schema:
            $ref: '#/definitions/LocalFileSystemSnapshot'
        '401':
          description: Unauthorized
        '403':
          description: Forbidden
        '404':
          description: Not Found
      x-order: 0
  /v1/internal/local-storage/filesystem/{id}:
    get:
      x-dr-role: 'N'
      x-product: OceanProtect X8000,OceanProtect X6000,OceanProtect X3000
      x-dm-role: 'N'
      x-impact-subsystem: 不影响
      x-access-port: 30081
      x-auth-required: 'N'
      x-rd-admin-role: 'N'
      x-auditor-role: 'N'
      x-dp-admin-role: 'N'
      x-public-api: 'N'
      x-sysadmin-role: 'N'
      tags:
        - storages-filesystem-internal-api
      summary: 通过ID查找本地文件系统
      operationId: getLocalFileSystemUsingGET
      parameters:
        - name: id
          in: path
          required: true
          type: string
          description: id
      responses:
        '200':
          description: return 本地文件系统
          schema:
            type: string
        '401':
          description: Unauthorized
          schema:
            type: string
        '403':
          description: Forbidden
          schema:
            type: string
        '404':
          description: Not Found
          schema:
            type: string
      x-order: 1
  /v1/internal/local-storage/replicationpair/{id}:
    get:
      x-dr-role: 'N'
      x-product: OceanProtect X8000,OceanProtect X6000,OceanProtect X3000
      x-dm-role: 'N'
      x-impact-subsystem: 不影响
      x-access-port: 30081
      x-auth-required: 'N'
      x-rd-admin-role: 'N'
      x-auditor-role: 'N'
      x-dp-admin-role: 'N'
      x-public-api: 'N'
      x-sysadmin-role: 'N'
      tags:
        - storages-filesystem-internal-api
      summary: 通过ID查询本地远程复制Pair
      operationId: getLocalRemoteReplicationPairUsingGET
      parameters:
        - name: id
          in: path
          required: true
          type: string
          description: id
      responses:
        '200':
          description: 本地远程复制Pair
          schema:
            type: string
        '401':
          description: Unauthorized
          schema:
            type: string
        '403':
          description: Forbidden
          schema:
            type: string
        '404':
          description: Not Found
          schema:
            type: string
      x-order: 2
  /v1/internal/local-storage/hypermetropair/{id}:
    get:
      x-dr-role: 'N'
      x-product: OceanProtect X8000,OceanProtect X6000,OceanProtect X3000
      x-dm-role: 'N'
      x-impact-subsystem: 不影响
      x-access-port: 30081
      x-auth-required: 'N'
      x-rd-admin-role: 'N'
      x-auditor-role: 'N'
      x-dp-admin-role: 'N'
      x-public-api: 'N'
      x-sysadmin-role: 'N'
      tags:
        - storages-filesystem-internal-api
      summary: 通过ID查询双活Pair
      operationId: getHyperMetroPairUsingGET
      parameters:
        - name: id
          in: path
          required: true
          type: string
          description: id
      responses:
        '200':
          description: return 文件系统双活域
          schema:
            type: string
        '401':
          description: Unauthorized
          schema:
            type: string
        '403':
          description: Forbidden
          schema:
            type: string
        '404':
          description: Not Found
          schema:
            type: string
      x-order: 3
  /v1/internal/local-storage/fssnapshot/{id}:
    get:
      x-dr-role: 'N'
      x-product: OceanProtect X8000,OceanProtect X6000,OceanProtect X3000
      x-dm-role: 'N'
      x-impact-subsystem: 不影响
      x-access-port: 25081
      x-auth-required: 'N'
      x-rd-admin-role: 'N'
      x-auditor-role: 'N'
      x-dp-admin-role: 'N'
      x-public-api: 'N'
      x-sysadmin-role: 'N'
      tags:
        - storages-filesystem-internal-api
      summary: 查询单个文件系统快照信息
      operationId: getFsSnapshotDetailUsingGET
      parameters:
        - name: id
          in: path
          required: true
          type: string
          description: 文件系统快照ID
        - name: vStoreId
          in: query
          required: false
          description: 租户id
          type: string
      responses:
        '200':
          description: 文件系统快照信息
          schema:
            $ref: '#/definitions/LocalFileSystemSnapshot'
        '401':
          description: Unauthorized
          schema:
            type: string
        '403':
          description: forbidden
          schema:
            type: string
        '404':
          description: Not Found
          schema:
            type: string
  /v1/internal/local-storage/session:
    get:
      x-dr-role: 'N'
      x-product: OceanProtect X8000,OceanProtect X6000,OceanProtect X3000
      x-dm-role: 'N'
      x-impact-subsystem: 不影响
      x-access-port: 30081
      x-auth-required: 'N'
      x-rd-admin-role: 'N'
      x-auditor-role: 'N'
      x-dp-admin-role: 'N'
      x-public-api: 'N'
      x-sysadmin-role: 'N'
      tags:
        - local-storage-internal-api
      summary: 获取本地存储session信息
      description: 获取本地存储session信息
      operationId: getLocalStorageSessionUsingGet
      responses:
        '200':
          description: ''
          schema:
            $ref: '#/definitions/LocalStorageSessionInfo'
  /v1/internal/storages/import/update-job:
    put:
      x-dr-role: 'N'
      x-product: OceanProtect X8000,OceanProtect X6000,OceanProtect X3000
      x-dm-role: 'N'
      x-impact-subsystem: 不影响
      x-access-port: 30081
      x-auth-required: 'N'
      x-rd-admin-role: 'N'
      x-auditor-role: 'N'
      x-dp-admin-role: 'N'
      x-public-api: 'N'
      x-sysadmin-role: 'N'
      tags:
        - storages-internal-api
      summary: 更新导入副本任务
      description: 更新导入副本任务
      operationId: updateImportJobUsingPut
      parameters:
        - name: isCleanScanTaskResult
          in: query
          required: false
          type: boolean
        - name: jobId
          in: query
          required: false
          type: string
      responses:
        '200':
          description: OK
securityDefinitions:
  Authorization:
    type: apiKey
    name: TOKEN
    in: header
definitions:
  AnyBackupNodeRelocation:
    type: object
    required:
      - nodeId
      - realNodeName
    properties:
      nodeId:
        type: string
        description: 节点ID
        pattern: ^[a-zA-Z0-9]{1,1024}$
      realNodeName:
        type: string
        description: 节点名称
        pattern: ^[a-zA-Z0-9]{1,1024}$
    title: AnyBackupNodeRelocation
  AnyBackupNodeVO:
    type: object
    properties:
      description:
        type: string
        description: 描述
      hostName:
        type: string
        description: 主机名称
      id:
        type: string
        description: 节点ID
      nodeIp:
        type: string
        description: 节点IP
      nodeName:
        type: string
        description: POD名称
      realNodeName:
        type: string
        description: 节点名称
      status:
        type: integer
        format: int32
        description: 节点状态
    title: AnyBackupNodeVO
  AnyBackupPathInfo:
    type: object
    properties:
      freeSize:
        type: integer
        format: int64
        description: 空闲容量
      name:
        type: string
        description: 名称
      path:
        type: string
        description: 路径
    title: AnyBackupPathInfo
  AnyBackupVolExist:
    type: object
    properties:
      isExisted:
        type: boolean
        description: 是否存在
    title: AnyBackupVolExist
  BackupVolumePageData«StandardBackupVolVO»:
    type: object
    properties:
      data:
        type: array
        description: 卷列表
        items:
          $ref: '#/definitions/StandardBackupVolVO'
          originalRef: StandardBackupVolVO
      totalNum:
        type: integer
        format: int64
        description: 总数
    title: BackupVolumePageData«StandardBackupVolVO»
  BasePage«ProductStorageRes»:
    type: object
    properties:
      items:
        type: array
        description: 详情
        items:
          $ref: '#/definitions/ProductStorageRes'
          originalRef: ProductStorageRes
      page_no:
        type: integer
        format: int64
        description: 页码
      page_size:
        type: integer
        format: int64
        description: 每页总数
      pages:
        type: integer
        format: int64
        description: 总页数
      total:
        type: integer
        format: int64
        description: 总数
    title: BasePage«ProductStorageRes»
  CompleteStorageInfoRes:
    type: object
    properties:
      ak:
        type: string
        description: AK
      alarmEnable:
        type: boolean
        description: 是否开启告警
      alarmLimitValueUnit:
        type: string
        description: 告警阈值单位
      alarmThreshold:
        type: integer
        format: int64
        description: 告警阈值
      bucketName:
        type: string
        description: 数据桶名称
      cloudType:
        type: integer
        format: int32
        description: 云存储类型
      endpoint:
        type: string
        description: 终端节点
      freeSize:
        type: integer
        format: int64
        description: 剩余容量
      indexBucketName:
        type: string
        description: 索引桶名称
      proxyEnable:
        type: boolean
        description: 是否使用代理
      proxyHostName:
        type: string
        description: 代理主机名
      proxyUserName:
        type: string
        description: 代理用户名
      status:
        type: integer
        format: int32
        description: 存储库状态
      storageName:
        type: string
        description: 存储库名字
      totalSize:
        type: integer
        format: int64
        description: 总容量
      type:
        type: integer
        format: int32
        description: 存储库类型。   1:本地存储库  2:蓝光存储库  3:磁带存储库
      useHttps:
        type: boolean
        description: 是否使用HTTPS
      usedSize:
        type: integer
        format: int64
        description: 已使用容量
    title: CompleteStorageInfoRes
  DeleteStorageRes:
    type: object
    properties:
      slaId:
        type: string
        description: 已绑定的SLA ID
      status:
        type: integer
        format: int32
        description: 删除结果
    title: DeleteStorageRes
  DoradoInternalAlarm:
    type: object
    properties:
      alarmId:
        type: string
      alarmLevel:
        type: integer
        format: int32
      alarmParam:
        type: array
        items:
          type: string
      alarmSequence:
        type: integer
        format: int64
      alarmTime:
        type: integer
        format: int64
      clearTime:
        type: integer
        format: int64
      entity:
        type: string
      moId:
        type: string
      moIp:
        type: string
      moName:
        type: string
      recoverTime:
        type: integer
        format: int64
      resourceId:
        type: string
      sourceId:
        type: string
      sourceType:
        type: string
      userId:
        type: string
    title: DoradoInternalAlarm
  FullStorageInfo:
    type: object
    properties:
      ak:
        type: string
        description: AK
      alarmEnable:
        type: boolean
        description: 是否开启告警
      alarmLimitValueUnit:
        type: string
        description: 告警阈值单位
      alarmThreshold:
        type: integer
        format: int64
        description: 告警阈值
      bucketName:
        type: string
        description: 数据桶名称
      cloudType:
        type: integer
        format: int32
        description: 云存储类型
      endpoint:
        type: string
        description: 终端节点
      freeSize:
        type: integer
        format: int64
        description: 剩余容量
      id:
        type: string
      indexBucketName:
        type: string
        description: 索引桶名称
      port:
        type: integer
        format: int32
      proxyEnable:
        type: boolean
        description: 是否使用代理
      proxyHostName:
        type: string
        description: 代理主机名
      proxyPort:
        type: string
      proxyUrl:
        type: string
      proxyUserName:
        type: string
        description: 代理用户名
      proxyUserPwd:
        type: string
      sk:
        type: string
      status:
        type: integer
        format: int32
        description: 存储库状态
      storageName:
        type: string
        description: 存储库名字
      totalSize:
        type: integer
        format: int64
        description: 总容量
      type:
        type: integer
        format: int32
        description: 存储库类型。   1:本地存储库  2:蓝光存储库  3:磁带存储库
      useHttps:
        type: boolean
        description: 是否使用HTTPS
      usedSize:
        type: integer
        format: int64
        description: 已使用容量
    title: FullStorageInfo
  LocalStorageAuthRes:
    type: object
    properties:
      status:
        type: string
        description: 状态
        enum:
          - NORMAL
          - ABNORMAL
      userName:
        type: string
        description: 用户名
    title: LocalStorageAuthRes
  LocalStorageInfoRes:
    type: object
    properties:
      esn:
        type: string
        description: 序列号
      healthStatus:
        type: string
        description: 本地存储健康状态
      location:
        type: string
        description: 位置
      mode:
        type: string
        description: 型号
      patchVersion:
        type: string
        description: 补丁版本
      totalCapacity:
        type: string
        description: 容量
      type:
        type: string
        description: 设备类型
      vasaAltrnateName:
        type: string
        description: 名称
      version:
        type: string
        description: 版本
      wwn:
        type: string
        description: wwn
    title: LocalStorageInfoRes
  PageListResponse«RepositoryBase»:
    type: object
    properties:
      records:
        type: array
        description: 分页查询结果列表
        items:
          $ref: '#/definitions/RepositoryBase'
          originalRef: RepositoryBase
      totalCount:
        type: integer
        format: int32
        description: 总数
    title: PageListResponse«RepositoryBase»
  ProductStorageInfo:
    type: object
    properties:
      deviceId:
        type: string
        description: 设备id
      id:
        type: string
        description: 存储id
      ip:
        type: string
        description: 存储ip地址
      lunId:
        type: string
        description: lun id
      password:
        type: string
        description: 密码
      port:
        type: integer
        format: int32
        description: 端口号
      userName:
        type: string
        description: 用户名
    title: ProductStorageInfo
  ProductStorageInfoRes:
    type: object
    properties:
      storageInfo:
        $ref: '#/definitions/ProductStorageInfo'
        originalRef: ProductStorageInfo
      wwn:
        type: string
    title: ProductStorageInfoRes
  ProductStorageReq:
    type: object
    properties:
      ip:
        type: string
        description: 存储ip地址
      password:
        type: string
        description: 密码
      port:
        type: integer
        format: int32
        description: 端口号
      userName:
        type: string
        description: 用户名
    title: ProductStorageReq
  ProductStorageRes:
    type: object
    properties:
      createTime:
        type: string
        description: 添加时间
      deviceName:
        type: string
        description: 设备名
      esn:
        type: string
        description: 序列号
      id:
        type: string
        description: 存储id
      ip:
        type: string
        description: 存储ip地址
      port:
        type: integer
        format: int32
        description: 端口号
      status:
        type: string
        description: 设备状态
        enum:
          - NORMAL
          - ABNORMAL
      type:
        type: string
        description: 设备类型
      userName:
        type: string
        description: 用户名
      wwn:
        type: string
        description: wwn
    title: ProductStorageRes
  RepositoryAlarmThresholdVo:
    type: object
    properties:
      alarmLevel:
        type: integer
        format: int32
        example: 4
        description: 告警等级[取值范围] 3:重要 4:紧急
      limitValue:
        type: integer
        format: int64
        example: 80
        description: 告警阈值，type为1时表示百分比[取值范围]（50-90）;type为2时表示绝对值[取值范围]（正整数）,单位为GB
      limitValueUnit:
        type: string
        example: 1
        description: 告警阈值存储单位[取值范围] 1表示TB, 2表示GB，当告警类型是绝对值时进行填写
      matchTime:
        type: integer
        format: int32
        example: 3
        description: 触发条件
      recoverValue:
        type: integer
        format: int64
        example: 50
        description: 清除告警阈值，type为1时表示百分比[取值范围]（小于告警阈值）;type为2时表示绝对值[取值范围]（小于告警阈值）,单位为GB
      recoverValueUnit:
        type: string
        example: 1
        description: 清除告警阈值存储单位[取值范围] 1表示TB, 2表示GB，当告警类型是绝对值时进行填写
      repositoryId:
        type: string
        example: 1
        description: 存储库ID
      type:
        type: integer
        format: int32
        example: 1
        description: 百分比或者绝对值[取值范围] 1:百分比 2:绝对值
    title: RepositoryAlarmThresholdVo
  RepositoryBase:
    type: object
    properties:
      alarmThreashold:
        type: number
        format: float
        description: 存储告警阈值
      freeSize:
        type: integer
        format: int64
        description: 存储库剩余容量（单位：Byte）
      name:
        type: string
        description: 存储库名字
      repositoryId:
        type: string
        description: 存储库ID
      status:
        type: integer
        format: int32
        description: 存储库状态。 -1:离线  0:在线
      totalSize:
        type: integer
        format: int64
        description: 存储库总容量（单位：Byte）
      type:
        type: integer
        format: int32
        description: 存储库类型。   1:本地存储库  2:蓝光存储库  3:磁带存储库
      usedSize:
        type: integer
        format: int64
        description: 存储库已使用容量（单位：Byte）
    title: RepositoryBase
  RepositoryThresholdRequest:
    type: object
    required:
      - alarmLevel
      - limitValue
      - matchTime
      - recoverValue
      - type
    properties:
      alarmLevel:
        type: integer
        format: int32
        example: 4
        description: 告警等级[取值范围] 3:重要 4:紧急
        minimum: 0.0
        maximum: 9.223372036854776e18
        exclusiveMinimum: false
        exclusiveMaximum: false
      limitValue:
        type: integer
        format: int64
        example: 80
        description: 告警阈值，type为1时表示百分比[取值范围]（50-90）;type为2时表示绝对值[取值范围]（正整数）,单位为GB
        minimum: 1.0
        exclusiveMinimum: false
      limitValueUnit:
        type: string
        example: 1
        description: 告警阈值存储单位[取值范围] 1表示TB, 2表示GB，当告警类型是绝对值时进行填写
      matchTime:
        type: integer
        format: int32
        example: 3
        description: 触发条件
        minimum: 1.0
        maximum: 10.0
        exclusiveMinimum: false
        exclusiveMaximum: false
      recoverValue:
        type: integer
        format: int64
        example: 50
        description: 清除告警阈值，type为1时表示百分比[取值范围]（小于告警阈值）;type为2时表示绝对值[取值范围]（小于告警阈值）,单位为GB
        minimum: 1.0
        exclusiveMinimum: false
      recoverValueUnit:
        type: string
        example: 1
        description: 清除告警阈值存储单位[取值范围] 1表示TB, 2表示GB，当告警类型是绝对值时进行填写
      type:
        type: integer
        format: int32
        example: 1
        description: 百分比或者绝对值[取值范围] 1:百分比 2:绝对值
        minimum: 0.0
        maximum: 9.223372036854776e18
        exclusiveMinimum: false
        exclusiveMaximum: false
    title: RepositoryThresholdRequest
  StandardBackupVol:
    type: object
    required:
      - freeSize
      - nodeId
      - nodeIp
      - nodeName
      - pathFreeSize
      - pathName
      - totalSize
      - type
      - volName
    properties:
      freeSize:
        type: integer
        format: int64
        description: 空闲容量
      id:
        type: integer
        format: int64
        description: id
      nodeId:
        type: string
        description: 节点ID
        pattern: ^[a-zA-Z0-9]{1,1024}$
      nodeIp:
        type: string
        description: 节点IP
      nodeName:
        type: string
        description: 节点名称
        pattern: ^[a-zA-Z0-9]{1,1024}$
      pathFreeSize:
        type: integer
        format: int64
        description: 路径空闲容量
        minimum: 0.0
        exclusiveMinimum: false
      pathName:
        type: string
        description: 挂载路径
        pattern: /dpa/dpa_fs_[0-9]_[0-9]{2}_[0-9a-zA-Z]{24}/?
      status:
        type: integer
        format: int32
        description: 状态
      totalSize:
        type: integer
        format: int64
        description: 总容量
      type:
        type: integer
        format: int32
        description: 类型
      usedSize:
        type: integer
        format: int64
        description: 已使用容量
      volId:
        type: string
        description: 卷id
      volName:
        type: string
        description: 卷名
        pattern: ^[a-zA-Z0-9]{3,30}$
    title: StandardBackupVol
  StandardBackupVolVO:
    type: object
    properties:
      freeSize:
        type: integer
        format: int64
        description: 空闲容量
      id:
        type: integer
        format: int64
        description: id
      nodeId:
        type: string
        description: 节点ID
      nodeIp:
        type: string
        description: 节点IP
      nodeName:
        type: string
        description: 节点名称
      pathFreeSize:
        type: integer
        format: int64
        description: 路径空闲容量
      pathName:
        type: string
        description: 挂载路径
      removable:
        type: boolean
        description: 是否可删除
      status:
        type: integer
        format: int32
        description: 状态
      totalSize:
        type: integer
        format: int64
        description: 总容量
      type:
        type: integer
        format: int32
        description: 类型
      usedSize:
        type: integer
        format: int64
        description: 已使用容量
      volId:
        type: string
        description: 卷id
      volName:
        type: string
        description: 卷名
    title: StandardBackupVolVO
  StorageAccessRes:
    type: object
    properties:
      ip:
        type: string
        description: 存储ip地址
      port:
        type: integer
        format: int32
        description: 端口号
      token:
        type: string
        description: 令牌
    title: StorageAccessRes
  StorageInfo:
    type: object
    properties:
      ip:
        type: string
      password:
        type: string
      port:
        type: integer
        format: int32
      storagePoolList:
        type: array
        items:
          $ref: '#/definitions/StoragePool'
          originalRef: StoragePool
      type:
        type: integer
        format: int32
      username:
        type: string
    title: StorageInfo
  StoragePool:
    type: object
    properties:
      HEALTHSTATUS:
        type: string
      ID:
        type: string
      NAME:
        type: string
      PARENTID:
        type: string
      PARENTNAME:
        type: string
      RUNNINGSTATUS:
        type: string
      USERCONSUMEDCAPACITY:
        type: integer
        format: int64
      USERCONSUMEDCAPACITYPERCENTAGE:
        type: string
      USERCONSUMEDCAPACITYTHRESHOLD:
        type: string
      USERFREECAPACITY:
        type: integer
        format: int64
      USERTOTALCAPACITY:
        type: integer
        format: int64
    title: StoragePool
  StorageRequest:
    type: object
    properties:
      ak:
        type: string
        description: AK
        pattern: ^[\S]{1,256}$
      alarmEnable:
        type: boolean
        description: 是否开启告警
      alarmLimitValueUnit:
        type: string
        description: 告警阈值单位
      alarmThreshold:
        type: integer
        format: int64
        description: 告警阈值
      bucketName:
        type: string
        description: 数据桶名称
        pattern: ^[\S]{1,256}$
      cloudType:
        type: integer
        format: int32
        description: 云存储类型
        minimum: 0.0
        maximum: 4.0
        exclusiveMinimum: false
        exclusiveMaximum: false
      endpoint:
        type: string
        description: 终端节点
        pattern: ^[\S]{1,256}$
      indexBucketName:
        type: string
        description: 索引桶名称
        pattern: ^[\S]{1,256}$
      proxyEnable:
        type: boolean
        description: 是否使用代理
      proxyHostName:
        type: string
        description: 代理主机名
      proxyUserName:
        type: string
        description: 代理用户名
      proxyUserPwd:
        type: string
        description: 代理用户密码
      sk:
        type: string
        description: SK
        pattern: ^[\S]{1,256}$
      storageId:
        type: string
        description: 存储id
      storageName:
        type: string
        description: 存储库名字
      type:
        type: integer
        format: int32
        description: 存储库类型。   1:本地存储库  2:蓝光存储库  3:磁带存储库
      useHttps:
        type: boolean
        description: 是否使用HTTPS
    title: StorageRequest
  UpdateArchiveStorage:
    type: object
    properties:
      alarmEnable:
        type: boolean
        description: 是否开启告警
      alarmLimitValueUnit:
        type: string
        description: 告警阈值单位
      alarmThreshold:
        type: integer
        format: int64
        description: 告警阈值
      password:
        type: string
        description: 密码
      storageId:
        type: string
        description: 存储id
      userName:
        type: string
        description: 用户名
    title: UpdateArchiveStorage
  UpdateStorageRequest:
    type: object
    properties:
      password:
        type: string
        description: 密码
        minLength: 1
        maxLength: 64
      userName:
        type: string
        description: 用户名
        minLength: 1
        maxLength: 64
    title: UpdateStorageRequest
  LocalFileSystemSnapshot:
    type: object
    properties:
      id:
        type: string
        description: 快照id
      name:
        type: string
        description: 快照名称
      isSecuritySnap:
        type: boolean
        description: 是否安全快照
      isInProtectionPeriod:
        type: boolean
        description: 是否在保护期内
    required:
      - id
      - name
      - isSecuritySnap
      - isInProtectionPeriod
  LocalStorageSessionInfo:
    type: object
    properties:
      deviceId:
        type: string
        description: 设备ID
      sessionToken:
        type: string
        description: token
      linkIp:
        type: string
        description: ip
      port:
        type: string
        description: 端口号
      sessionCookie:
        type: string
        description: cookie
