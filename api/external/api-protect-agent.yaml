swagger: '2.0'
info:
  version: v1
  title: 客户端管理接口
  contact: {}
  license: {}
host: localhost
basePath: /
tags:
  - name: client-manager-api
    description: Host Agent Manager Controller
  - name: host-agent-update-controller
    description: Host Agent Update Controller
  - name: agent-lan-free-controller
  - name: host-agent-internal-controller
  - name: check-health-controller
paths:
  /v1/host-agent:
    post:
      x-dr-role: 'N'
      x-product: OceanProtect X8000,OceanProtect X6000,OceanProtect X3000
      x-dm-role: 'N'
      x-impact-subsystem: 不影响
      x-access-port: 25081
      x-auth-required: 'Y'
      x-rd-admin-role: 'N'
      x-auditor-role: 'N'
      x-dp-admin-role: 'Y'
      x-public-api: 'Y'
      x-sysadmin-role: 'Y'
      tags:
        - client-manager-api
      summary: 上传保护代理
      operationId: uploadAgentClientUsingPOST
      consumes:
        - multipart/form-data
      produces:
        - '*/*'
      parameters:
        - name: X-Auth-Token
          in: header
          description: Access token
          required: true
          type: string
        - name: agentClient
          in: formData
          description: 保护代理
          required: false
          type: file
      responses:
        '200':
          description: OK
        '201':
          description: Created
        '401':
          description: Unauthorized
        '403':
          description: Forbidden
        '404':
          description: Not Found
      security:
        - Authorization:
            - global
  /v1/host-agent/action/update:
    post:
      x-dr-role: 'N'
      x-product: OceanProtect X8000,OceanProtect X6000,OceanProtect X3000
      x-dm-role: 'N'
      x-impact-subsystem: 不影响
      x-access-port: 25081
      x-auth-required: 'Y'
      x-rd-admin-role: 'N'
      x-auditor-role: 'N'
      x-dp-admin-role: 'Y'
      x-public-api: 'Y'
      x-sysadmin-role: 'Y'
      tags:
        - host-agent-update-controller
      summary: 批量更新代理客户端
      operationId: batchUpdateAgentClientUsingPOST
      consumes:
        - application/json
      produces:
        - '*/*'
      parameters:
        - name: X-Auth-Token
          in: header
          description: Access token
          required: true
          type: string
        - in: body
          name: request
          description: 批量更新代理客户端请求参数
          required: true
          schema:
            $ref: '#/definitions/AgentsUpdateRequest'
            originalRef: AgentsUpdateRequest
      responses:
        '200':
          description: OK
        '201':
          description: Created
        '401':
          description: Unauthorized
        '403':
          description: Forbidden
        '404':
          description: Not Found
      security:
        - Authorization:
            - global
  /v1/host-agent/agents:
    get:
      x-dr-role: 'N'
      x-product: OceanProtect X8000,OceanProtect X6000,OceanProtect X3000
      x-dm-role: 'N'
      x-impact-subsystem: 不影响
      x-access-port: 25081
      x-auth-required: 'Y'
      x-rd-admin-role: 'N'
      x-auditor-role: 'N'
      x-dp-admin-role: 'Y'
      x-public-api: 'Y'
      x-sysadmin-role: 'Y'
      tags:
        - client-manager-api
      summary: 查询保护代理信息
      operationId: queryAgentEntitiesUsingGET
      produces:
        - '*/*'
      parameters:
        - name: X-Auth-Token
          in: header
          description: Access token
          required: true
          type: string
        - name: index
          in: query
          description: 页数
          required: false
          type: integer
          default: 1
          minimum: 0.0
          format: int32
        - name: size
          in: query
          description: 每页数量
          required: false
          type: integer
          default: 5
          maximum: 200.0
          minimum: 0.0
          format: int32
      responses:
        '200':
          description: OK
          schema:
            $ref: '#/definitions/BasePage«AgentEntityDTO»'
            originalRef: BasePage«AgentEntityDTO»
        '401':
          description: Unauthorized
        '403':
          description: Forbidden
        '404':
          description: Not Found
      security:
        - Authorization:
            - global
  /v1/host-agent/download:
    get:
      x-dr-role: 'N'
      x-product: OceanProtect X8000,OceanProtect X6000,OceanProtect X3000
      x-dm-role: 'N'
      x-impact-subsystem: 不影响
      x-access-port: 30081
      x-auth-required: 'N'
      x-rd-admin-role: 'N'
      x-auditor-role: 'N'
      x-dp-admin-role: 'N'
      x-public-api: 'N'
      x-sysadmin-role: 'N'
      tags:
        - client-manager-api
      summary: 下载链接接口，前端不涉及
      operationId: temporaryDownloadUsingGET
      produces:
        - '*/*'
      parameters:
        - name: uuid
          in: query
          description: 下载链接唯一标识
          required: false
          type: string
      responses:
        '200':
          description: OK
          schema:
            $ref: '#/definitions/FileSystemResource'
            originalRef: FileSystemResource
        '401':
          description: Unauthorized
        '403':
          description: Forbidden
        '404':
          description: Not Found
      security:
        - Authorization:
            - global
      deprecated: false
    post:
      x-dr-role: 'N'
      x-product: OceanProtect X8000,OceanProtect X6000,OceanProtect X3000
      x-dm-role: 'N'
      x-impact-subsystem: 不影响
      x-access-port: 25081
      x-auth-required: 'Y'
      x-rd-admin-role: 'N'
      x-auditor-role: 'N'
      x-dp-admin-role: 'Y'
      x-public-api: 'Y'
      x-sysadmin-role: 'Y'
      tags:
        - client-manager-api
      summary: 下载保护代理
      operationId: downloadAgentClientUsingPOST
      consumes:
        - application/json
      produces:
        - '*/*'
      parameters:
        - name: X-Auth-Token
          in: header
          description: Access token
          required: true
          type: string
        - in: body
          name: params
          description: 保护代理下载参数
          required: true
          schema:
            $ref: '#/definitions/AgentDownloadParams'
            originalRef: AgentDownloadParams
      responses:
        '200':
          description: OK
          schema:
            $ref: '#/definitions/FileSystemResource'
            originalRef: FileSystemResource
        '201':
          description: Created
        '401':
          description: Unauthorized
        '403':
          description: Forbidden
        '404':
          description: Not Found
      security:
        - Authorization:
            - global
  /v1/host-agent/register:
    post:
      x-dr-role: 'N'
      x-product: OceanProtect X8000,OceanProtect X6000,OceanProtect X3000
      x-dm-role: 'N'
      x-impact-subsystem: 不影响
      x-access-port: 25081
      x-auth-required: 'Y'
      x-rd-admin-role: 'N'
      x-auditor-role: 'N'
      x-dp-admin-role: 'Y'
      x-public-api: 'Y'
      x-sysadmin-role: 'Y'
      tags:
        - client-manager-api
      summary: 客户端代理自动注册
      operationId: registerHostAgentUsingPOST
      consumes:
        - application/json
      produces:
        - '*/*'
      parameters:
        - name: X-Auth-Token
          in: header
          description: Access token
          required: true
          type: string
        - in: body
          name: params
          description: 客户端代理自动注册参数
          required: true
          schema:
            $ref: '#/definitions/AgentRegisterParam'
            originalRef: AgentRegisterParam
      responses:
        '200':
          description: OK
        '201':
          description: Created
        '401':
          description: Unauthorized
        '403':
          description: Forbidden
        '404':
          description: Not Found
      security:
        - Authorization:
            - global
  /v1/host-agent/register/connection:
    post:
      x-dr-role: 'N'
      x-product: OceanProtect X8000,OceanProtect X6000,OceanProtect X3000
      x-dm-role: 'N'
      x-impact-subsystem: 不影响
      x-access-port: 25081
      x-auth-required: 'Y'
      x-rd-admin-role: 'N'
      x-auditor-role: 'N'
      x-dp-admin-role: 'Y'
      x-public-api: 'Y'
      x-sysadmin-role: 'Y'
      tags:
        - client-manager-api
      summary: 客户端代理自动注册连通性检查
      operationId: checkRegisterConnectionUsingPOST
      consumes:
        - application/json
      produces:
        - '*/*'
      parameters:
        - name: X-Auth-Token
          in: header
          description: Access token
          required: true
          type: string
        - in: body
          name: params
          description: 客户端代理自动注册参数
          required: true
          schema:
            $ref: '#/definitions/AgentRegisterConnectionParam'
            originalRef: AgentRegisterConnectionParam
      responses:
        '200':
          description: OK
        '201':
          description: Created
        '401':
          description: Unauthorized
        '403':
          description: Forbidden
        '404':
          description: Not Found
      security:
        - Authorization:
            - global
  /v1/internal/agent/cluster-ip:
    put:
      x-dr-role: 'N'
      x-product: OceanProtect X8000,OceanProtect X6000,OceanProtect X3000
      x-dm-role: 'N'
      x-impact-subsystem: 不影响
      x-access-port: 30081
      x-auth-required: 'N'
      x-rd-admin-role: 'N'
      x-auditor-role: 'N'
      x-dp-admin-role: 'N'
      x-public-api: 'N'
      x-sysadmin-role: 'N'
      tags:
        - client-manager-api
      summary: 自动更新Agent当前Server
      description: 内部接口，自动更新Agent当前Server
      operationId: updateAgentClusterIpPOST
      consumes:
        - application/json
      produces:
        - '*/*'
      parameters:
        - in: body
          name: params
          description: Agent当前控制器IP列表
          required: true
          schema:
            $ref: '#/definitions/MangerIpDto'
            originalRef: AgentRegisterConnectionParam
      responses:
        '200':
          description: OK
        '201':
          description: Created
        '401':
          description: Unauthorized
        '403':
          description: Forbidden
        '404':
          description: Not Found
      security:
        - Authorization:
            - global
  /v1/host-agent/{agentId}/log/configuration:
    put:
      x-dr-role: 'N'
      x-product: OceanProtect X8000,OceanProtect X6000,OceanProtect X3000
      x-dm-role: 'N'
      x-impact-subsystem: 不影响
      x-access-port: 25081
      x-auth-required: 'Y'
      x-rd-admin-role: 'N'
      x-auditor-role: 'N'
      x-dp-admin-role: 'Y'
      x-public-api: 'Y'
      x-sysadmin-role: 'Y'
      tags:
        - client-manager-api
      summary: 更新代理日志配置
      description: 更新代理日志配置
      operationId: updateAgentLogConfigurationPUT
      parameters:
        - name: agentId
          in: path
          required: true
          type: string
          description: 代理ID
          minLength: 1
          maxLength: 64
        - name: configParam
          in: body
          required: true
          description: 日志配置参数
          schema:
            $ref: '#/definitions/AgentLogConfigParam'
        - name: X-Auth-Token
          in: header
          required: true
          description: Access token
          type: string
      responses:
        '200':
          description: 无返回值
  /v1/host-agent/{agentId}/lan-free/configuration:
    put:
      x-dr-role: 'N'
      x-product: OceanProtect X8000,OceanProtect X6000,OceanProtect X3000
      x-dm-role: 'N'
      x-impact-subsystem: 不影响
      x-access-port: 25081
      x-auth-required: 'Y'
      x-rd-admin-role: 'N'
      x-auditor-role: 'N'
      x-dp-admin-role: 'Y'
      x-public-api: 'Y'
      x-sysadmin-role: 'Y'
      tags:
        - agent-lan-free-controller
      description: 配置lan-free信息
      operationId: configurationLanFreePUT
      parameters:
        - name: agentId
          in: path
          required: true
          type: string
        - name: agentLanFreeDTO
          in: body
          required: false
          description: lan-free配置页面信息
          schema:
            $ref: '#/definitions/AgentLanFreeDTO'
        - name: X-Auth-Token
          in: header
          required: false
          description: Access token
          type: string
      responses:
        '200':
          description: OK
          schema:
            type: string
        '201':
          description: Created
          schema:
            type: string
        '401':
          description: Unauthorized
          schema:
            type: string
        '403':
          description: Forbidden
          schema:
            type: string
        '404':
          description: Not Found
          schema:
            type: string
    get:
      x-dr-role: 'N'
      x-product: OceanProtect X8000,OceanProtect X6000,OceanProtect X3000
      x-dm-role: 'N'
      x-impact-subsystem: 不影响
      x-access-port: 25081
      x-auth-required: 'Y'
      x-rd-admin-role: 'N'
      x-auditor-role: 'N'
      x-dp-admin-role: 'Y'
      x-public-api: 'Y'
      x-sysadmin-role: 'Y'
      tags:
        - agent-lan-free-controller
      summary: 初始化lan-free配置页面
      description: 初始化配置界面
      operationId: configurationLanFreeGET
      parameters:
        - name: agentId
          in: path
          required: true
          type: string
        - name: X-Auth-Token
          in: header
          required: true
          description: Access token
          type: string
      responses:
        '200':
          description: OK
          schema:
            $ref: '#/definitions/AgentLanFreeDTO'
        '401':
          description: Unauthorized
          schema:
            type: string
        '403':
          description: Forbidden
          schema:
            type: string
        '404':
          description: Not Found
          schema:
            type: string
  /v1/host-agent/{agentId}/lan-free/info:
    get:
      x-dr-role: 'N'
      x-product: OceanProtect X8000,OceanProtect X6000,OceanProtect X3000
      x-dm-role: 'N'
      x-impact-subsystem: 不影响
      x-access-port: 25081
      x-auth-required: 'Y'
      x-rd-admin-role: 'N'
      x-auditor-role: 'Y'
      x-dp-admin-role: 'Y'
      x-public-api: 'Y'
      x-sysadmin-role: 'Y'
      tags:
        - agent-lan-free-controller
      description: 查询lan-free配置信息请求
      operationId: queryLanFreeGET
      parameters:
        - name: agentId
          in: path
          required: true
          type: string
        - name: X-Auth-Token
          in: header
          required: true
          description: Access token
          type: string
      responses:
        '200':
          description: OK
          schema:
            $ref: '#/definitions/AgentLanFreeViewDTO'
        '401':
          description: Unauthorized
          schema:
            type: string
        '403':
          description: Forbidden
          schema:
            type: string
        '404':
          description: Not Found
          schema:
            type: string
  /v1/host-agent/tag:
    put:
      x-dr-role: 'N'
      x-product: OceanProtect X8000,OceanProtect X6000,OceanProtect X3000
      x-dm-role: 'N'
      x-impact-subsystem: 不影响
      x-access-port: 25081
      x-auth-required: 'Y'
      x-rd-admin-role: 'N'
      x-auditor-role: 'N'
      x-dp-admin-role: 'Y'
      x-public-api: 'Y'
      x-sysadmin-role: 'Y'
      tags:
        - client-manager-api
      summary: 批量设置备注信息
      description: 批量为主机设置备注信息，主机可以是在线、离线、迁移中等各种状态
      operationId: updateTagInfoUsingPUT
      parameters:
        - name: X-Auth-Token
          in: header
          required: true
          description: Access token
          type: string
        - name: resourceIds
          in: query
          required: true
          type: string
          description: 主机resourceIdList，以,隔开
        - name: tagInfo
          in: query
          required: false
          type: string
          description: 批量为主机设置的备注信息，最大64字符，不传入的话默认值是空字符串""
      responses:
        '200':
          description: 无返回值
  /v1/internal/host-agent/log/action/export:
    post:
      tags:
        - host-agent-internal-controller
      summary: 导出Agent日志
      description: 导出Agent日志
      x-dr-role: 'N'
      x-product: OceanProtect X8000,OceanProtect X6000,OceanProtect X3000
      x-dm-role: 'N'
      x-impact-subsystem: 不影响
      x-access-port: 30081
      x-auth-required: 'N'
      x-rd-admin-role: 'N'
      x-auditor-role: 'N'
      x-dp-admin-role: 'N'
      x-public-api: 'N'
      x-sysadmin-role: 'N'
      operationId: exportAgentLogUsingPost
      parameters:
        - name: exportLogParam
          in: body
          required: false
          schema:
            $ref: '#/definitions/AgentExportLogParam'
      responses:
        '200':
          description: 无返回值
  /v1/host-agent/update/download:
    get:
      x-dr-role: 'N'
      x-product: OceanProtect X8000,OceanProtect X6000,OceanProtect X3000
      x-dm-role: 'N'
      x-impact-subsystem: 不影响
      x-access-port: 25081
      x-auth-required: 'Y'
      x-rd-admin-role: 'N'
      x-auditor-role: 'N'
      x-dp-admin-role: 'N'
      x-public-api: 'Y'
      x-sysadmin-role: 'N'
      tags:
        - client-manager-api
      summary: 用于agent 更新下载接口（证书双向认证），加入白名单
      description: 用于agent 更新下载接口（证书双向认证），加入白名单
      operationId: temporaryUpdateDownloadUsingGET
      parameters:
        - name: uuid
          in: query
          required: true
          description: uuid
          type: string
          minLength: 1
          maxLength: 1024
      responses:
        '200':
          description: ResponseEntity<FileSystemResource>
          schema:
            $ref: '#/definitions/ResponseEntity'
  /internal/crm/health:
    get:
      x-dr-role: 'N'
      x-product: OceanProtect X8000,OceanProtect X6000,OceanProtect X3000
      x-dm-role: 'N'
      x-impact-subsystem: 不影响
      x-access-port: 30081
      x-auth-required: 'N'
      x-rd-admin-role: 'N'
      x-auditor-role: 'N'
      x-dp-admin-role: 'N'
      x-public-api: 'N'
      x-sysadmin-role: 'N'
      tags:
        - check-health-controller
      summary: 内部调用接口，k8s探针检测服务不可用时，重启
      description: 内部调用接口，k8s探针检测服务不可用时，重启
      operationId: checkHealthUsingGet
      responses:
        '200':
          description: return "ok"
          schema:
            type: string
securityDefinitions:
  Authorization:
    type: apiKey
    name: TOKEN
    in: header
definitions:
  AgentClientInfo:
    type: object
    properties:
      agentId:
        type: string
        description: agent的ID
      uuid:
        type: string
        description: 资源id
    title: AgentClientInfo
  AgentDownloadParams:
    properties:
      agentID:
        type: string
        description: 保护代理id
        pattern: ^\d{1,32}$
      osType:
        type: string
        description: 操作系统类型Windows/Linux/Unix/Others
        enum:
          - WINDOWS
          - LINUX
          - UNIX
          - OTHERS
        x-impact-subsystem: 不影响
        x-access-port: 25081
        x-auth-required: 'Y'
        x-public-api: 'Y'
      privateKey:
        type: string
        description: 私钥
      type:
        type: string
        description: 代理类型 主机Oracle/主机通用/外置VM/外置通用
        enum:
          - HOST_AGENT_ORACLE
          - HOST_AGENT
          - REMOTE_AGENT_VMWARE
          - REMOTE_AGENT
        x-impact-subsystem: 不影响
        x-access-port: 25081
        x-auth-required: 'Y'
        x-public-api: 'Y'
    title: AgentDownloadParams
    required:
      - agentID
      - osType
      - privateKey
      - type
  AgentEntityDTO:
    type: object
    properties:
      agentName:
        type: string
      id:
        type: string
      status:
        type: integer
        format: int32
      uploadTime:
        type: string
      version:
        type: string
    title: AgentEntityDTO
  AgentInfo:
    type: object
    properties:
      agentId:
        type: string
      agentName:
        type: string
      releaseVersion:
        type: string
      versionDependencyRegexp:
        type: string
      versionTimeStamp:
        type: string
    title: AgentInfo
  AgentRegisterConnectionParam:
    properties:
      ips:
        type: string
        description: >-
          IPV4(支持网段或以逗号分隔):192.168.100.10-192.168.100.20,192.167.0.1，IPV6（只支持逗号分隔）:fe80::20c:29ff:fecb:d50a,fe80::20c:29ff:fecb:d514
      osType:
        type: string
        description: 操作系统类型 WINDOWS/LINUX/UNIX/OTHERS
        enum:
          - WINDOWS
          - LINUX
          - UNIX
          - OTHERS
        x-impact-subsystem: 不影响
        x-access-port: 25081
        x-auth-required: 'Y'
        x-public-api: 'Y'
      password:
        type: string
        description: 远程连接用户密码
        minLength: 1
        maxLength: 255
      username:
        type: string
        description: 远程连接用户名
        minLength: 1
        maxLength: 255
      ipType:
        type: string
        description: ip类型 IPV4,IPV6
        enum:
          - IPV4
          - IPV6
        x-impact-subsystem: 不影响
        x-access-port: 25081
        x-auth-required: 'Y'
        x-public-api: 'Y'
    title: AgentRegisterConnectionParam
  AgentRegisterParam:
    properties:
      ips:
        type: string
        description: >-
          IPV4(支持网段或以逗号分隔):192.168.100.10-192.168.100.20,192.167.0.1，IPV6（只支持逗号分隔）:fe80::20c:29ff:fecb:d50a,fe80::20c:29ff:fecb:d514
      osType:
        type: string
        description: 操作系统类型 Windows/Linux/Unix/Others
        enum:
          - WINDOWS
          - LINUX
          - UNIX
          - OTHERS
        x-impact-subsystem: 不影响
        x-access-port: 25081
        x-auth-required: 'Y'
        x-public-api: 'Y'
      password:
        type: string
        description: 远程连接用户密码
        minLength: 1
        maxLength: 255
      type:
        type: string
        description: 业务类型 主机Oracle/主机通用/外置VM/外置通用
        enum:
          - HOST_AGENT_ORACLE
          - HOST_AGENT
          - REMOTE_AGENT_VMWARE
          - REMOTE_AGENT
        x-impact-subsystem: 不影响
        x-access-port: 25081
        x-auth-required: 'Y'
        x-public-api: 'Y'
      username:
        type: string
        description: 远程连接用户名
        minLength: 1
        maxLength: 255
      ipType:
        type: string
        description: 类型 IPV4,IPV6
        enum:
          - IPV4
          - IPV6
        x-impact-subsystem: 不影响
        x-access-port: 25081
        x-auth-required: 'Y'
        x-public-api: 'Y'
    title: AgentRegisterParam
  AgentsUpdateRequest:
    type: object
    properties:
      agentClientInfoList:
        type: array
        description: 客户端更新信息列表
        items:
          $ref: '#/definitions/AgentClientInfo'
          originalRef: AgentClientInfo
    title: AgentsUpdateRequest
  BasePage«AgentEntityDTO»:
    type: object
    properties:
      items:
        type: array
        description: 详情
        items:
          $ref: '#/definitions/AgentEntityDTO'
          originalRef: AgentEntityDTO
      page_no:
        type: integer
        format: int64
        description: 页码
      page_size:
        type: integer
        format: int64
        description: 每页总数
      pages:
        type: integer
        format: int64
        description: 总页数
      total:
        type: integer
        format: int64
        description: 总数
    title: BasePage«AgentEntityDTO»
  File:
    type: object
    properties:
      absolute:
        type: boolean
      absoluteFile:
        $ref: '#/definitions/File'
        originalRef: File
      absolutePath:
        type: string
      canonicalFile:
        $ref: '#/definitions/File'
        originalRef: File
      canonicalPath:
        type: string
      directory:
        type: boolean
      file:
        type: boolean
      freeSpace:
        type: integer
        format: int64
      hidden:
        type: boolean
      name:
        type: string
      parent:
        type: string
      parentFile:
        $ref: '#/definitions/File'
        originalRef: File
      path:
        type: string
      totalSpace:
        type: integer
        format: int64
      usableSpace:
        type: integer
        format: int64
    title: File
  FileSystemResource:
    type: object
    properties:
      description:
        type: string
      file:
        $ref: '#/definitions/File'
        originalRef: File
      filename:
        type: string
      inputStream:
        $ref: '#/definitions/InputStream'
        originalRef: InputStream
      open:
        type: boolean
      outputStream:
        $ref: '#/definitions/OutputStream'
        originalRef: OutputStream
      path:
        type: string
      readable:
        type: boolean
      uri:
        $ref: '#/definitions/URI'
        originalRef: URI
      url:
        $ref: '#/definitions/URL'
        originalRef: URL
      writable:
        type: boolean
    title: FileSystemResource
  InputStream:
    type: object
    title: InputStream
  OutputStream:
    type: object
    title: OutputStream
  URI:
    type: object
    properties:
      absolute:
        type: boolean
      authority:
        type: string
      fragment:
        type: string
      host:
        type: string
      opaque:
        type: boolean
      path:
        type: string
      port:
        type: integer
        format: int32
      query:
        type: string
      rawAuthority:
        type: string
      rawFragment:
        type: string
      rawPath:
        type: string
      rawQuery:
        type: string
      rawSchemeSpecificPart:
        type: string
      rawUserInfo:
        type: string
      scheme:
        type: string
      schemeSpecificPart:
        type: string
      userInfo:
        type: string
    title: URI
  URL:
    type: object
    properties:
      authority:
        type: string
      content:
        type: object
      defaultPort:
        type: integer
        format: int32
      file:
        type: string
      host:
        type: string
      path:
        type: string
      port:
        type: integer
        format: int32
      protocol:
        type: string
      query:
        type: string
      ref:
        type: string
      userInfo:
        type: string
    title: URL
  HostRegisterInfo:
    required:
      - registerType
      - type
      - osType
      - ips
    properties:
      registerType:
        type: string
        example: 注册方式
        description: 注册方式 AGENT , AGENTLESS
      type:
        type: string
        example: 代理类型
        description: 代理类型
      osType:
        type: string
        example: 操作系统
        description: 操作系统
      ips:
        type: string
        example: ip地址,同时支持ipv4和ipv6
        description: ip地址,同时支持ipv4和ipv6
      password:
        type: string
        example: string
        description: 用户
      username:
        type: string
        example: string
        description: 密码
      port:
        type: string
        example: 端口
        description: 端口
      authMode:
        type: string
        example: 认证模式
        description: 认证模式 BASIC , NTLM, CREDSSP, KERBEROS, CERTIFICATE
      kerberos:
        type: string
        example: Kerberos认证模式下的值
        description: Kerberos认证模式下的值
      publicCertificate:
        type: string
        example: windows证书模式下的公钥证书
        description: windows证书模式下的公钥证书
      privateCertificate:
        type: string
        example: windows证书模式下的私钥证书
        description: windows证书模式下的私钥证书
      certificate:
        type: string
        example: 非windwos证书模式下的证书
        description: 非windwos证书模式下的证书
  MangerIpDto:
    description: Agent当前所有Server列表
    properties:
      mangerServerList:
        type: array
        items:
          type: string
        description: 实际当前Server列表
    required:
      - mangerServerList
  AgentLogConfigParam:
    type: object
    required:
      - logLevel
    properties:
      logLevel:
        type: string
        description: 日志级别
        minLength: 1
        maxLength: 32
  AgentLogConfigInfo:
    type: object
    required:
      - logLevel
    properties:
      logLevel:
        type: string
  AgentLanFreeWwpn:
    type: object
    description: LAN-FREE wwpn请求体
    required:
      - wwpn
      - manualAdd
      - chosen
      - runningStatus
    properties:
      wwpn:
        type: string
        description: wwpn
        minLength: 16
        maxLength: 32
      manualAdd:
        type: boolean
        description: 是否客户手动添加
      chosen:
        type: boolean
        description: 是否被选择
      runningStatus:
        description: "运行状态：\n\t0：未知\n\t1：正常\n\t2：运行\n\t10：已连接\n\t11：未连接\n\t14：预拷贝\n\t16：重构\n\t27：在线\n\t28：离线\n\t32：正在均衡\n\t53：初始化中\n\t106：删除中"
        required: true
        type: string
        maxLength: 32
  AgentLanFreeFcPort:
    type: object
    description: lan-free FC请求体
    required:
      - id
      - location
      - runningStatus
      - wwpn
      - chosen
    properties:
      id:
        type: string
        description: FC端口编码
      location:
        type: string
        description: FC端口位置
      runningStatus:
        description: 运行状态： 0：未知 1：正常 2：运行 10：已连接 11：未连接 14：预拷贝 16：重构 27：在线 28：离线 32：正在均衡 53：初始化中 106：删除中
        required: true
        type: string
      wwpn:
        type: string
        description: FC端口wwpn
        minLength: 16
        maxLength: 32
      chosen:
        type: string
        description: 是否被选择
  AgentLanFreeDTO:
    type: object
    description: lan-free 请求结构体
    required:
      - delete
      - wwpns
      - fcPorts
    properties:
      delete:
        type: boolean
        description: 是否删除lan-free
      wwpns:
        description: 客户端WWPN信息
        $ref: '#/definitions/AgentLanFreeWwpn'
      fcPorts:
        description: FC端口信息
        $ref: '#/definitions/AgentLanFreeFcPort'
  AgentLanFreeWwpnView:
    type: object
    required:
      - wwpn
      - runningStatus
    properties:
      wwpn:
        type: string
        description: wwpn
      runningStatus:
        type: string
        description: 状态
  AgentLanFreeFcPortView:
    type: object
    required:
      - location
      - runningStatus
    properties:
      location:
        type: string
        description: 位置
      runningStatus:
        type: string
        description: 状态
      wwpn:
        type: string
        description: FC端口wwpn
  AgentLanFreeViewDTO:
    type: object
    properties:
      wwpns:
        description: wwpn信息
        $ref: '#/definitions/AgentLanFreeWwpnView'
      fcPorts:
        description: FC端口信息
        $ref: '#/definitions/AgentLanFreeFcPortView'
  AgentExportLogParam:
    type: object
    required:
      - recordId
      - agentIds
    properties:
      recordId:
        type: string
        description: 记录ID
      agentIds:
        type: string
        description: 主机列表
  ResponseEntity:
    type: object
    properties:
      status:
        type: object
