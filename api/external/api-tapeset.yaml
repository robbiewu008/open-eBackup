swagger: '2.0'
info:
  version: v1
  title: 磁带库管理接口
basePath: /
tags:
  - name: media-set-api
    description: Media Set Controller
  - name: tape-library-api
    description: Tape Controller
  - name: tape-copy-api
schemes:
  - https
consumes:
  - application/json
produces:
  - application/json
paths:
  /v1/tape-library/libraries:
    get:
      x-dm-role: 'N'
      x-rd-admin-role: 'N'
      x-auditor-role: 'Y'
      x-dp-admin-role: 'N'
      x-sysadmin-role: 'Y'
      x-impact-subsystem: 不影响
      x-access-port: 25081
      x-auth-required: 'Y'
      x-public-api: 'Y'
      tags:
        - tape-library-api
      summary: 批量查询磁带库
      operationId: getTapeLibrariesUsingGET
      produces:
        - '*/*'
      parameters:
        - name: X-Auth-Token
          in: header
          description: Access token
          required: true
          type: string
        - name: controllerName
          in: query
          description: 控制器名称
          required: false
          type: string
        - name: pageNo
          in: query
          required: false
          type: integer
          format: int32
        - name: pageSize
          in: query
          required: false
          type: integer
          format: int32
      responses:
        '200':
          description: OK
          schema:
            $ref: '#/definitions/TapeLibraryPageListResponse'
        '401':
          description: Unauthorized
        '403':
          description: Forbidden
        '404':
          description: Not Found
  /v1/tape-library/libraries/action/scan:
    put:
      x-impact-subsystem: 不影响
      x-access-port: 25081
      x-auth-required: 'Y'
      x-rd-admin-role: 'N'
      x-auditor-role: 'N'
      x-dp-admin-role: 'N'
      x-public-api: 'Y'
      x-sysadmin-role: 'Y'
      tags:
        - tape-library-api
      summary: 扫描磁带库
      operationId: scanTapeLibrariesUsingPUT
      consumes:
        - application/json
      produces:
        - '*/*'
      parameters:
        - name: X-Auth-Token
          in: header
          description: Access token
          required: true
          type: string
      responses:
        '200':
          description: OK
        '201':
          description: Created
        '401':
          description: Unauthorized
        '403':
          description: Forbidden
        '404':
          description: Not Found
  '/v1/tape-library/libraries/{tapeLibrarySn}/drives':
    get:
      x-dm-role: 'N'
      x-rd-admin-role: 'N'
      x-auditor-role: 'Y'
      x-dp-admin-role: 'N'
      x-sysadmin-role: 'Y'
      x-impact-subsystem: 不影响
      x-access-port: 25081
      x-auth-required: 'Y'
      x-public-api: 'Y'
      tags:
        - tape-library-api
      summary: 批量查询驱动器
      operationId: getTapeDrivesUsingGET
      produces:
        - '*/*'
      parameters:
        - name: X-Auth-Token
          in: header
          description: Access token
          required: true
          type: string
        - name: compressionStatuses
          in: query
          description: 驱动压缩状态列表
          required: false
          type: array
          items:
            type: string
          enum:
            - DISABLE
            - ENABLE
        - name: name
          in: query
          description: 驱动名称
          required: false
          type: string
          maxLength: 64
          minLength: 1
          x-example: driver 01
        - name: pageNo
          in: query
          description: 页码
          required: false
          type: integer
          format: int32
          x-example: 20
        - name: pageSize
          in: query
          description: 页面大小
          required: false
          type: integer
          format: int32
          x-example: 20
        - name: statuses
          in: query
          description: 驱动状态列表
          required: false
          type: array
          items:
            type: string
          enum:
            - DISABLE
            - ENABLE
        - name: tapeLabel
          in: query
          description: 磁带标签
          required: false
          type: string
          maxLength: 64
          minLength: 1
          x-example: B00000L6
        - name: tapeLibrarySn
          in: path
          description: 磁带库序列号
          required: true
          type: string
          maxLength: 64
          minLength: 1
          x-example: No1
      responses:
        '200':
          description: OK
          schema:
            $ref: '#/definitions/TapeDrivePageListResponse'
        '401':
          description: Unauthorized
        '403':
          description: Forbidden
        '404':
          description: Not Found
  '/v1/tape-library/libraries/{tapeLibrarySn}/drives/{driverSn}':
    put:
      x-impact-subsystem: 不影响
      x-access-port: 25081
      x-auth-required: 'Y'
      x-rd-admin-role: 'N'
      x-auditor-role: 'N'
      x-dp-admin-role: 'N'
      x-public-api: 'Y'
      x-sysadmin-role: 'Y'
      tags:
        - tape-library-api
      summary: 修改驱动器属性
      operationId: modifyTapeDriveUsingPUT
      consumes:
        - application/json
      produces:
        - '*/*'
      parameters:
        - name: X-Auth-Token
          in: header
          description: Access token
          required: true
          type: string
        - name: driverSn
          in: path
          description: 驱动SN
          required: true
          type: string
          maxLength: 64
          minLength: 1
          x-example: 4JC241327487
        - in: body
          name: tapeDriveModifyRequest
          description: 驱动器修改请求
          required: true
          schema:
            $ref: '#/definitions/TapeDriveModifyRequest'
        - name: tapeLibrarySn
          in: path
          description: 磁带库序列号
          required: true
          type: string
          maxLength: 64
          minLength: 1
          x-example: No1
      responses:
        '200':
          description: OK
        '201':
          description: Created
        '401':
          description: Unauthorized
        '403':
          description: Forbidden
        '404':
          description: Not Found
  '/v1/tape-library/libraries/{tapeLibrarySn}/slots':
    get:
      x-dm-role: 'N'
      x-rd-admin-role: 'N'
      x-auditor-role: 'Y'
      x-dp-admin-role: 'N'
      x-sysadmin-role: 'Y'
      x-impact-subsystem: 不影响
      x-access-port: 25081
      x-auth-required: 'Y'
      x-public-api: 'N'
      tags:
        - tape-library-api
      summary: 批量查询卡槽
      operationId: getTapeSlotsUsingGET
      produces:
        - '*/*'
      parameters:
        - name: X-Auth-Token
          in: header
          description: Access token
          required: true
          type: string
        - name: pageNo
          in: query
          description: 页码
          required: false
          type: integer
          format: int32
          x-example: 20
        - name: pageSize
          in: query
          description: 页面大小
          required: false
          type: integer
          format: int32
          x-example: 20
        - name: slotName
          in: query
          description: 卡槽名称
          required: false
          type: string
          maxLength: 64
          minLength: 1
          x-example: SlotName01
        - name: tapeLibrarySn
          in: path
          description: 磁带库序列号
          required: true
          type: string
          maxLength: 64
          minLength: 1
          x-example: No1
        - name: slotTypes
          in: query
          required: false
          description: 卡槽类型列表
          type: array
          enum:
            - INVALID
            - IMPORT_EXPORT
            - OTHER
          items:
            type: string
          x-impact-subsystem: 不影响
          x-access-port: 25081
          x-auth-required: 'Y'
          x-public-api: 'N'
      responses:
        '200':
          description: OK
          schema:
            $ref: '#/definitions/TapeSlotPageListResponse'
        '401':
          description: Unauthorized
        '403':
          description: Forbidden
        '404':
          description: Not Found
  '/v1/tape-library/libraries/{tapeLibrarySn}/tapes':
    get:
      x-dm-role: 'N'
      x-rd-admin-role: 'N'
      x-auditor-role: 'Y'
      x-dp-admin-role: 'N'
      x-sysadmin-role: 'Y'
      x-impact-subsystem: 不影响
      x-access-port: 25081
      x-auth-required: 'Y'
      x-public-api: 'N'
      tags:
        - tape-library-api
      summary: 批量查询磁带
      operationId: getLibraryTapesUsingGET
      produces:
        - '*/*'
      parameters:
        - name: X-Auth-Token
          in: header
          description: Access token
          required: true
          type: string
        - name: location
          in: query
          description: 磁带所属位置
          required: false
          type: string
          maxLength: 64
          minLength: 1
          x-example: driver 01
        - name: mediaSetName
          in: query
          description: 介质集名称
          required: false
          type: string
          maxLength: 64
          minLength: 1
          x-example: MediaSetName01
        - name: orderBy
          in: query
          description: 排序字段
          required: false
          type: string
          enum:
            - LAST_WRITE_TIME
        - name: orderType
          in: query
          description: 排序方式
          required: false
          type: string
          enum:
            - DESC
            - ASC
        - name: pageNo
          in: query
          description: 页码
          required: false
          type: integer
          format: int32
          x-example: 20
        - name: pageSize
          in: query
          description: 页面大小
          required: false
          type: integer
          format: int32
          x-example: 20
        - name: statuses
          in: query
          description: 磁带状态列表
          required: false
          type: array
          items:
            type: string
          enum:
            - NOT_IN_LIBRARY
            - IN_LIBRARY
            - IDENTIFYING
            - ERASING
            - MARKING_EMPTY
            - DELETING
            - IMPORTING
            - EXPORTING
        - name: tapeLabel
          in: query
          description: 磁带标签
          required: false
          type: string
          maxLength: 64
          minLength: 1
          x-example: B00000L6
        - name: tapeLibrarySn
          in: path
          description: 磁带库序列号
          required: true
          type: string
          maxLength: 64
          minLength: 1
          x-example: No1
        - name: worms
          in: query
          description: 磁带类型列表
          required: false
          type: array
          items:
            type: string
          enum:
            - UNKNOWN
            - RW
            - WORM
        - name: writeStatuses
          in: query
          description: 磁带写状态列表
          required: false
          type: array
          items:
            type: string
          enum:
            - UNKNOWN
            - EMPTY
            - WRITTEN
            - FULL
            - ERROR
      responses:
        '200':
          description: OK
          schema:
            $ref: '#/definitions/TapePageListResponse'
        '401':
          description: Unauthorized
        '403':
          description: Forbidden
        '404':
          description: Not Found
  '/v1/tape-library/libraries/{tapeLibrarySn}/tapes/{tapeLabel}':
    delete:
      x-impact-subsystem: 不影响
      x-access-port: 25081
      x-auth-required: 'Y'
      x-rd-admin-role: 'N'
      x-auditor-role: 'N'
      x-dp-admin-role: 'N'
      x-public-api: 'Y'
      x-sysadmin-role: 'Y'
      tags:
        - tape-library-api
      summary: 删除磁带
      operationId: deleteTapeUsingDELETE
      produces:
        - '*/*'
      parameters:
        - name: X-Auth-Token
          in: header
          description: Access token
          required: true
          type: string
        - name: tapeLabel
          in: path
          description: 磁带标签
          required: true
          type: string
          maxLength: 64
          minLength: 1
          x-example: B000000L5
        - name: tapeLibrarySn
          in: path
          description: 磁带库序列号
          required: true
          type: string
          maxLength: 64
          minLength: 1
          x-example: No1
      responses:
        '200':
          description: OK
        '204':
          description: No Content
        '401':
          description: Unauthorized
        '403':
          description: Forbidden
  '/v1/tape-library/libraries/{tapeLibrarySn}/tapes/{tapeLabel}/action/empty':
    put:
      x-impact-subsystem: 不影响
      x-access-port: 25081
      x-auth-required: 'Y'
      x-rd-admin-role: 'N'
      x-auditor-role: 'N'
      x-dp-admin-role: 'N'
      x-public-api: 'Y'
      x-sysadmin-role: 'Y'
      tags:
        - tape-library-api
      summary: 标记磁带为空
      operationId: setTapeEmptyUsingPUT
      consumes:
        - application/json
      produces:
        - '*/*'
      parameters:
        - name: X-Auth-Token
          in: header
          description: Access token
          required: true
          type: string
        - name: tapeLabel
          in: path
          description: 磁带标签
          required: true
          type: string
          maxLength: 64
          minLength: 1
          x-example: B000000L5
        - name: tapeLibrarySn
          in: path
          description: 磁带库序列号
          required: true
          type: string
          maxLength: 64
          minLength: 1
          x-example: No1
      responses:
        '200':
          description: OK
        '201':
          description: Created
        '401':
          description: Unauthorized
        '403':
          description: Forbidden
        '404':
          description: Not Found
  '/v1/tape-library/libraries/{tapeLibrarySn}/tapes/{tapeLabel}/action/erase':
    put:
      x-impact-subsystem: 不影响
      x-access-port: 25081
      x-auth-required: 'Y'
      x-rd-admin-role: 'N'
      x-auditor-role: 'N'
      x-dp-admin-role: 'N'
      x-public-api: 'Y'
      x-sysadmin-role: 'Y'
      tags:
        - tape-library-api
      summary: 擦除磁带
      operationId: eraseTapeUsingPUT
      consumes:
        - application/json
      produces:
        - '*/*'
      parameters:
        - name: X-Auth-Token
          in: header
          description: Access token
          required: true
          type: string
        - name: tapeLabel
          in: path
          description: 磁带标签
          required: true
          type: string
          maxLength: 64
          minLength: 1
          x-example: B000000L5
        - name: tapeLibrarySn
          in: path
          description: 磁带库序列号
          required: true
          type: string
          maxLength: 64
          minLength: 1
          x-example: No1
      responses:
        '200':
          description: OK
        '201':
          description: Created
        '401':
          description: Unauthorized
        '403':
          description: Forbidden
        '404':
          description: Not Found
  '/v1/tape-library/libraries/{tapeLibrarySn}/tapes/{tapeLabel}/action/export':
    put:
      x-impact-subsystem: 不影响
      x-access-port: 25081
      x-auth-required: 'Y'
      x-rd-admin-role: 'N'
      x-auditor-role: 'N'
      x-dp-admin-role: 'N'
      x-public-api: 'Y'
      x-sysadmin-role: 'Y'
      tags:
        - tape-library-api
      summary: 导出磁带到卡槽
      operationId: exportTapeUsingPUT
      consumes:
        - application/json
      produces:
        - '*/*'
      parameters:
        - name: X-Auth-Token
          in: header
          description: Access token
          required: true
          type: string
        - in: body
          name: tapeExportRequest
          description: 磁带导出请求
          required: true
          schema:
            $ref: '#/definitions/TapeExportRequest'
        - name: tapeLabel
          in: path
          description: 磁带标签
          required: true
          type: string
          maxLength: 64
          minLength: 1
          x-example: B000000L5
        - name: tapeLibrarySn
          in: path
          description: 磁带库序列号
          required: true
          type: string
          maxLength: 64
          minLength: 1
          x-example: No1
      responses:
        '200':
          description: OK
        '201':
          description: Created
        '401':
          description: Unauthorized
        '403':
          description: Forbidden
        '404':
          description: Not Found
  '/v1/tape-library/libraries/{tapeLibrarySn}/tapes/{tapeLabel}/action/identify':
    put:
      x-impact-subsystem: 不影响
      x-access-port: 25081
      x-auth-required: 'Y'
      x-rd-admin-role: 'N'
      x-auditor-role: 'N'
      x-dp-admin-role: 'N'
      x-public-api: 'Y'
      x-sysadmin-role: 'Y'
      tags:
        - tape-library-api
      summary: 识别磁带
      operationId: identifyTapeUsingPUT
      consumes:
        - application/json
      produces:
        - '*/*'
      parameters:
        - name: X-Auth-Token
          in: header
          description: Access token
          required: true
          type: string
        - name: tapeLabel
          in: path
          description: 磁带标签
          required: true
          type: string
          maxLength: 64
          minLength: 1
          x-example: B000000L5
        - name: tapeLibrarySn
          in: path
          description: 磁带库序列号
          required: true
          type: string
          maxLength: 64
          minLength: 1
          x-example: No1
      responses:
        '200':
          description: OK
        '201':
          description: Created
        '401':
          description: Unauthorized
        '403':
          description: Forbidden
        '404':
          description: Not Found
  '/v1/tape-library/libraries/{tapeLibrarySn}/tapes/{tapeLabel}/action/import':
    put:
      x-impact-subsystem: 不影响
      x-access-port: 25081
      x-auth-required: 'Y'
      x-rd-admin-role: 'N'
      x-auditor-role: 'N'
      x-dp-admin-role: 'N'
      x-public-api: 'Y'
      x-sysadmin-role: 'Y'
      tags:
        - tape-library-api
      summary: 导入磁带到驱动
      operationId: importTapeUsingPUT
      consumes:
        - application/json
      produces:
        - '*/*'
      parameters:
        - name: X-Auth-Token
          in: header
          description: Access token
          required: true
          type: string
        - in: body
          name: tapeImportRequest
          description: 磁带导入请求
          required: true
          schema:
            $ref: '#/definitions/TapeImportRequest'
        - name: tapeLabel
          in: path
          description: 磁带标签
          required: true
          type: string
          maxLength: 64
          minLength: 1
          x-example: B000000L5
        - name: tapeLibrarySn
          in: path
          description: 磁带库序列号
          required: true
          type: string
          maxLength: 64
          minLength: 1
          x-example: No1
      responses:
        '200':
          description: OK
        '201':
          description: Created
        '401':
          description: Unauthorized
        '403':
          description: Forbidden
        '404':
          description: Not Found
  /v1/tape-library/media-sets:
    get:
      x-dm-role: 'N'
      x-rd-admin-role: 'N'
      x-auditor-role: 'Y'
      x-dp-admin-role: 'Y'
      x-sysadmin-role: 'Y'
      x-impact-subsystem: 不影响
      x-access-port: 25081
      x-auth-required: 'Y'
      x-public-api: 'N'
      tags:
        - media-set-api
      summary: 批量查询介质集
      operationId: getMediaSetAllUsingGET
      produces:
        - '*/*'
      parameters:
        - name: X-Auth-Token
          in: header
          description: Access token
          required: true
          type: string
        - name: mediaSetName
          in: query
          description: 介质集名
          required: false
          type: string
          maxLength: 64
          minLength: 1
          x-example: MediaSet01
        - name: orderBy
          in: query
          description: 排序字段
          required: false
          type: string
          enum:
            - CREATE_TIME
            - TOTAL_SIZE
        - name: orderType
          in: query
          description: 排序方式
          required: false
          type: string
          enum:
            - DESC
            - ASC
        - name: pageNo
          in: query
          description: 页码
          required: false
          type: integer
          format: int32
          x-example: 20
        - name: pageSize
          in: query
          description: 页面大小
          required: false
          type: integer
          format: int32
          x-example: 20
        - name: statuses
          in: query
          description: 介质集状态列表
          required: false
          type: array
          items:
            type: string
          enum:
            - ONLINE
            - OFFLINE
            - PART_ONLINE
        - name: types
          in: query
          description: 介质集类型列表
          required: false
          type: array
          items:
            type: string
          enum:
            - UNKNOWN
            - RW
            - WORM
      responses:
        '200':
          description: ''
          schema:
            $ref: '#/definitions/MediaSetPageListResponse'
        '401':
          description: Unauthorized
        '403':
          description: Forbidden
        '404':
          description: Not Found
    post:
      x-rd-admin-role: 'N'
      x-auditor-role: 'N'
      x-dp-admin-role: 'N'
      x-sysadmin-role: 'Y'
      x-impact-subsystem: 影响
      x-access-port: 25081
      x-auth-required: 'Y'
      x-public-api: 'Y'
      tags:
        - media-set-api
      summary: 创建介质集
      operationId: createMediaSetUsingPOST
      consumes:
        - application/json
      produces:
        - '*/*'
      parameters:
        - name: X-Auth-Token
          in: header
          description: Access token
          required: true
          type: string
        - in: body
          name: mediaPoolCreateRequest
          description: 创建介质集请求
          required: true
          schema:
            $ref: '#/definitions/MediaSetCreateRequest'
      responses:
        '200':
          description: OK
          schema:
            type: string
        '201':
          description: Created
        '401':
          description: Unauthorized
        '403':
          description: Forbidden
        '404':
          description: Not Found
  '/v1/tape-library/media-sets/{mediaSetId}':
    get:
      x-impact-subsystem: 不影响
      x-access-port: 25081
      x-auth-required: 'Y'
      x-rd-admin-role: 'N'
      x-auditor-role: 'Y'
      x-dp-admin-role: 'N'
      x-public-api: 'Y'
      x-sysadmin-role: 'Y'
      tags:
        - media-set-api
      summary: 查询介质集详情
      operationId: getMediaSetUsingGET
      produces:
        - '*/*'
      parameters:
        - name: X-Auth-Token
          in: header
          description: Access token
          required: true
          type: string
        - name: mediaSetId
          in: path
          description: 介质集UUID
          required: true
          type: string
          maxLength: 256
          minLength: 1
      responses:
        '200':
          description: OK
          schema:
            $ref: '#/definitions/TapeSetDetailResponse'
        '401':
          description: Unauthorized
        '403':
          description: Forbidden
        '404':
          description: Not Found
    put:
      x-impact-subsystem: 不影响
      x-access-port: 25081
      x-auth-required: 'Y'
      x-rd-admin-role: 'N'
      x-auditor-role: 'N'
      x-dp-admin-role: 'N'
      x-public-api: 'Y'
      x-sysadmin-role: 'Y'
      tags:
        - media-set-api
      summary: 修改介质集
      operationId: updateMediaSetUsingPUT
      consumes:
        - application/json
      produces:
        - '*/*'
      parameters:
        - name: X-Auth-Token
          in: header
          description: Access token
          required: true
          type: string
        - name: mediaSetId
          in: path
          description: 介质集UUID
          required: true
          type: string
          maxLength: 256
          minLength: 1
        - in: body
          name: mediaSetUpdateRequest
          description: 修改介质集请求
          required: true
          schema:
            $ref: '#/definitions/MediaSetUpdateRequest'
      responses:
        '200':
          description: OK
          schema:
            type: string
        '201':
          description: Created
        '401':
          description: Unauthorized
        '403':
          description: Forbidden
        '404':
          description: Not Found
    delete:
      x-impact-subsystem: 不影响
      x-access-port: 25081
      x-auth-required: 'Y'
      x-rd-admin-role: 'N'
      x-auditor-role: 'N'
      x-dp-admin-role: 'N'
      x-public-api: 'Y'
      x-sysadmin-role: 'Y'
      tags:
        - media-set-api
      summary: 删除介质集
      operationId: deleteMediaSetUsingDELETE
      produces:
        - '*/*'
      parameters:
        - name: X-Auth-Token
          in: header
          description: Access token
          required: true
          type: string
        - name: mediaSetId
          in: path
          description: 介质集UUID
          required: true
          type: string
          maxLength: 256
          minLength: 1
      responses:
        '200':
          description: OK
        '204':
          description: No Content
        '401':
          description: Unauthorized
        '403':
          description: Forbidden
  '/v1/tape-library/media-sets/{mediaSetId}/action/pre-check':
    get:
      x-rd-admin-role: 'N'
      x-auditor-role: 'N'
      x-dp-admin-role: 'Y'
      x-sysadmin-role: 'Y'
      tags:
        - media-set-api
      summary: 删除介质集前预检查
      x-impact-subsystem: 不影响
      x-access-port: 25081
      x-auth-required: 'Y'
      x-public-api: 'Y'
      operationId: deleteMediaSetPreCheckUsingGET
      parameters:
        - name: mediaSetId
          in: path
          required: true
          type: string
          description: 介质集UUID
        - name: X-Auth-Token
          in: header
          required: true
          description: Access Token
          type: string
      responses:
        '200':
          description: 删除介质集预检查回复
          schema:
            $ref: '#/definitions/DelMediaSetPreCheckRes'
        '401':
          description: Unauthorized
        '403':
          description: Forbidden
        '404':
          description: Not Found
securityDefinitions:
  Authorization:
    type: apiKey
    name: TOKEN
    in: header
definitions:
  MediaSetCreateRequest:
    properties:
      alarmEnable:
        type: boolean
        description: 是否开启告警
      alarmThreshold:
        type: integer
        format: int32
        example: 2
        description: 告警阈值
      appTypes:
        type: array
        description: 介质集应用类型
        items:
          type: string
          enum:
            - '1'
            - '2'
            - '3'
            - '4'
            - '5'
            - '6'
            - '7'
            - '8'
            - '9'
            - '10'
      mediaSetName:
        type: string
        example: MediaSet01
        description: 介质集名
        minLength: 1
        maxLength: 64
      node:
        type: string
        example: '0A'
        description: 控制器
        minLength: 2
        maxLength: 16
      retentionDuration:
        type: integer
        format: int32
        example: 3
        description: 保留时长
        minimum: 1.0
      retentionType:
        type: string
        description: 过期策略
        enum:
          - immediate
          - permanent
          - temporary
      retentionUnit:
        type: string
        description: 单位
        enum:
          - invalid
          - day
          - month
          - year
      tapes:
        type: array
        description: 磁带
        items:
          $ref: '#/definitions/MediaSetRelateTapeRequest'
      type:
        type: string
        description: 介质集类型
        enum:
          - unknown
          - rw
          - worm
      blockSize:
        type: integer
        format: int32
        description: 块大小，单位Kb
      compressionStatus:
        $ref: '#/definitions/TapeDriveCompressionStatus'
        description: 压缩状态
    title: MediaSetCreateRequest
  MediaSetRelateTapeRequest:
    type: object
    properties:
      tapeLabel:
        type: string
        example: No1
        description: 磁带标签
        minLength: 1
        maxLength: 64
      tapeLibrarySn:
        type: string
        example: B00000L5
        description: 磁带库序列号
        minLength: 1
        maxLength: 64
    title: MediaSetRelateTapeRequest
  MediaSetRelateTapeResponse:
    type: object
    properties:
      tapeLabel:
        type: string
        description: 磁带标签
      tapeLibrarySn:
        type: string
        description: 磁带库序列号
    title: MediaSetRelateTapeResponse
  MediaSetResponse:
    type: object
    properties:
      mediaSetId:
        type: string
        description: 介质集UUID
      mediaSetName:
        type: string
        description: 介质集名
      status:
        type: string
        description: 介质集状态
        enum:
          - online
          - offline
          - partOnline
      totalSize:
        type: integer
        format: int64
        description: 介质集总容量
      type:
        type: string
        description: 介质集类型
        enum:
          - unknown
          - rw
          - worm
      usedSize:
        type: integer
        format: int64
        description: 介质集已使用容量
    title: MediaSetResponse
  MediaSetUpdateRequest:
    type: object
    properties:
      alarmEnable:
        type: boolean
        description: 是否开启告警
      alarmThreshold:
        type: integer
        format: int32
        example: 2
        description: 告警阈值
      mediaSetName:
        type: string
        example: MediaSet01
        description: 介质集名
        minLength: 1
        maxLength: 64
      retentionDuration:
        type: integer
        format: int32
        example: 3
        description: 保留时长
      retentionType:
        type: string
        description: 过期策略
        enum:
          - immediate
          - permanent
          - temporary
      retentionUnit:
        type: string
        description: 单位
        enum:
          - invalid
          - day
          - month
          - year
      tapes:
        type: array
        description: 磁带
        items:
          $ref: '#/definitions/MediaSetRelateTapeRequest'
    title: MediaSetUpdateRequest
  MediaSetPageListResponse:
    properties:
      records:
        type: array
        description: 页面数据
        items:
          $ref: '#/definitions/MediaSetResponse'
      totalCount:
        type: integer
        format: int64
        description: 页面总数
    title: PageVo«MediaSetResponse»
    description: PageVo«MediaSetResponse»
  TapeSlotPageListResponse:
    properties:
      records:
        type: array
        description: 页面数据
        items:
          $ref: '#/definitions/SlotVo'
      totalCount:
        type: integer
        format: int64
        description: 页面总数
    title: PageVo«SlotVo»
    description: PageVo«SlotVo»
  TapeDrivePageListResponse:
    properties:
      records:
        type: array
        description: 页面数据
        items:
          $ref: '#/definitions/TapeDriveQueryResponse'
      totalCount:
        type: integer
        format: int64
        description: 页面总数
    title: PageVo«TapeDriveQueryResponse»
  TapePageListResponse:
    properties:
      records:
        type: array
        description: 页面数据
        items:
          $ref: '#/definitions/TapeVo'
      totalCount:
        type: integer
        format: int64
        description: 页面总数
    title: PageVo«TapeVo»
    description: getLibraryTapesUsingGET
  SlotVo:
    type: object
    properties:
      extend:
        type: string
        description: 补充信息
      loadingTape:
        type: string
        description: 加载的磁带
      slotName:
        type: string
        description: 卡槽名称
      slotSn:
        type: string
        description: 卡槽SN
      status:
        type: string
        description: 卡槽状态
        enum:
          - '0'
          - '1'
          - '2'
      tapeLibrarySn:
        type: string
        description: 磁带库序列号
      type:
        type: string
        description: 卡槽类型
        enum:
          - '0'
          - '1'
          - '2'
    title: SlotVo
  TapeDriveModifyRequest:
    properties:
      blockSize:
        type: integer
        format: int32
        example: 256
        description: 块大小
        minimum: 0.0
        maximum: 256.0
      compressionStatus:
        type: string
        description: 驱动压缩状态
        enum:
          - DISABLE
          - ENABLE
        x-impact-subsystem: 不影响
        x-access-port: 25081
        x-auth-required: 'Y'
        x-public-api: 'N'
      status:
        type: string
        description: 驱动状态
        enum:
          - DISABLE
          - ENABLE
        x-impact-subsystem: 不影响
        x-access-port: 25081
        x-auth-required: 'Y'
        x-public-api: 'N'
    title: TapeDriveModifyRequest
    required:
      - blockSize
      - compressionStatus
      - status
  TapeDriveQueryResponse:
    type: object
    properties:
      blockSize:
        type: integer
        format: int32
        description: 块大小
      compressionStatus:
        type: string
        description: 驱动压缩状态
        enum:
          - DISABLE
          - ENABLE
      driverSn:
        type: string
        description: '${tape.library.driveSn}'
      name:
        type: string
        description: 驱动名称
      status:
        type: string
        description: 驱动状态
        enum:
          - DISABLE
          - ENABLE
      tapeLabel:
        type: string
        description: 磁带标签
    title: TapeDriveQueryResponse
  TapeExportRequest:
    type: object
    required:
      - slotName
    properties:
      slotName:
        type: string
        example: SlotName01
        description: 卡槽名称
        minLength: 1
        maxLength: 64
    title: TapeExportRequest
  TapeImportRequest:
    type: object
    required:
      - driveName
    properties:
      driveName:
        type: string
        example: driver 01
        description: 驱动名称
        minLength: 1
        maxLength: 64
    title: TapeImportRequest
  TapeLibraryQueryResponse:
    type: object
    properties:
      controllerName:
        type: string
        description: 控制器名称
      driveNumber:
        type: integer
        format: int32
        description: 驱动数量
      name:
        type: string
        description: 磁带库名称
      productId:
        type: string
        description: 产品ID
      serialNo:
        type: string
        description: 磁带库序列号
      slotNumber:
        type: integer
        format: int32
        description: 卡槽数量
      status:
        type: string
        description: 磁带库ID
        enum:
          - offline
          - online
      vendor:
        type: string
        description: 生产厂商
    title: TapeLibraryQueryResponse
  TapeSetDetailResponse:
    properties:
      alarmEnable:
        type: boolean
        description: 是否开启告警
      alarmThreshold:
        type: integer
        format: int32
        description: 告警阈值
      appTypes:
        type: array
        description: 介质集应用类型
        items:
          type: string
          enum:
            - '1'
            - '2'
            - '3'
            - '4'
            - '5'
            - '6'
            - '7'
            - '8'
            - '9'
            - '10'
      mediaSetId:
        type: string
        description: 介质集UUID
      mediaSetName:
        type: string
        description: 介质集名
      node:
        type: string
        description: 控制器
      retentionDuration:
        type: integer
        format: int32
        description: 保留时长
      retentionType:
        type: string
        description: 过期策略
        enum:
          - immediate
          - permanent
          - temporary
      retentionUnit:
        type: string
        description: 单位
        enum:
          - invalid
          - day
          - month
          - year
      tapes:
        type: array
        description: 磁带
        items:
          $ref: '#/definitions/MediaSetRelateTapeResponse'
      type:
        type: string
        description: 介质集类型
        enum:
          - unknown
          - rw
          - worm
      blockSize:
        type: integer
        format: int32
        description: 块大小，单位Kb
      compressionStatus:
        $ref: '#/definitions/TapeDriveCompressionStatus'
        description: 压缩状态
    title: TapeSetDetailResponse
  TapeVo:
    properties:
      lastWriteTime:
        type: string
        description: 磁带最后写入时间
      tapeUUID:
        type: string
        description: 磁带UUID
      location:
        type: string
        description: 磁带所属位置
      mediaSetId:
        type: string
        description: 介质集ID
      status:
        type: string
        description: 磁带状态
        enum:
          - NOT_IN_LIBRARY
          - IN_LIBRARY
          - IDENTIFYING
          - ERASING
          - MARKING_EMPTY
          - DELETING
          - IMPORTING
          - EXPORTING
        x-impact-subsystem: 不影响
        x-access-port: 25081
        x-auth-required: 'Y'
        x-public-api: 'N'
      tapeLabel:
        type: string
        description: 磁带标签
      tapeLibrarySn:
        type: string
        description: 磁带库序列号
      mediaSetName:
        type: string
        description: 介质集名称
      totalCapacity:
        type: integer
        format: int32
        description: 磁带全部空间
      usedCapacity:
        type: integer
        format: int32
        description: 磁带已用空间
      worm:
        type: string
        description: 磁带类型
        enum:
          - UNKNOWN
          - RW
          - WORM
        x-impact-subsystem: 不影响
        x-access-port: 25081
        x-auth-required: 'Y'
        x-public-api: 'N'
      writeStatus:
        type: string
        description: 磁带写状态
        enum:
          - UNKNOWN
          - EMPTY
          - WRITTEN
          - FULL
          - ERROR
        x-impact-subsystem: 不影响
        x-access-port: 25081
        x-auth-required: 'Y'
        x-public-api: 'N'
      lockKey:
        type: string
        description: 加锁对象的taskID
      commitedWritePos:
        type: integer
        format: int32
        description: 磁带上一次写入位置
      isDepended:
        type: boolean
        description: 磁带过期回收标识
      extend:
        type: string
        description: 磁带补充信息
    title: TapeVo
  DelMediaSetPreCheckRes:
    description: 删除介质集预检查回复
    properties:
      hasTask:
        type: boolean
        description: 是否存在归档、恢复任务
      slas:
        type: array
        items:
          type: string
        description: 绑定的全部SLA名称
      hasNotEmptyTape:
        type: boolean
        description: 是否存在非空磁带
  TapeDriveCompressionStatus:
    description: 压缩状态
    properties:
      DISABLE:
        type: integer
        format: int32
        description: 1， 禁用
      ENABLE:
        type: integer
        format: int32
        description: 2， 启用
  TapeLibraryPageListResponse:
    description: 分页查询磁带库结果
    properties:
      totalCount:
        type: integer
        format: int32
      records:
        type: array
        items:
          $ref: '#/definitions/TapeLibraryQueryResponse'
