swagger: '2.0'
info:
  version: v2
  title: 副本浏览
schemes:
  - https
basePath: /
tags:
  - name: copy-controller
paths:
  /v2/copies/summary/resources:
    get:
      x-dr-role: 'N'
      x-dm-role: 'N'
      x-product: CyberEngine,OceanProtect X
      x-impact-subsystem: 不影响
      x-access-port: 25081
      x-auth-required: 'Y'
      x-rd-admin-role: 'N'
      x-auditor-role: 'Y'
      x-dp-admin-role: 'Y'
      x-public-api: 'Y'
      x-sysadmin-role: 'Y'
      produces:
        - application/json
      parameters:
        - description: 分页页面编码
          in: query
          minimum: 0
          name: pageNo
          required: true
          type: integer
        - description: 分页数据条数
          in: query
          maximum: 200
          minimum: 0
          name: pageSize
          required: true
          type: integer
        - collectionFormat: multi
          description: |-
            排序字段(+增序-减序)：(+/-)copyCount，(+/-)displayTimestamp。
            该参数需要UrlEncode编码。
          in: query
          items:
            type: string
          name: orders
          required: false
          type: array
        - description: |-
            条件参数：
            {
                "resourceSubType": [
                    "Fileset"
                ],
                "resourceName": "c",
                "resourceLocation": "4",
                "resourceStatus": [
                    "EXIST"
                ],
                "protectedSlaName": "a",
                "protectedStatus": [
                    true
                ]
            }
            其中resourceName，resourceLocation，protectedSlaName为模糊查询。
            该参数需要UrlEncode编码。
          in: query
          name: conditions
          required: false
          type: string
      responses:
        '200':
          description: Successful Response
          schema:
            $ref: '#/definitions/CopyResourceSummaryPageResponse'
      tags:
        - copy-controller
      operationId: queryCopySummaryResourceV2
      summary: 副本资源分页查询
      description: 副本资源列表查询
  /v2/copies/available-time-ranges:
    get:
      x-product: OceanProtect X
      x-dm-role: 'N'
      x-rd-admin-role: 'N'
      x-auditor-role: 'N'
      x-impact-subsystem: 不影响
      x-access-port: 25081
      x-auth-required: 'Y'
      x-public-api: 'Y'
      x-sysadmin-role: 'Y'
      x-dp-admin-role: 'Y'
      tags:
        - copy-controller
      operationId: ListAvailableTimeRanges
      consumes:
        - application/json
      summary: 查询指定时间范围可用于恢复的时间段
      description: 查询指定时间范围可用于恢复的时间段
      x-is-registered: 'N'
      x-support-sdk: 'N'
      produces:
        - application/json
      parameters:
        - name: X-Auth-Token
          in: header
          required: true
          description: 访问令牌
          type: string
        - name: pageNo
          in: query
          required: true
          description: 起始页，默认为0
          type: integer
          format: int32
        - name: pageSize
          in: query
          required: true
          description: 分页大小，默认100
          type: integer
          format: int32
        - name: startTime
          in: query
          required: true
          description: 待查询的起始时间点
          type: integer
          format: int64
        - name: endTime
          in: query
          required: true
          description: 待查询的结束时间点
          type: integer
          format: int64
        - name: resourceId
          in: query
          required: true
          description: 受保护资源id
          type: string
      responses:
        '200':
          description: 查询指定时间范围可用于恢复的时间段响应体
          schema:
            $ref: '#/definitions/AvailableTimeRangesResponseList'
      x-order: 0
  /v2/internal/copies/{copyId}/action/download:
    post:
      x-dr-role: 'N'
      x-product: CyberEngine,OceanProtect X8000,OceanProtect X6000,OceanProtect X3000
      x-dm-role: 'N'
      x-rd-admin-role: 'N'
      x-auditor-role: 'N'
      x-impact-subsystem: 不影响
      x-access-port: 30081
      x-auth-required: 'N'
      x-public-api: 'N'
      x-sysadmin-role: 'N'
      x-dp-admin-role: 'N'
      tags:
        - copy-controller
      operationId: DownloadFiles
      consumes:
        - application/json
        - application/x-www-form-urlencoded
      summary: 下载副本中的文件
      description: 下载副本中的文件
      produces:
        - application/json
      parameters:
        - name: copyId
          in: path
          required: true
          type: string
          description: 副本id
        - name: X-Auth-Token
          in: header
          required: true
          description: 访问令牌
          type: string
        - name: downloadFilesReq
          in: body
          required: false
          schema:
            $ref: '#/definitions/DownloadFilesReq'
          description: 下载文件请求参数
      responses:
        '200':
          description: 下载副本中的文件的响应对象
          schema:
            $ref: '#/definitions/DownLoadResp'
  /v2/copies/{copyId}/action/verify:
    post:
      x-product: OceanProtect X
      x-dm-role: 'N'
      x-impact-subsystem: 影响
      x-access-port: 25081
      x-auth-required: 'Y'
      x-rd-admin-role: 'N'
      x-auditor-role: 'N'
      x-dp-admin-role: 'Y'
      x-public-api: 'Y'
      x-sysadmin-role: 'Y'
      tags:
        - copy-controller
      summary: 执行副本校验任务
      description: 执行副本校验任务
      operationId: ExecuteCopyVerifyTask
      consumes:
        - application/json
      produces:
        - application/json
      parameters:
        - name: copyId
          in: path
          required: true
          type: string
          description: 副本id
      responses:
        '200':
          description: 成功响应对象
          schema:
            $ref: 'api-restore-v2.yaml#/definitions/UuidObject'
          examples:
            application/json: |-
              {
                  “uuid”: "12dsd9234812kjfskljflsa"
              }
        '404':
          description: 未找到接口
        '500':
          description: 任务失败
          schema:
            type: object
          examples:
            application/json:
              errorCode: 1677936643
              errorMessage: An exception occurs during service processing.
              parameters:
                - param1
                - param2
  /v2/copies/{copyId}/catalogs:
    get:
      x-product: OceanProtect X
      x-dm-role: 'N'
      x-rd-admin-role: 'N'
      x-auditor-role: 'N'
      x-impact-subsystem: 不影响
      x-access-port: 25081
      x-auth-required: 'Y'
      x-public-api: 'Y'
      x-sysadmin-role: 'Y'
      x-dp-admin-role: 'Y'
      tags:
        - copy-controller
      operationId: ListCopyCatalogs
      consumes:
        - application/json
      summary: 浏览副本中文件和目录信息
      description: 浏览副本中文件和目录信息
      x-is-registered: 'N'
      x-support-sdk: 'N'
      produces:
        - application/json
      parameters:
        - name: copyId
          in: path
          required: true
          type: string
          description: 副本id
        - name: X-Auth-Token
          in: header
          required: true
          description: 访问令牌
          type: string
        - name: pageNo
          in: query
          required: true
          description: 起始页，默认为0
          type: integer
          format: int32
        - name: pageSize
          in: query
          required: true
          description: 分页大小，默认200
          type: integer
          format: int32
        - name: parentPath
          in: query
          required: true
          description: 根路径
          type: string
      responses:
        '200':
          description: 文件系统响应体
          schema:
            $ref: '#/definitions/FileSystemResponseList'
      x-order: 3
  /v2/internal/copies/{copyId}/action/verify:
    post:
      x-dr-role: 'N'
      x-product: OceanProtect X
      x-dm-role: 'N'
      x-impact-subsystem: 不影响
      x-access-port: 30081
      x-auth-required: 'N'
      x-rd-admin-role: 'N'
      x-auditor-role: 'N'
      x-dp-admin-role: 'N'
      x-public-api: 'N'
      x-sysadmin-role: 'N'
      tags:
        - copy-controller
      summary: 执行副本校验任务
      description: 内部调用执行副本校验任务
      operationId: InternalExecuteCopyVerifyTask
      consumes:
        - application/json
      produces:
        - application/json
      parameters:
        - name: copyId
          in: path
          required: true
          type: string
          description: 副本id
        - name: userId
          in: query
          required: false
          description: 用户id
          type: string
      responses:
        '200':
          description: 成功响应对象
          schema:
            $ref: 'api-restore-v2.yaml#/definitions/UuidObject'
          examples:
            application/json: |-
              {
                  “uuid”: "12dsd9234812kjfskljflsa"
              }
        '404':
          description: 未找到接口
        '500':
          description: 任务失败
          schema:
            type: object
          examples:
            application/json:
              errorCode: 1677936643
              errorMessage: An exception occurs during service processing.
              parameters:
                - param1
                - param2
  /v1/internal/copies/associated:
    get:
      x-dr-role: 'N'
      x-product: CyberEngine,OceanProtect X8000,OceanProtect X6000,OceanProtect X3000
      x-dm-role: 'N'
      x-impact-subsystem: 不影响
      x-access-port: 30081
      x-auth-required: 'N'
      x-rd-admin-role: 'N'
      x-auditor-role: 'N'
      x-dp-admin-role: 'N'
      x-public-api: 'N'
      x-sysadmin-role: 'N'
      tags:
        - copy-controller
      summary: 查询副本的关联副本
      description: 查询副本的关联副本
      operationId: queryAssociatedCopy
      parameters:
        - name: copyId
          in: query
          required: false
          description: 副本Id
          type: string
      responses:
        '200':
          description: 关联的副本
          schema:
            $ref: '#/definitions/FileSystemResponseList'
  /v1/internal/copies/index:
    delete:
      x-dr-role: 'N'
      x-product: CyberEngine,OceanProtect X8000,OceanProtect X6000,OceanProtect X3000
      x-dm-role: 'N'
      x-impact-subsystem: 不影响
      x-access-port: 30081
      x-auth-required: 'N'
      x-rd-admin-role: 'N'
      x-auditor-role: 'N'
      x-dp-admin-role: 'N'
      x-public-api: 'N'
      x-sysadmin-role: 'N'
      summary: 删除资源对应副本的索引
      description: 删除资源对应副本的索引
      operationId: deleteResourceIndex
      parameters:
        - name: resourceId
          in: query
          required: false
          description: 资源Id
          type: string
      responses:
        '200':
          description: ''
          schema:
            type: string
definitions:
  FileSystemResponseList:
    description: 文件系统响应体
    properties:
      totalCount:
        type: integer
        format: int32
        description: 总记录数
        maximum: 2147483647
        minimum: 0
      records:
        type: array
        items:
          $ref: '#/definitions/FileSystemData'
        description: 文件系统响应体
    required:
      - totalCount
      - records
    type: object
  FileSystemData:
    properties:
      path:
        type: string
        description: 文件路径
        maxLength: 256
        minLength: 0
      modifyTime:
        type: string
        description: 修改时间
        maxLength: 256
        minLength: 0
      size:
        type: integer
        format: int32
        description: 大小
        maximum: 2147483647
        minimum: 0
      hasChildren:
        type: boolean
        description: 是否有子树
      type:
        type: string
        description: 文件类型（文件夹/文件/链接文件）
        maxLength: 256
        minLength: 0
      extendInfo:
        type: string
        description: 扩展字段
        maxLength: 256
        minLength: 0
    required:
      - path
      - modifyTime
      - size
      - hasChildren
      - type
  AvailableTimeRangesResponseList:
    description: 查询指定时间范围可用于恢复的时间段
    properties:
      totalCount:
        type: integer
        format: int32
        description: 总记录数
        maximum: 2147483647
        minimum: 0
      records:
        items:
          $ref: '#/definitions/AvailableTimeRanges'
        description: 查询指定时间范围可用于恢复的时间段
        type: array
    required:
      - totalCount
      - records
  AvailableTimeRanges:
    properties:
      copyId:
        type: string
        description: 副本id
        maxLength: 256
        minLength: 0
      startTime:
        type: integer
        format: int64
        description: 起始时间点
        maximum: 2147483647
        minimum: 0
      endTime:
        type: integer
        format: int64
        description: 结束时间点
        maximum: 2147483647
        minimum: 0
    required:
      - copyId
      - startTime
      - endTime
  DownLoadResp:
    description: 下载副本中的文件的响应对象
    properties:
      requestId:
        type: string
        description: 请求id
        maxLength: 256
        minLength: 0
    required:
      - requestId
  CopyResourceSummarySchema:
    properties:
      copyCount:
        description: 资源副本数量
        title: Copy Count
        type: integer
        maximum: 2147483647
        minimum: 0
      properties:
        description: 副本资源属性
        title: Properties
        type: string
        maxLength: 256
        minLength: 0
      protectedObjectUuid:
        description: 保护对象UUID
        title: Protected Object Uuid
        type: string
        maxLength: 256
        minLength: 0
      protectedResourceId:
        description: 保护资源ID
        title: Protected Resource Id
        type: string
        maxLength: 256
        minLength: 0
      protectedSlaId:
        description: 保护SLA ID
        title: Protected Sla Id
        type: string
        maxLength: 256
        minLength: 0
      protectedSlaName:
        description: 保护SLA名称
        title: Protected Sla Name
        type: string
        maxLength: 256
        minLength: 0
      protectedStatus:
        description: 保护状态
        title: Protected Status
        type: boolean
      resourceEnvironmentIp:
        description: 资源环境IP
        title: Resource Environment Ip
        type: string
        maxLength: 256
        minLength: 0
      resourceEnvironmentName:
        description: 资源环境名称
        title: Resource Environment Name
        type: string
        maxLength: 256
        minLength: 0
      resourceId:
        description: 资源ID
        title: Resource Id
        type: string
        maxLength: 256
        minLength: 0
      resourceLocation:
        description: 资源位置
        title: Resource Location
        type: string
        maxLength: 256
        minLength: 0
      resourceName:
        description: 资源名称
        title: Resource Name
        type: string
        maxLength: 256
        minLength: 0
      resourceProperties:
        description: 资源属性
        title: Resource Properties
        type: string
        maxLength: 256
        minLength: 0
      resourceStatus:
        description: 资源状态
        title: Resource Status
        type: string
        maxLength: 256
        minLength: 0
      resourceSubType:
        description: 资源子类型
        title: Resource Sub Type
        type: string
        maxLength: 256
        minLength: 0
      resourceType:
        description: 资源类型
        title: Resource Type
        type: string
        maxLength: 256
        minLength: 0
      slaName:
        description: SLA名称
        title: Sla Name
        type: string
        maxLength: 256
        minLength: 0
    required:
      - copyCount
      - resourceId
      - resourceLocation
      - resourceName
      - resourceProperties
      - resourceStatus
      - resourceSubType
      - resourceType
    title: CopyResourceSummarySchema
    type: object
  CopyResourceSummaryPageResponse:
    type: object
    properties:
      totalCount:
        type: integer
        format: int32
        description: 总数量
        maximum: 2147483647
        minimum: 0
      records:
        type: array
        items:
          $ref: '#/definitions/CopyResourceSummarySchema'
        description: 副本资源列表
  StorageSnapshot:
    type: object
    properties:
      id:
        type: string
        description: 快照ID
        maxLength: 256
        minLength: 0
      parentName:
        type: string
        description: 快照的父对象名称，如果是文件系统则为快照所属文件系统的名字
        maxLength: 256
        minLength: 0
  TaskResource:
    type: object
    properties:
      parentUuid:
        type: string
        description: 父资源的uuid。如备份数据库，这个是数据库实例的uuid
        maxLength: 256
        minLength: 0
      parentName:
        type: string
        description: 父资源的名称
        maxLength: 256
        minLength: 0
      targetLocation:
        type: string
        description: 目标位置
        maxLength: 256
        minLength: 0
  TaskEnvironment:
    type: object
    description: 恢复任务中的资源对应的环境信息
    properties:
      uuid:
        type: string
        example: df2cf7a5-88b6-4003-be76-75dd466a363d
        description: id
        maxLength: 256
        minLength: 0
      name:
        type: string
        example: single
        description: 名称
        maxLength: 256
        minLength: 0
      type:
        type: string
        example: Host
        description: 类型
        maxLength: 256
        minLength: 0
      subType:
        type: string
        example: UBackupAgent
        description: 资源类型
        maxLength: 256
        minLength: 0
      path:
        type: string
        example: null
        description: ip
        maxLength: 256
        minLength: 0
      rootUuid:
        type: string
        example: null
        description: root资源id
        maxLength: 256
        minLength: 0
      extendInfo:
        description: extendInfo
        properties:
          agentIpList:
            type: string
            example: 192.168.111.164,8.40.111.164,192.168.122.1,fe80::20c:29ff:fec4:1e,fe80::20c:29ff:fec4:28
            description: agentip列表
            maxLength: 256
            minLength: 0
          agentId:
            type: string
            example: 1636568599877500930
            description: agent的id
            maxLength: 256
            minLength: 0
          scenario:
            type: string
            example: 0
            description: scenario
            maxLength: 256
            minLength: 0
          src_deduption:
            type: string
            example: true
            description: src_deduption
            maxLength: 256
            minLength: 0
          agentUpgradeable:
            type: string
            example: 0
            description: src_deduption
            maxLength: 256
            minLength: 0
          agentUpgradeableVersion:
            description: agentUpgradeableVersion
            type: string
            example: 1.3.RC1.101
            maxLength: 256
            minLength: 0
          $citations_agents_9983bd347fc0404391748a4294158da7:
            maxLength: 256
            minLength: 0
            description: agentUpgradeableVersion
            type: string
            example: 76820ba179bd44aaa0007a8d07f1c1bc
          deployType:
            type: string
            example: 1
            description: 部署类型
            maxLength: 256
            minLength: 0
      auth:
        $ref: '#/definitions/Authentication'
      endpoint:
        type: string
        example: 192.168.111.164
        description: ip
        maxLength: 256
        minLength: 0
      port:
        type: integer
        format: int32
        example: 59521
        description: 端口
        maximum: 2147483647
        minimum: 0
      nodes:
        description: 节点
        items:
          $ref: '#/definitions/TaskEnvironment'
        type: array
  StorageRepository:
    type: object
    properties:
      id:
        type: string
        example: null
        description: id
        maxLength: 256
        minLength: 0
      type:
        type: integer
        format: int32
        example: 1
        description: 类型
        maximum: 2147483647
        minimum: 0
      protocol:
        type: integer
        format: int32
        example: 1
        description: protocol
        maximum: 2147483647
        minimum: 0
      role:
        type: integer
        format: int32
        example: 0
        description: 角色
        maximum: 2147483647
        minimum: 0
      remotePath:
        description: 挂载路径
        items:
          description: items
          properties:
            type:
              type: integer
              format: int32
              example: 0
              description: 类型
              maximum: 2147483647
              minimum: 0
            path:
              type: string
              example: /Database_76820ba179bd44aaa0007a8d07f1c1bc/source_policy_76820ba179bd44aaa0007a8d07f1c1bc_Context_Global_MD
              description: 路径
              maxLength: 256
              minLength: 0
            id:
              type: string
              example: 165
              description: id
              maxLength: 256
              minLength: 0
        type: array
      extendInfo:
        description: extendInfo
        properties:
          esn:
            type: string
            example: 2102353AXB2019062211
            description: esn
            maxLength: 256
            minLength: 0
          copy_format:
            type: integer
            format: int32
            example: 0
            description: copy_format
            maximum: 2147483647
            minimum: 0
      path:
        type: string
        example: null
        description: 路径
        maxLength: 256
        minLength: 0
      auth:
        type: string
        example: null
        description: 鉴权信息
        maxLength: 256
        minLength: 0
      extendAuth:
        description: extendAuth
        properties:
          authType:
            type: integer
            format: int32
            example: 2
            description: 鉴权类型
            maximum: 2147483647
            minimum: 0
          authKey:
            type: string
            example: admin
            description: 账号
            maxLength: 256
            minLength: 0
          authPwd:
            type: string
            example: Admin@storage1
            description: 密码
            maxLength: 256
            minLength: 0
          extendInfo:
            type: string
            example: null
            description: extendInfo
            maxLength: 256
            minLength: 0
      endpoint:
        description: ip
        properties:
          id:
            type: string
            example: null
            description: id
            maxLength: 256
            minLength: 0
          ip:
            type: string
            example: 8.40.98.92,8.40.98.93
            description: ip
            maxLength: 256
            minLength: 0
          port:
            type: integer
            format: int32
            example: 8088
            description: 端口
            maximum: 2147483647
            minimum: 0
          agentOS:
            type: string
            example: null
            description: agentOS
            maxLength: 256
            minLength: 0
      proxy:
        type: string
        example: null
        description: proxy
        maxLength: 256
        minLength: 0
      transProtocol:
        type: string
        example: null
        description: transProtocol
        maxLength: 256
        minLength: 0
      local:
        type: boolean
        example: true
        description: local
      isLocal:
        type: boolean
        example: true
        description: isLocal
  DataLayout:
    type: object
    properties:
      srcEncryption:
        type: boolean
        example: true
        description: srcEncryption
      dstDeduption:
        type: boolean
        example: true
        description: dstDeduption
      srcDeduption:
        type: boolean
        example: false
        description: srcDeduption
      linkEncryption:
        type: boolean
        example: false
        description: linkEncryption
      srcCompression:
        type: boolean
        example: false
        description: srcCompression
      dstEncryption:
        type: boolean
        example: false
        description: dstEncryption
      dstCompression:
        type: boolean
        example: true
        description: dstCompression
      clientProtocolType:
        type: integer
        format: int32
        example: 0
        description: clientProtocolType
        maximum: 2147483647
        minimum: 0
      characterSet:
        type: integer
        format: int32
        example: 0
        description: characterSet
        maximum: 2147483647
        minimum: 0
  DmeCopyInfo:
    type: object
    description: ubc副本信息
    properties:
      id:
        type: string
        example: fcbe1a5b-3a82-4177-99c8-3e52e34e7f0b
        description: id
        maxLength: 256
        minLength: 0
      snapshots:
        items:
          $ref: '#/definitions/StorageSnapshot'
        type: array
        description: snapshots
      timestamp:
        type: integer
        format: int32
        example: 1679468627
        description: 时间戳
        maximum: 2147483647
        minimum: 0
      status:
        type: integer
        format: int32
        example: 0
        description: 状态
        maximum: 2147483647
        minimum: 0
      sourceCopyType:
        type: string
        example: full
        description: sourceCopyType
        maxLength: 256
        minLength: 0
      type:
        type: string
        example: full
        description: 类型
        maxLength: 256
        minLength: 0
      format:
        type: integer
        format: int32
        example: 0
        description: format
        maximum: 2147483647
        minimum: 0
      size:
        type: integer
        format: int32
        example: 6312156
        description: 大小
        maximum: 2147483647
        minimum: 0
      protectObject:
        $ref: '#/definitions/TaskResource'
      protectEnv:
        $ref: '#/definitions/TaskEnvironment'
      protectSubObject:
        description: 保护对象
        type: array
        items:
          $ref: '#/definitions/TaskResource'
        example: null
      repositories:
        description: 数据仓
        items:
          $ref: '#/definitions/StorageRepository'
        type: array
      dataLayout:
        $ref: '#/definitions/DataLayout'
        description: dataLayout
      extendInfo:
        description: extendInfo
        additionalProperties:
          description: additionalProperties
          properties:
            BackupLevel:
              type: string
              example: 0
              description: BackupLevel
              maxLength: 256
              minLength: 0
            backupTime:
              type: integer
              format: int32
              example: 1679469473
              description: 备份时间
              maximum: 2147483647
              minimum: 0
            backup_algo:
              type: string
              example: AES256
              description: 是否启用加密
              maxLength: 256
              minLength: 0
            backup_algo_value:
              type: string
              example: AAAAAgAAAAAAAAAAAAAAAQAAAAn47wldHh8ZeWN2dUtuHs0aPbeUAcLXI51HV5xCAAAAAAAAAAAAAAAAAAAAGs9KUKF4V1nL7LytE4cESZp/r2+BAryqkY+o
              description: properties
            filelistParams:
              description: filelistParams
              properties:
                /1/FNO-1_TS-SYSTEM.dbf:
                  type: string
                  example: 2147491840
                  description: filelistParams
                  maxLength: 256
                  minLength: 0
                /3/FNO-3_TS-SYSAUX.dbf:
                  type: string
                  example: 2147491840
                  description: filelistParams
                  maxLength: 256
                  minLength: 0
                /4/FNO-4_TS-UNDOTBS1.dbf:
                  type: string
                  example: 2147491840
                  description: filelistParams
                  maxLength: 256
                  minLength: 0
                /6/FNO-6_TS-USERS.dbf:
                  type: string
                  example: 5251072
                  description: filelistParams
                  maxLength: 256
                  minLength: 0
                /additional/ctrlfiles:
                  type: string
                  example: 46
                  description: filelistParams
                  maxLength: 256
                  minLength: 0
                /additional/dataguardconffiles:
                  type: string
                  example: 1
                  description: filelistParams
                  maxLength: 256
                  minLength: 0
                /additional/dbfiles:
                  type: string
                  example: 214
                  description: filelistParams
                  maxLength: 256
                  minLength: 0
                /additional/dbinfo:
                  type: string
                  example: 57
                  description: filelistParams
                  maxLength: 256
                  minLength: 0
                /additional/dbs/orapwhwdb:
                  type: string
                  example: 7680
                  description: filelistParams
                  maxLength: 256
                  minLength: 0
                /additional/env_file:
                  type: string
                  example: 75
                  description: filelistParams
                  maxLength: 256
                  minLength: 0
                /additional/first_backup_success:
                  type: string
                  example: 0
                  description: filelistParams
                  maxLength: 256
                  minLength: 0
                /additional/logfiles:
                  type: string
                  example: 276
                  description: filelistParams
                  maxLength: 256
                  minLength: 0
                /additional/netadmin/listener.ora:
                  type: string
                  example: 320
                  description: filelistParams
                  maxLength: 256
                  minLength: 0
                /additional/netadmin/samples/listener.ora:
                  type: string
                  example: 3867
                  description: filelistParams
                  maxLength: 256
                  minLength: 0
                /additional/netadmin/samples/sqlnet.ora:
                  type: string
                  example: 32812
                  description: filelistParams
                  maxLength: 256
                  minLength: 0
                /additional/netadmin/samples/tnsnames.ora:
                  type: string
                  example: 2939
                  description: filelistParams
                  maxLength: 256
                  minLength: 0
                /additional/netadmin/shrept.lst:
                  type: string
                  example: 373
                  description: filelistParams
                  maxLength: 256
                  minLength: 0
                /additional/netadmin/sqlnet.ora:
                  type: string
                  example: 38
                  description: filelistParams
                  maxLength: 256
                  minLength: 0
                /additional/netadmin/tnsnames.ora:
                  type: string
                  example: 392
                  description: filelistParams
                  maxLength: 256
                  minLength: 0
                /additional/ok:
                  type: string
                  example: 0
                  description: filelistParams
                /additional/scn_dbf_max:
                  type: string
                  example: 30
                  description: filelistParams
                  maxLength: 256
                  minLength: 0
                /additional/spfile:
                  type: string
                  example: 48
                  description: filelistParams
                  maxLength: 256
                  minLength: 0
                /controlfile.ctl:
                  type: string
                  example: 12369920
                  description: filelistParams
                  maxLength: 256
                  minLength: 0
                /ebackup-hwdb-pfile.ora:
                  type: string
                  example: 972
                  description: filelistParams
                  maxLength: 256
                  minLength: 0
                /log/arch_D-HWDB_id-1896664681_S-44_T-1_A-1132003472_ks1nmjd3.log:
                  type: string
                  example: 3038720
                  description: filelistParams
                  maxLength: 256
                  minLength: 0
                /log/arch_D-HWDB_id-1896664681_S-45_T-1_A-1132003472_kt1nmjd3.log:
                  type: string
                  example: 1024
                  description: filelistParams
                  maxLength: 256
                  minLength: 0
                /spfile.bs:
                  type: string
                  example: 98304
                  description: filelistParams
                  maxLength: 256
                  minLength: 0
            last_backup_scn:
              type: string
              example: 2411441
              description: 副本的scn
              maxLength: 256
              minLength: 0
            pfileParams:
              description: pfileParams
              properties:
                '*.audit_file_dest':
                  type: string
                  example: '''/u01/app/oracle_base/admin/hwdb/adump'''
                  description: pfileParams
                  maxLength: 256
                  minLength: 0
                '*.audit_trail':
                  type: string
                  example: '''db'''
                  description: pfileParams
                  maxLength: 256
                  minLength: 0
                '*.compatible':
                  type: string
                  example: '''12.1.0.2.0'''
                  description: pfileParams
                  maxLength: 256
                  minLength: 0
                '*.control_files':
                  type: string
                  example: '''+REDO/HWDB/CONTROLFILE/current.256.1131134441''#Restore Controlfile'
                  description: pfileParams
                  maxLength: 256
                  minLength: 0
                '*.db_block_size':
                  type: string
                  example: 8192
                  description: pfileParams
                  maxLength: 256
                  minLength: 0
                '*.db_create_file_dest':
                  type: string
                  example: '''+DATA'''
                  description: pfileParams
                  maxLength: 256
                  minLength: 0
                '*.db_create_online_log_dest_1':
                  type: string
                  example: '''+REDO'''
                  description: pfileParams
                  maxLength: 256
                  minLength: 0
                '*.db_domain':
                  type: string
                  example: ''''''
                  description: pfileParams
                  maxLength: 256
                  minLength: 0
                '*.db_name':
                  type: string
                  example: '''hwdb'''
                  description: pfileParams
                  maxLength: 256
                  minLength: 0
                '*.diagnostic_dest':
                  type: string
                  example: '''/u01/app/oracle_base'''
                  description: pfileParams
                  maxLength: 256
                  minLength: 0
                '*.dispatchers':
                  type: string
                  example: '''(PROTOCOL=TCP) (SERVICE=hwdbXDB)'''
                  description: pfileParams
                  maxLength: 256
                  minLength: 0
                '*.log_archive_dest_1':
                  type: string
                  example: '''location=+REDO'''
                  description: pfileParams
                  maxLength: 256
                  minLength: 0
                '*.open_cursors':
                  type: string
                  example: 300
                  description: pfileParams
                  maxLength: 256
                  minLength: 0
                '*.pga_aggregate_target':
                  type: string
                  example: '977m'
                  description: pfileParams
                  maxLength: 256
                  minLength: 0
                '*.processes':
                  type: string
                  example: 500
                  description: pfileParams
                  maxLength: 256
                  minLength: 0
                '*.remote_login_passwordfile':
                  type: string
                  example: '''EXCLUSIVE'''
                  description: pfileParams
                  maxLength: 256
                  minLength: 0
                '*.sessions':
                  type: string
                  example: 500
                  description: pfileParams
                  maxLength: 256
                  minLength: 0
                '*.sga_target':
                  type: string
                  example: '2932m'
                  description: pfileParams
                  maxLength: 256
                  minLength: 0
                '*.undo_tablespace':
                  type: string
                  example: '''UNDOTBS1'''
                  description: pfileParams
                  maxLength: 256
                  minLength: 0
                hwdb.__data_transfer_cache_size:
                  type: string
                  example: 0
                  maxLength: 256
                  minLength: 0
                  description: pfileParams
                hwdb.__db_cache_size:
                  type: string
                  example: 2298478592
                  maxLength: 256
                  minLength: 0
                  description: pfileParams
                hwdb.__java_pool_size:
                  type: string
                  example: 16777216
                  maxLength: 256
                  minLength: 0
                  description: pfileParams
                hwdb.__large_pool_size:
                  type: string
                  example: 33554432
                  maxLength: 256
                  minLength: 0
                  description: pfileParams
                hwdb.__oracle_base:
                  type: string
                  example: '''/u01/app/oracle_base''#ORACLE_BASE set from environment'
                  maxLength: 256
                  minLength: 0
                  description: pfileParams
                hwdb.__pga_aggregate_target:
                  type: string
                  example: 1040187392
                  maxLength: 256
                  minLength: 0
                  description: pfileParams
                hwdb.__sga_target:
                  type: string
                  example: 3087007744
                  maxLength: 256
                  minLength: 0
                  description: pfileParams
                hwdb.__shared_io_pool_size:
                  type: string
                  example: 150994944
                  maxLength: 256
                  minLength: 0
                  description: pfileParams
                hwdb.__shared_pool_size:
                  type: string
                  example: 570425344
                  maxLength: 256
                  minLength: 0
                  description: pfileParams
                hwdb.__streams_pool_size:
                  type: string
                  example: 0
                  maxLength: 256
                  minLength: 0
                  description: pfileParams
            resetlogs_id:
              type: string
              example: 1132003472
              maxLength: 256
              minLength: 0
              description: resetlogs_id
            scn:
              type: integer
              format: int32
              example: 2411441
              description: scn
            timeStamp:
              type: string
              example: 1679469473
              maxLength: 256
              minLength: 0
              description: timeStamp
            multiFileSystem:
              type: string
              example: false
              maxLength: 256
              minLength: 0
              description: multiFileSystem
            dataBeforeReduction:
              type: integer
              format: int32
              example: 139221371
              description: dataBeforeReduction
            dataAfterReduction:
              type: integer
              format: int32
              example: 39565971
              description: dataAfterReduction
        type: object
      copyVerifyStatus:
        type: string
        example: VERIFY_FILE_NOT_EXIST
        description: copyVerifyStatus
  Authentication:
    type: object
    properties:
      authType:
        type: integer
        format: int32
        description: 鉴权类型
      authKey:
        type: string
        description: 用户名
      authPwd:
        type: string
        description: 密码
      extendInfo:
        type: object
        description: extendInfo
        additionalProperties:
          type: string
  DownloadFilesReq:
    type: object
    properties:
      recordId:
        type: string
      paths:
        type: array
        items:
          type: string
